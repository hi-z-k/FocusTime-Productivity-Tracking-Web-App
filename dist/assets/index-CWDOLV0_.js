var $3=Object.defineProperty;var F3=(t,e,n)=>e in t?$3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vv=(t,e,n)=>F3(t,typeof e!="symbol"?e+"":e,n);function H3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SR={exports:{}},Op={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=Symbol.for("react.transitional.element"),G3=Symbol.for("react.fragment");function AR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:q3,type:t,key:r,ref:e!==void 0?e:null,props:n}}Op.Fragment=G3;Op.jsx=AR;Op.jsxs=AR;SR.exports=Op;var T=SR.exports,xR={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=Symbol.for("react.transitional.element"),K3=Symbol.for("react.portal"),Y3=Symbol.for("react.fragment"),W3=Symbol.for("react.strict_mode"),X3=Symbol.for("react.profiler"),Q3=Symbol.for("react.consumer"),Z3=Symbol.for("react.context"),J3=Symbol.for("react.forward_ref"),e6=Symbol.for("react.suspense"),t6=Symbol.for("react.memo"),CR=Symbol.for("react.lazy"),n6=Symbol.for("react.activity"),tS=Symbol.iterator;function r6(t){return t===null||typeof t!="object"?null:(t=tS&&t[tS]||t["@@iterator"],typeof t=="function"?t:null)}var OR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IR=Object.assign,RR={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=RR,this.updater=n||OR}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PR(){}PR.prototype=Wl.prototype;function xb(t,e,n){this.props=t,this.context=e,this.refs=RR,this.updater=n||OR}var Cb=xb.prototype=new PR;Cb.constructor=xb;IR(Cb,Wl.prototype);Cb.isPureReactComponent=!0;var nS=Array.isArray;function o0(){}var Ke={H:null,A:null,T:null,S:null},NR=Object.prototype.hasOwnProperty;function Ob(t,e,n){var r=n.ref;return{$$typeof:Ab,type:t,key:e,ref:r!==void 0?r:null,props:n}}function i6(t,e){return Ob(t.type,e,t.props)}function Ib(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ab}function a6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rS=/\/+/g;function Uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a6(""+t.key):e.toString(36)}function s6(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(o0,o0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function zo(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ab:case K3:s=!0;break;case CR:return s=t._init,zo(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Uv(t,0):r,nS(i)?(n="",s!=null&&(n=s.replace(rS,"$&/")+"/"),zo(i,e,n,"",function(u){return u})):i!=null&&(Ib(i)&&(i=i6(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(rS,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(nS(t))for(var l=0;l<t.length;l++)r=t[l],a=o+Uv(r,l),s+=zo(r,e,n,a,i);else if(l=r6(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+Uv(r,l++),s+=zo(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return zo(s6(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Oh(t,e,n){if(t==null)return t;var r=[],i=0;return zo(t,r,"","",function(a){return e.call(n,a,i++)}),r}function o6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var iS=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},l6={map:Oh,forEach:function(t,e,n){Oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oh(t,function(){e++}),e},toArray:function(t){return Oh(t,function(e){return e})||[]},only:function(t){if(!Ib(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Activity=n6;oe.Children=l6;oe.Component=Wl;oe.Fragment=Y3;oe.Profiler=X3;oe.PureComponent=xb;oe.StrictMode=W3;oe.Suspense=e6;oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ke;oe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ke.H.useMemoCache(t)}};oe.cache=function(t){return function(){return t.apply(null,arguments)}};oe.cacheSignal=function(){return null};oe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=IR({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!NR.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return Ob(t.type,i,r)};oe.createContext=function(t){return t={$$typeof:Z3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Q3,_context:t},t};oe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)NR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return Ob(t,a,i)};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:J3,render:t}};oe.isValidElement=Ib;oe.lazy=function(t){return{$$typeof:CR,_payload:{_status:-1,_result:t},_init:o6}};oe.memo=function(t,e){return{$$typeof:t6,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Ke.T,n={};Ke.T=n;try{var r=t(),i=Ke.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(o0,iS)}catch(a){iS(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ke.T=e}};oe.unstable_useCacheRefresh=function(){return Ke.H.useCacheRefresh()};oe.use=function(t){return Ke.H.use(t)};oe.useActionState=function(t,e,n){return Ke.H.useActionState(t,e,n)};oe.useCallback=function(t,e){return Ke.H.useCallback(t,e)};oe.useContext=function(t){return Ke.H.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t,e){return Ke.H.useDeferredValue(t,e)};oe.useEffect=function(t,e){return Ke.H.useEffect(t,e)};oe.useEffectEvent=function(t){return Ke.H.useEffectEvent(t)};oe.useId=function(){return Ke.H.useId()};oe.useImperativeHandle=function(t,e,n){return Ke.H.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ke.H.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ke.H.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ke.H.useMemo(t,e)};oe.useOptimistic=function(t,e){return Ke.H.useOptimistic(t,e)};oe.useReducer=function(t,e,n){return Ke.H.useReducer(t,e,n)};oe.useRef=function(t){return Ke.H.useRef(t)};oe.useState=function(t){return Ke.H.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ke.H.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ke.H.useTransition()};oe.version="19.2.3";xR.exports=oe;var _=xR.exports;const DR=Qi(_),u6=H3({__proto__:null,default:DR},[_]);var MR={exports:{}},Ip={},kR={exports:{}},jR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var K=U.length;U.push(Y);e:for(;0<K;){var J=K-1>>>1,_e=U[J];if(0<i(_e,Y))U[J]=Y,U[K]=_e,K=J;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],K=U.pop();if(K!==Y){U[0]=K;e:for(var J=0,_e=U.length,pt=_e>>>1;J<pt;){var gt=2*(J+1)-1,mn=U[gt],ee=gt+1,Ae=U[ee];if(0>i(mn,K))ee<_e&&0>i(Ae,mn)?(U[J]=Ae,U[ee]=K,J=ee):(U[J]=mn,U[gt]=K,J=gt);else if(ee<_e&&0>i(Ae,K))U[J]=Ae,U[ee]=K,J=ee;else break e}}return Y}function i(U,Y){var K=U.sortIndex-Y.sortIndex;return K!==0?K:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,d=3,m=!1,g=!1,y=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(U){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=U)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function N(U){if(y=!1,O(U),!g)if(n(l)!==null)g=!0,k||(k=!0,M());else{var Y=n(u);Y!==null&&q(N,Y.startTime-U)}}var k=!1,A=-1,x=5,C=-1;function P(){return w?!0:!(t.unstable_now()-C<x)}function R(){if(w=!1,k){var U=t.unstable_now();C=U;var Y=!0;try{e:{g=!1,y&&(y=!1,E(A),A=-1),m=!0;var K=d;try{t:{for(O(U),h=n(l);h!==null&&!(h.expirationTime>U&&P());){var J=h.callback;if(typeof J=="function"){h.callback=null,d=h.priorityLevel;var _e=J(h.expirationTime<=U);if(U=t.unstable_now(),typeof _e=="function"){h.callback=_e,O(U),Y=!0;break t}h===n(l)&&r(l),O(U)}else r(l);h=n(l)}if(h!==null)Y=!0;else{var pt=n(u);pt!==null&&q(N,pt.startTime-U),Y=!1}}break e}finally{h=null,d=K,m=!1}Y=void 0}}finally{Y?M():k=!1}}}var M;if(typeof S=="function")M=function(){S(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=R,M=function(){Z.postMessage(null)}}else M=function(){v(R,0)};function q(U,Y){A=v(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(U){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var K=d;d=Y;try{return U()}finally{d=K}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=d;d=U;try{return Y()}finally{d=K}},t.unstable_scheduleCallback=function(U,Y,K){var J=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=K+_e,U={id:c++,callback:Y,priorityLevel:U,startTime:K,expirationTime:_e,sortIndex:-1},K>J?(U.sortIndex=K,e(u,U),n(l)===null&&U===n(u)&&(y?(E(A),A=-1):y=!0,q(N,K-J))):(U.sortIndex=_e,e(l,U),g||m||(g=!0,k||(k=!0,M()))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var Y=d;return function(){var K=d;d=Y;try{return U.apply(this,arguments)}finally{d=K}}}})(jR);kR.exports=jR;var c6=kR.exports,LR={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f6=_;function VR(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ma(){}var bn={d:{f:ma,r:function(){throw Error(VR(522))},D:ma,C:ma,L:ma,m:ma,X:ma,S:ma,M:ma},p:0,findDOMNode:null},h6=Symbol.for("react.portal");function d6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h6,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var fc=f6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Rp(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bn;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(VR(299));return d6(t,e,null,n)};Sn.flushSync=function(t){var e=fc.T,n=bn.p;try{if(fc.T=null,bn.p=2,t)return t()}finally{fc.T=e,bn.p=n,bn.d.f()}};Sn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bn.d.C(t,e))};Sn.prefetchDNS=function(t){typeof t=="string"&&bn.d.D(t)};Sn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Rp(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&bn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Sn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Rp(e.as,e.crossOrigin);bn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bn.d.M(t)};Sn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Rp(n,e.crossOrigin);bn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Sn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Rp(e.as,e.crossOrigin);bn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bn.d.m(t)};Sn.requestFormReset=function(t){bn.d.r(t)};Sn.unstable_batchedUpdates=function(t,e){return t(e)};Sn.useFormState=function(t,e,n){return fc.H.useFormState(t,e,n)};Sn.useFormStatus=function(){return fc.H.useHostTransitionStatus()};Sn.version="19.2.3";function UR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UR)}catch(t){console.error(t)}}UR(),LR.exports=Sn;var zR=LR.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt=c6,BR=_,m6=zR;function B(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $R(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HR(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aS(t){if(bf(t)!==t)throw Error(B(188))}function p6(t){var e=t.alternate;if(!e){if(e=bf(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return aS(i),t;if(a===r)return aS(i),e;a=a.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function qR(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=qR(t),e!==null)return e;t=t.sibling}return null}var We=Object.assign,g6=Symbol.for("react.element"),Ih=Symbol.for("react.transitional.element"),Zu=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),GR=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),KR=Symbol.for("react.consumer"),wi=Symbol.for("react.context"),Rb=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),c0=Symbol.for("react.suspense_list"),Pb=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),f0=Symbol.for("react.activity"),v6=Symbol.for("react.memo_cache_sentinel"),sS=Symbol.iterator;function Lu(t){return t===null||typeof t!="object"?null:(t=sS&&t[sS]||t["@@iterator"],typeof t=="function"?t:null)}var y6=Symbol.for("react.client.reference");function h0(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===y6?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case l0:return"Profiler";case GR:return"StrictMode";case u0:return"Suspense";case c0:return"SuspenseList";case f0:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Zu:return"Portal";case wi:return t.displayName||"Context";case KR:return(t._context.displayName||"Context")+".Consumer";case Rb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pb:return e=t.displayName||null,e!==null?e:h0(t.type)||"Memo";case ya:e=t._payload,t=t._init;try{return h0(t(e))}catch{}}return null}var Ju=Array.isArray,ie=BR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=m6.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hs={pending:!1,data:null,method:null,action:null},d0=[],Wo=-1;function si(t){return{current:t}}function $t(t){0>Wo||(t.current=d0[Wo],d0[Wo]=null,Wo--)}function Be(t,e){Wo++,d0[Wo]=t.current,t.current=e}var Wr=si(null),Dc=si(null),ja=si(null),Fd=si(null);function Hd(t,e){switch(Be(ja,e),Be(Dc,t),Be(Wr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hA(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hA(e),t=d2(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$t(Wr),Be(Wr,t)}function El(){$t(Wr),$t(Dc),$t(ja)}function m0(t){t.memoizedState!==null&&Be(Fd,t);var e=Wr.current,n=d2(e,t.type);e!==n&&(Be(Dc,t),Be(Wr,n))}function qd(t){Dc.current===t&&($t(Wr),$t(Dc)),Fd.current===t&&($t(Fd),Hc._currentValue=Hs)}var zv,oS;function Ps(t){if(zv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zv=e&&e[1]||"",oS=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zv+t+oS}var Bv=!1;function $v(t,e){if(!t||Bv)return"";Bv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var d=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){d=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){d=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{Bv=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ps(n):""}function _6(t,e){switch(t.tag){case 26:case 27:case 5:return Ps(t.type);case 16:return Ps("Lazy");case 13:return t.child!==e&&e!==null?Ps("Suspense Fallback"):Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 15:return $v(t.type,!1);case 11:return $v(t.type.render,!1);case 1:return $v(t.type,!0);case 31:return Ps("Activity");default:return""}}function lS(t){try{var e="",n=null;do e+=_6(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var p0=Object.prototype.hasOwnProperty,Nb=Pt.unstable_scheduleCallback,Fv=Pt.unstable_cancelCallback,b6=Pt.unstable_shouldYield,E6=Pt.unstable_requestPaint,Gn=Pt.unstable_now,w6=Pt.unstable_getCurrentPriorityLevel,YR=Pt.unstable_ImmediatePriority,WR=Pt.unstable_UserBlockingPriority,Gd=Pt.unstable_NormalPriority,T6=Pt.unstable_LowPriority,XR=Pt.unstable_IdlePriority,S6=Pt.log,A6=Pt.unstable_setDisableYieldValue,Ef=null,Kn=null;function Ia(t){if(typeof S6=="function"&&A6(t),Kn&&typeof Kn.setStrictMode=="function")try{Kn.setStrictMode(Ef,t)}catch{}}var Yn=Math.clz32?Math.clz32:O6,x6=Math.log,C6=Math.LN2;function O6(t){return t>>>=0,t===0?32:31-(x6(t)/C6|0)|0}var Rh=256,Ph=262144,Nh=4194304;function Ns(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pp(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Ns(r):(s&=o,s!==0?i=Ns(s):n||(n=o&~t,n!==0&&(i=Ns(n))))):(o=r&~a,o!==0?i=Ns(o):s!==0?i=Ns(s):n||(n=r&~t,n!==0&&(i=Ns(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function wf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function I6(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QR(){var t=Nh;return Nh<<=1,!(Nh&62914560)&&(Nh=4194304),t}function Hv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function R6(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var c=31-Yn(n),h=1<<c;o[c]=0,l[c]=-1;var d=u[c];if(d!==null)for(u[c]=null,c=0;c<d.length;c++){var m=d[c];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&ZR(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function ZR(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Yn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function JR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function eP(t,e){var n=e&-e;return n=n&42?1:Db(n),n&(t.suspendedLanes|e)?0:n}function Db(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mb(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tP(){var t=Ce.p;return t!==0?t:(t=window.event,t===void 0?32:S2(t.type))}function uS(t,e){var n=Ce.p;try{return Ce.p=t,e()}finally{Ce.p=n}}var hs=Math.random().toString(36).slice(2),Qt="__reactFiber$"+hs,Dn="__reactProps$"+hs,Xl="__reactContainer$"+hs,g0="__reactEvents$"+hs,P6="__reactListeners$"+hs,N6="__reactHandles$"+hs,cS="__reactResources$"+hs,Sf="__reactMarker$"+hs;function kb(t){delete t[Qt],delete t[Dn],delete t[g0],delete t[P6],delete t[N6]}function Xo(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xl]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vA(t);t!==null;){if(n=t[Qt])return n;t=vA(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){if(t=t[Qt]||t[Xl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ec(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(B(33))}function ll(t){var e=t[cS];return e||(e=t[cS]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Bt(t){t[Sf]=!0}var nP=new Set,rP={};function bo(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(rP[t]=e,t=0;t<e.length;t++)nP.add(e[t])}var D6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fS={},hS={};function M6(t){return p0.call(hS,t)?!0:p0.call(fS,t)?!1:D6.test(t)?hS[t]=!0:(fS[t]=!0,!1)}function fd(t,e,n){if(M6(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Dh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function li(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function sr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k6(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function v0(t){if(!t._valueTracker){var e=iP(t)?"checked":"value";t._valueTracker=k6(t,e,""+t[e])}}function aP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var j6=/[\n"\\]/g;function ur(t){return t.replace(j6,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function y0(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+sr(e)):t.value!==""+sr(e)&&(t.value=""+sr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?_0(t,s,sr(e)):n!=null?_0(t,s,sr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+sr(o):t.removeAttribute("name")}function sP(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){v0(t);return}n=n!=null?""+sr(n):"",e=e!=null?""+sr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),v0(t)}function _0(t,e,n){e==="number"&&Kd(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ul(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oP(t,e,n){if(e!=null&&(e=""+sr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+sr(n):""}function lP(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(B(92));if(Ju(r)){if(1<r.length)throw Error(B(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=sr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),v0(t)}function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var L6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dS(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||L6.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function uP(t,e,n){if(e!=null&&typeof e!="object")throw Error(B(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&dS(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&dS(t,a,e[a])}function jb(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hd(t){return U6.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ti(){}var b0=null;function Lb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qo=null,cl=null;function mS(t){var e=Ql(t);if(e&&(t=e.stateNode)){var n=t[Dn]||null;e:switch(t=e.stateNode,e.type){case"input":if(y0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ur(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Dn]||null;if(!i)throw Error(B(90));y0(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&aP(r)}break e;case"textarea":oP(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ul(t,!!n.multiple,e,!1)}}}var qv=!1;function cP(t,e,n){if(qv)return t(e,n);qv=!0;try{var r=t(e);return r}finally{if(qv=!1,(Qo!==null||cl!==null)&&(Fp(),Qo&&(e=Qo,t=cl,cl=Qo=null,mS(e),t)))for(e=0;e<t.length;e++)mS(t[e])}}function Mc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Dn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E0=!1;if(Mi)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){E0=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{E0=!1}var Ra=null,Vb=null,dd=null;function fP(){if(dd)return dd;var t,e=Vb,n=e.length,r,i="value"in Ra?Ra.value:Ra.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return dd=i.slice(t,1<r?1-r:void 0)}function md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mh(){return!0}function pS(){return!1}function Mn(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mh:pS,this.isPropagationStopped=pS,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=Mn(Eo),Af=We({},Eo,{view:0,detail:0}),z6=Mn(Af),Gv,Kv,Uu,Dp=We({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ub,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uu&&(Uu&&t.type==="mousemove"?(Gv=t.screenX-Uu.screenX,Kv=t.screenY-Uu.screenY):Kv=Gv=0,Uu=t),Gv)},movementY:function(t){return"movementY"in t?t.movementY:Kv}}),gS=Mn(Dp),B6=We({},Dp,{dataTransfer:0}),$6=Mn(B6),F6=We({},Af,{relatedTarget:0}),Yv=Mn(F6),H6=We({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),q6=Mn(H6),G6=We({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K6=Mn(G6),Y6=We({},Eo,{data:0}),vS=Mn(Y6),W6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q6[t])?!!e[t]:!1}function Ub(){return Z6}var J6=We({},Af,{key:function(t){if(t.key){var e=W6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ub,charCode:function(t){return t.type==="keypress"?md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eU=Mn(J6),tU=We({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yS=Mn(tU),nU=We({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ub}),rU=Mn(nU),iU=We({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),aU=Mn(iU),sU=We({},Dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oU=Mn(sU),lU=We({},Eo,{newState:0,oldState:0}),uU=Mn(lU),cU=[9,13,27,32],zb=Mi&&"CompositionEvent"in window,hc=null;Mi&&"documentMode"in document&&(hc=document.documentMode);var fU=Mi&&"TextEvent"in window&&!hc,hP=Mi&&(!zb||hc&&8<hc&&11>=hc),_S=" ",bS=!1;function dP(t,e){switch(t){case"keyup":return cU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function hU(t,e){switch(t){case"compositionend":return mP(e);case"keypress":return e.which!==32?null:(bS=!0,_S);case"textInput":return t=e.data,t===_S&&bS?null:t;default:return null}}function dU(t,e){if(Zo)return t==="compositionend"||!zb&&dP(t,e)?(t=fP(),dd=Vb=Ra=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hP&&e.locale!=="ko"?null:e.data;default:return null}}var mU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ES(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mU[t.type]:e==="textarea"}function pP(t,e,n,r){Qo?cl?cl.push(r):cl=[r]:Qo=r,e=fm(e,"onChange"),0<e.length&&(n=new Np("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dc=null,kc=null;function pU(t){c2(t,0)}function Mp(t){var e=ec(t);if(aP(e))return t}function wS(t,e){if(t==="change")return e}var gP=!1;if(Mi){var Wv;if(Mi){var Xv="oninput"in document;if(!Xv){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),Xv=typeof TS.oninput=="function"}Wv=Xv}else Wv=!1;gP=Wv&&(!document.documentMode||9<document.documentMode)}function SS(){dc&&(dc.detachEvent("onpropertychange",vP),kc=dc=null)}function vP(t){if(t.propertyName==="value"&&Mp(kc)){var e=[];pP(e,kc,t,Lb(t)),cP(pU,e)}}function gU(t,e,n){t==="focusin"?(SS(),dc=e,kc=n,dc.attachEvent("onpropertychange",vP)):t==="focusout"&&SS()}function vU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mp(kc)}function yU(t,e){if(t==="click")return Mp(e)}function _U(t,e){if(t==="input"||t==="change")return Mp(e)}function bU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:bU;function jc(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!p0.call(e,i)||!Qn(t[i],e[i]))return!1}return!0}function AS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xS(t,e){var n=AS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AS(n)}}function yP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _P(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Kd(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kd(t.document)}return e}function Bb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var EU=Mi&&"documentMode"in document&&11>=document.documentMode,Jo=null,w0=null,mc=null,T0=!1;function CS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T0||Jo==null||Jo!==Kd(r)||(r=Jo,"selectionStart"in r&&Bb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mc&&jc(mc,r)||(mc=r,r=fm(w0,"onSelect"),0<r.length&&(e=new Np("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jo)))}function Rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var el={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Qv={},bP={};Mi&&(bP=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function wo(t){if(Qv[t])return Qv[t];if(!el[t])return t;var e=el[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bP)return Qv[t]=e[n];return t}var EP=wo("animationend"),wP=wo("animationiteration"),TP=wo("animationstart"),wU=wo("transitionrun"),TU=wo("transitionstart"),SU=wo("transitioncancel"),SP=wo("transitionend"),AP=new Map,S0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");S0.push("scrollEnd");function Ur(t,e){AP.set(t,e),bo(e,[t])}var Yd=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ar=[],tl=0,$b=0;function kp(){for(var t=tl,e=$b=tl=0;e<t;){var n=ar[e];ar[e++]=null;var r=ar[e];ar[e++]=null;var i=ar[e];ar[e++]=null;var a=ar[e];if(ar[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&xP(n,i,a)}}function jp(t,e,n,r){ar[tl++]=t,ar[tl++]=e,ar[tl++]=n,ar[tl++]=r,$b|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Fb(t,e,n,r){return jp(t,e,n,r),Wd(t)}function To(t,e){return jp(t,null,null,e),Wd(t)}function xP(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Yn(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Wd(t){if(50<Tc)throw Tc=0,q0=null,Error(B(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var nl={};function AU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,n,r){return new AU(t,e,n,r)}function Hb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,e){var n=t.alternate;return n===null?(n=zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function CP(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function pd(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")Hb(t)&&(s=1);else if(typeof t=="string")s=Rz(t,n,Wr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case f0:return t=zn(31,n,e,i),t.elementType=f0,t.lanes=a,t;case Yo:return qs(n.children,i,a,e);case GR:s=8,i|=24;break;case l0:return t=zn(12,n,e,i|2),t.elementType=l0,t.lanes=a,t;case u0:return t=zn(13,n,e,i),t.elementType=u0,t.lanes=a,t;case c0:return t=zn(19,n,e,i),t.elementType=c0,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wi:s=10;break e;case KR:s=9;break e;case Rb:s=11;break e;case Pb:s=14;break e;case ya:s=16,r=null;break e}s=29,n=Error(B(130,t===null?"null":typeof t,"")),r=null}return e=zn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function qs(t,e,n,r){return t=zn(7,t,r,e),t.lanes=n,t}function Zv(t,e,n){return t=zn(6,t,null,e),t.lanes=n,t}function OP(t){var e=zn(18,null,null,0);return e.stateNode=t,e}function Jv(t,e,n){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var OS=new WeakMap;function cr(t,e){if(typeof t=="object"&&t!==null){var n=OS.get(t);return n!==void 0?n:(e={value:t,source:e,stack:lS(e)},OS.set(t,e),e)}return{value:t,source:e,stack:lS(e)}}var rl=[],il=0,Xd=null,Lc=0,or=[],lr=0,Za=null,qr=1,Gr="";function pi(t,e){rl[il++]=Lc,rl[il++]=Xd,Xd=t,Lc=e}function IP(t,e,n){or[lr++]=qr,or[lr++]=Gr,or[lr++]=Za,Za=t;var r=qr;t=Gr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var a=32-Yn(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qr=1<<32-Yn(e)+i|n<<i|r,Gr=a+t}else qr=1<<a|n<<i|r,Gr=t}function qb(t){t.return!==null&&(pi(t,1),IP(t,1,0))}function Gb(t){for(;t===Xd;)Xd=rl[--il],rl[il]=null,Lc=rl[--il],rl[il]=null;for(;t===Za;)Za=or[--lr],or[lr]=null,Gr=or[--lr],or[lr]=null,qr=or[--lr],or[lr]=null}function RP(t,e){or[lr++]=qr,or[lr++]=Gr,or[lr++]=Za,qr=e.id,Gr=e.overflow,Za=t}var Zt=null,qe=null,be=!1,La=null,fr=!1,A0=Error(B(519));function Ja(t){var e=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(cr(e,t)),A0}function IS(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Qt]=t,e[Dn]=r,n){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(n=0;n<$c.length;n++)he($c[n],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),sP(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),lP(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||h2(e.textContent,n)?(r.popover!=null&&(he("beforetoggle",e),he("toggle",e)),r.onScroll!=null&&he("scroll",e),r.onScrollEnd!=null&&he("scrollend",e),r.onClick!=null&&(e.onclick=Ti),e=!0):e=!1,e||Ja(t,!0)}function RS(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:Zt=Zt.return}}function ko(t){if(t!==Zt)return!1;if(!be)return RS(t),be=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||X0(t.type,t.memoizedProps)),n=!n),n&&qe&&Ja(t),RS(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));qe=gA(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));qe=gA(t)}else e===27?(e=qe,ds(t.type)?(t=e_,e_=null,qe=t):qe=e):qe=Zt?pr(t.stateNode.nextSibling):null;return!0}function eo(){qe=Zt=null,be=!1}function ey(){var t=La;return t!==null&&(On===null?On=t:On.push.apply(On,t),La=null),t}function Vc(t){La===null?La=[t]:La.push(t)}var x0=si(null),So=null,Si=null;function wa(t,e,n){Be(x0,e._currentValue),e._currentValue=n}function Ri(t){t._currentValue=x0.current,$t(x0)}function C0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function O0(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),C0(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),C0(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Zl(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(B(387));if(s=s.memoizedProps,s!==null){var o=i.type;Qn(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Fd.current){if(s=i.alternate,s===null)throw Error(B(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Hc):t=[Hc])}i=i.return}t!==null&&O0(e,t,n,r),e.flags|=262144}function Qd(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function to(t){So=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return PP(So,t)}function kh(t,e){return So===null&&to(t),PP(t,e)}function PP(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Si===null){if(t===null)throw Error(B(308));Si=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Si=Si.next=e;return n}var xU=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},CU=Pt.unstable_scheduleCallback,OU=Pt.unstable_NormalPriority,Et={$$typeof:wi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kb(){return{controller:new xU,data:new Map,refCount:0}}function xf(t){t.refCount--,t.refCount===0&&CU(OU,function(){t.controller.abort()})}var pc=null,I0=0,Sl=0,fl=null;function IU(t,e){if(pc===null){var n=pc=[];I0=0,Sl=yE(),fl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return I0++,e.then(PS,PS),e}function PS(){if(--I0===0&&pc!==null){fl!==null&&(fl.status="fulfilled");var t=pc;pc=null,Sl=0,fl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function RU(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var NS=ie.S;ie.S=function(t,e){qN=Gn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&IU(t,e),NS!==null&&NS(t,e)};var Gs=si(null);function Yb(){var t=Gs.current;return t!==null?t:Le.pooledCache}function gd(t,e){e===null?Be(Gs,Gs.current):Be(Gs,e.pool)}function NP(){var t=Yb();return t===null?null:{parent:Et._currentValue,pool:t}}var Jl=Error(B(460)),Wb=Error(B(474)),Lp=Error(B(542)),Zd={then:function(){}};function DS(t){return t=t.status,t==="fulfilled"||t==="rejected"}function DP(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ti,Ti),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kS(t),t;default:if(typeof e.status=="string")e.then(Ti,Ti);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(B(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kS(t),t}throw Ks=e,Jl}}function Ds(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ks=n,Jl):n}}var Ks=null;function MS(){if(Ks===null)throw Error(B(459));var t=Ks;return Ks=null,t}function kS(t){if(t===Jl||t===Lp)throw Error(B(483))}var hl=null,Uc=0;function jh(t){var e=Uc;return Uc+=1,hl===null&&(hl=[]),DP(hl,t,e)}function zu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Lh(t,e){throw e.$$typeof===g6?Error(B(525)):(t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function MP(t){function e(v,E){if(t){var S=v.deletions;S===null?(v.deletions=[E],v.flags|=16):S.push(E)}}function n(v,E){if(!t)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function r(v){for(var E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(v,E){return v=Ii(v,E),v.index=0,v.sibling=null,v}function a(v,E,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<E?(v.flags|=67108866,E):S):(v.flags|=67108866,E)):(v.flags|=1048576,E)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,E,S,O){return E===null||E.tag!==6?(E=Zv(S,v.mode,O),E.return=v,E):(E=i(E,S),E.return=v,E)}function l(v,E,S,O){var N=S.type;return N===Yo?c(v,E,S.props.children,O,S.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ya&&Ds(N)===E.type)?(E=i(E,S.props),zu(E,S),E.return=v,E):(E=pd(S.type,S.key,S.props,null,v.mode,O),zu(E,S),E.return=v,E)}function u(v,E,S,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Jv(S,v.mode,O),E.return=v,E):(E=i(E,S.children||[]),E.return=v,E)}function c(v,E,S,O,N){return E===null||E.tag!==7?(E=qs(S,v.mode,O,N),E.return=v,E):(E=i(E,S),E.return=v,E)}function h(v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Zv(""+E,v.mode,S),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ih:return S=pd(E.type,E.key,E.props,null,v.mode,S),zu(S,E),S.return=v,S;case Zu:return E=Jv(E,v.mode,S),E.return=v,E;case ya:return E=Ds(E),h(v,E,S)}if(Ju(E)||Lu(E))return E=qs(E,v.mode,S,null),E.return=v,E;if(typeof E.then=="function")return h(v,jh(E),S);if(E.$$typeof===wi)return h(v,kh(v,E),S);Lh(v,E)}return null}function d(v,E,S,O){var N=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return N!==null?null:o(v,E,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ih:return S.key===N?l(v,E,S,O):null;case Zu:return S.key===N?u(v,E,S,O):null;case ya:return S=Ds(S),d(v,E,S,O)}if(Ju(S)||Lu(S))return N!==null?null:c(v,E,S,O,null);if(typeof S.then=="function")return d(v,E,jh(S),O);if(S.$$typeof===wi)return d(v,E,kh(v,S),O);Lh(v,S)}return null}function m(v,E,S,O,N){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return v=v.get(S)||null,o(E,v,""+O,N);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ih:return v=v.get(O.key===null?S:O.key)||null,l(E,v,O,N);case Zu:return v=v.get(O.key===null?S:O.key)||null,u(E,v,O,N);case ya:return O=Ds(O),m(v,E,S,O,N)}if(Ju(O)||Lu(O))return v=v.get(S)||null,c(E,v,O,N,null);if(typeof O.then=="function")return m(v,E,S,jh(O),N);if(O.$$typeof===wi)return m(v,E,S,kh(E,O),N);Lh(E,O)}return null}function g(v,E,S,O){for(var N=null,k=null,A=E,x=E=0,C=null;A!==null&&x<S.length;x++){A.index>x?(C=A,A=null):C=A.sibling;var P=d(v,A,S[x],O);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(v,A),E=a(P,E,x),k===null?N=P:k.sibling=P,k=P,A=C}if(x===S.length)return n(v,A),be&&pi(v,x),N;if(A===null){for(;x<S.length;x++)A=h(v,S[x],O),A!==null&&(E=a(A,E,x),k===null?N=A:k.sibling=A,k=A);return be&&pi(v,x),N}for(A=r(A);x<S.length;x++)C=m(A,v,x,S[x],O),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?x:C.key),E=a(C,E,x),k===null?N=C:k.sibling=C,k=C);return t&&A.forEach(function(R){return e(v,R)}),be&&pi(v,x),N}function y(v,E,S,O){if(S==null)throw Error(B(151));for(var N=null,k=null,A=E,x=E=0,C=null,P=S.next();A!==null&&!P.done;x++,P=S.next()){A.index>x?(C=A,A=null):C=A.sibling;var R=d(v,A,P.value,O);if(R===null){A===null&&(A=C);break}t&&A&&R.alternate===null&&e(v,A),E=a(R,E,x),k===null?N=R:k.sibling=R,k=R,A=C}if(P.done)return n(v,A),be&&pi(v,x),N;if(A===null){for(;!P.done;x++,P=S.next())P=h(v,P.value,O),P!==null&&(E=a(P,E,x),k===null?N=P:k.sibling=P,k=P);return be&&pi(v,x),N}for(A=r(A);!P.done;x++,P=S.next())P=m(A,v,x,P.value,O),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?x:P.key),E=a(P,E,x),k===null?N=P:k.sibling=P,k=P);return t&&A.forEach(function(M){return e(v,M)}),be&&pi(v,x),N}function w(v,E,S,O){if(typeof S=="object"&&S!==null&&S.type===Yo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ih:e:{for(var N=S.key;E!==null;){if(E.key===N){if(N=S.type,N===Yo){if(E.tag===7){n(v,E.sibling),O=i(E,S.props.children),O.return=v,v=O;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ya&&Ds(N)===E.type){n(v,E.sibling),O=i(E,S.props),zu(O,S),O.return=v,v=O;break e}n(v,E);break}else e(v,E);E=E.sibling}S.type===Yo?(O=qs(S.props.children,v.mode,O,S.key),O.return=v,v=O):(O=pd(S.type,S.key,S.props,null,v.mode,O),zu(O,S),O.return=v,v=O)}return s(v);case Zu:e:{for(N=S.key;E!==null;){if(E.key===N)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(v,E.sibling),O=i(E,S.children||[]),O.return=v,v=O;break e}else{n(v,E);break}else e(v,E);E=E.sibling}O=Jv(S,v.mode,O),O.return=v,v=O}return s(v);case ya:return S=Ds(S),w(v,E,S,O)}if(Ju(S))return g(v,E,S,O);if(Lu(S)){if(N=Lu(S),typeof N!="function")throw Error(B(150));return S=N.call(S),y(v,E,S,O)}if(typeof S.then=="function")return w(v,E,jh(S),O);if(S.$$typeof===wi)return w(v,E,kh(v,S),O);Lh(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,E!==null&&E.tag===6?(n(v,E.sibling),O=i(E,S),O.return=v,v=O):(n(v,E),O=Zv(S,v.mode,O),O.return=v,v=O),s(v)):n(v,E)}return function(v,E,S,O){try{Uc=0;var N=w(v,E,S,O);return hl=null,N}catch(A){if(A===Jl||A===Lp)throw A;var k=zn(29,A,null,v.mode);return k.lanes=O,k.return=v,k}finally{}}}var no=MP(!0),kP=MP(!1),_a=!1;function Xb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function R0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Wd(t),xP(t,null,n),e}return jp(t,r,e,n),Wd(t)}function gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JR(t,n)}}function ty(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var P0=!1;function vc(){if(P0){var t=fl;if(t!==null)throw t}}function yc(t,e,n,r){P0=!1;var i=t.updateQueue;_a=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane&-536870913,m=d!==o.lane;if(m?(ye&d)===d:(r&d)===d){d!==0&&d===Sl&&(P0=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=t,y=o;d=e;var w=n;switch(y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(w,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(w,h,d):g,d==null)break e;h=We({},h,d);break e;case 2:_a=!0}}d=o.callback,d!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[d]:m.push(d))}else m={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),ts|=s,t.lanes=s,t.memoizedState=h}}function jP(t,e){if(typeof t!="function")throw Error(B(191,t));t.call(e)}function LP(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)jP(n[t],e)}var Al=si(null),Jd=si(0);function jS(t,e){t=Vi,Be(Jd,t),Be(Al,e),Vi=t|e.baseLanes}function N0(){Be(Jd,Vi),Be(Al,Al.current)}function Qb(){Vi=Jd.current,$t(Al),$t(Jd)}var Zn=si(null),mr=null;function Ta(t){var e=t.alternate;Be(ft,ft.current&1),Be(Zn,t),mr===null&&(e===null||Al.current!==null||e.memoizedState!==null)&&(mr=t)}function D0(t){Be(ft,ft.current),Be(Zn,t),mr===null&&(mr=t)}function VP(t){t.tag===22?(Be(ft,ft.current),Be(Zn,t),mr===null&&(mr=t)):Sa()}function Sa(){Be(ft,ft.current),Be(Zn,Zn.current)}function Un(t){$t(Zn),mr===t&&(mr=null),$t(ft)}var ft=si(0);function em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Z0(n)||J0(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ki=0,le=null,Me=null,_t=null,tm=!1,dl=!1,ro=!1,nm=0,zc=0,ml=null,PU=0;function it(){throw Error(B(321))}function Zb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Jb(t,e,n,r,i,a){return ki=a,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ie.H=t===null||t.memoizedState===null?pN:cE,ro=!1,a=n(r,i),ro=!1,dl&&(a=zP(e,n,r,i)),UP(t),a}function UP(t){ie.H=Bc;var e=Me!==null&&Me.next!==null;if(ki=0,_t=Me=le=null,tm=!1,zc=0,ml=null,e)throw Error(B(300));t===null||Tt||(t=t.dependencies,t!==null&&Qd(t)&&(Tt=!0))}function zP(t,e,n,r){le=t;var i=0;do{if(dl&&(ml=null),zc=0,dl=!1,25<=i)throw Error(B(301));if(i+=1,_t=Me=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ie.H=gN,a=e(n,r)}while(dl);return a}function NU(){var t=ie.H,e=t.useState()[0];return e=typeof e.then=="function"?Cf(e):e,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(le.flags|=1024),e}function eE(){var t=nm!==0;return nm=0,t}function tE(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function nE(t){if(tm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}tm=!1}ki=0,_t=Me=le=null,dl=!1,zc=nm=0,ml=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?le.memoizedState=_t=t:_t=_t.next=t,_t}function dt(){if(Me===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=_t===null?le.memoizedState:_t.next;if(e!==null)_t=e,Me=t;else{if(t===null)throw le.alternate===null?Error(B(467)):Error(B(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},_t===null?le.memoizedState=_t=t:_t=_t.next=t}return _t}function Vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cf(t){var e=zc;return zc+=1,ml===null&&(ml=[]),t=DP(ml,t,e),e=le,(_t===null?e.memoizedState:_t.next)===null&&(e=e.alternate,ie.H=e===null||e.memoizedState===null?pN:cE),t}function Up(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cf(t);if(t.$$typeof===wi)return en(t)}throw Error(B(438,String(t)))}function rE(t){var e=null,n=le.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Vp(),le.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=v6;return e.index++,n}function ji(t,e){return typeof e=="function"?e(t):e}function vd(t){var e=dt();return iE(e,Me,t)}function iE(t,e,n){var r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,u=e,c=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(ye&h)===h:(ki&h)===h){var d=u.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Sl&&(c=!0);else if((ki&d)===d){u=u.next,d===Sl&&(c=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,le.lanes|=d,ts|=d;h=u.action,ro&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else d={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,le.lanes|=h,ts|=h;u=u.next}while(u!==null&&u!==e);if(l===null?s=a:l.next=o,!Qn(a,t.memoizedState)&&(Tt=!0,c&&(n=fl,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function ny(t){var e=dt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Qn(a,e.memoizedState)||(Tt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function BP(t,e,n){var r=le,i=dt(),a=be;if(a){if(n===void 0)throw Error(B(407));n=n()}else n=e();var s=!Qn((Me||i).memoizedState,n);if(s&&(i.memoizedState=n,Tt=!0),i=i.queue,aE(HP.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,xl(9,{destroy:void 0},FP.bind(null,r,i,n,e),null),Le===null)throw Error(B(349));a||ki&127||$P(r,e,n)}return n}function $P(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e=Vp(),le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FP(t,e,n,r){e.value=n,e.getSnapshot=r,qP(e)&&GP(t)}function HP(t,e,n){return n(function(){qP(e)&&GP(t)})}function qP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function GP(t){var e=To(t,2);e!==null&&Nn(e,t,2)}function M0(t){var e=yn();if(typeof t=="function"){var n=t;if(t=n(),ro){Ia(!0);try{n()}finally{Ia(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},e}function KP(t,e,n,r){return t.baseState=n,iE(t,Me,typeof r=="function"?r:ji)}function DU(t,e,n,r,i){if(Bp(t))throw Error(B(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ie.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,YP(e,a)):(a.next=n.next,e.pending=n.next=a)}}function YP(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ie.T,s={};ie.T=s;try{var o=n(i,r),l=ie.S;l!==null&&l(s,o),LS(t,e,o)}catch(u){k0(t,e,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ie.T=a}}else try{a=n(i,r),LS(t,e,a)}catch(u){k0(t,e,u)}}function LS(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){VS(t,e,r)},function(r){return k0(t,e,r)}):VS(t,e,n)}function VS(t,e,n){e.status="fulfilled",e.value=n,WP(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,YP(t,n)))}function k0(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,WP(e),e=e.next;while(e!==r)}t.action=null}function WP(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function XP(t,e){return e}function US(t,e){if(be){var n=Le.formState;if(n!==null){e:{var r=le;if(be){if(qe){t:{for(var i=qe,a=fr;i.nodeType!==8;){if(!a){i=null;break t}if(i=pr(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){qe=pr(i.nextSibling),r=i.data==="F!";break e}}Ja(r)}r=!1}r&&(e=n[0])}}return n=yn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XP,lastRenderedState:e},n.queue=r,n=hN.bind(null,le,r),r.dispatch=n,r=M0(!1),a=uE.bind(null,le,!1,r.queue),r=yn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=DU.bind(null,le,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function zS(t){var e=dt();return QP(e,Me,t)}function QP(t,e,n){if(e=iE(t,e,XP)[0],t=vd(ji)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Cf(e)}catch(s){throw s===Jl?Lp:s}else r=e;e=dt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(le.flags|=2048,xl(9,{destroy:void 0},MU.bind(null,i,n),null)),[r,a,t]}function MU(t,e){t.action=e}function BS(t){var e=dt(),n=Me;if(n!==null)return QP(e,n,t);dt(),e=e.memoizedState,n=dt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function xl(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=le.updateQueue,e===null&&(e=Vp(),le.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ZP(){return dt().memoizedState}function yd(t,e,n,r){var i=yn();le.flags|=t,i.memoizedState=xl(1|e,{destroy:void 0},n,r===void 0?null:r)}function zp(t,e,n,r){var i=dt();r=r===void 0?null:r;var a=i.memoizedState.inst;Me!==null&&r!==null&&Zb(r,Me.memoizedState.deps)?i.memoizedState=xl(e,a,n,r):(le.flags|=t,i.memoizedState=xl(1|e,a,n,r))}function $S(t,e){yd(8390656,8,t,e)}function aE(t,e){zp(2048,8,t,e)}function kU(t){le.flags|=4;var e=le.updateQueue;if(e===null)e=Vp(),le.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function JP(t){var e=dt().memoizedState;return kU({ref:e,nextImpl:t}),function(){if(xe&2)throw Error(B(440));return e.impl.apply(void 0,arguments)}}function eN(t,e){return zp(4,2,t,e)}function tN(t,e){return zp(4,4,t,e)}function nN(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rN(t,e,n){n=n!=null?n.concat([t]):null,zp(4,4,nN.bind(null,e,t),n)}function sE(){}function iN(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Zb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aN(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Zb(e,r[1]))return r[0];if(r=t(),ro){Ia(!0);try{t()}finally{Ia(!1)}}return n.memoizedState=[r,e],r}function oE(t,e,n){return n===void 0||ki&1073741824&&!(ye&261930)?t.memoizedState=e:(t.memoizedState=n,t=KN(),le.lanes|=t,ts|=t,n)}function sN(t,e,n,r){return Qn(n,e)?n:Al.current!==null?(t=oE(t,n,r),Qn(t,e)||(Tt=!0),t):!(ki&42)||ki&1073741824&&!(ye&261930)?(Tt=!0,t.memoizedState=n):(t=KN(),le.lanes|=t,ts|=t,e)}function oN(t,e,n,r,i){var a=Ce.p;Ce.p=a!==0&&8>a?a:8;var s=ie.T,o={};ie.T=o,uE(t,!1,e,n);try{var l=i(),u=ie.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=RU(l,r);_c(t,e,c,Wn(t))}else _c(t,e,r,Wn(t))}catch(h){_c(t,e,{then:function(){},status:"rejected",reason:h},Wn())}finally{Ce.p=a,s!==null&&o.types!==null&&(s.types=o.types),ie.T=s}}function jU(){}function j0(t,e,n,r){if(t.tag!==5)throw Error(B(476));var i=lN(t).queue;oN(t,i,e,Hs,n===null?jU:function(){return uN(t),n(r)})}function lN(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Hs,baseState:Hs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Hs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function uN(t){var e=lN(t);e.next===null&&(e=t.alternate.memoizedState),_c(t,e.next.queue,{},Wn())}function lE(){return en(Hc)}function cN(){return dt().memoizedState}function fN(){return dt().memoizedState}function LU(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Wn();t=Va(n);var r=Ua(e,t,n);r!==null&&(Nn(r,e,n),gc(r,e,n)),e={cache:Kb()},t.payload=e;return}e=e.return}}function VU(t,e,n){var r=Wn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Bp(t)?dN(e,n):(n=Fb(t,e,n,r),n!==null&&(Nn(n,t,r),mN(n,e,r)))}function hN(t,e,n){var r=Wn();_c(t,e,n,r)}function _c(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bp(t))dN(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return jp(t,e,i,0),Le===null&&kp(),!1}catch{}finally{}if(n=Fb(t,e,i,r),n!==null)return Nn(n,t,r),mN(n,e,r),!0}return!1}function uE(t,e,n,r){if(r={lane:2,revertLane:yE(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bp(t)){if(e)throw Error(B(479))}else e=Fb(t,n,r,2),e!==null&&Nn(e,t,2)}function Bp(t){var e=t.alternate;return t===le||e!==null&&e===le}function dN(t,e){dl=tm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mN(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JR(t,n)}}var Bc={readContext:en,use:Up,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Bc.useEffectEvent=it;var pN={readContext:en,use:Up,useCallback:function(t,e){return yn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:$S,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,yd(4194308,4,nN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yd(4194308,4,t,e)},useInsertionEffect:function(t,e){yd(4,2,t,e)},useMemo:function(t,e){var n=yn();e=e===void 0?null:e;var r=t();if(ro){Ia(!0);try{t()}finally{Ia(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=yn();if(n!==void 0){var i=n(e);if(ro){Ia(!0);try{n(e)}finally{Ia(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=VU.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=yn();return t={current:t},e.memoizedState=t},useState:function(t){t=M0(t);var e=t.queue,n=hN.bind(null,le,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:sE,useDeferredValue:function(t,e){var n=yn();return oE(n,t,e)},useTransition:function(){var t=M0(!1);return t=oN.bind(null,le,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=le,i=yn();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Le===null)throw Error(B(349));ye&127||$P(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,$S(HP.bind(null,r,a,t),[t]),r.flags|=2048,xl(9,{destroy:void 0},FP.bind(null,r,a,n,e),null),n},useId:function(){var t=yn(),e=Le.identifierPrefix;if(be){var n=Gr,r=qr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=nm++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=PU++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:lE,useFormState:US,useActionState:US,useOptimistic:function(t){var e=yn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=uE.bind(null,le,!0,n),n.dispatch=e,[t,e]},useMemoCache:rE,useCacheRefresh:function(){return yn().memoizedState=LU.bind(null,le)},useEffectEvent:function(t){var e=yn(),n={impl:t};return e.memoizedState=n,function(){if(xe&2)throw Error(B(440));return n.impl.apply(void 0,arguments)}}},cE={readContext:en,use:Up,useCallback:iN,useContext:en,useEffect:aE,useImperativeHandle:rN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:aN,useReducer:vd,useRef:ZP,useState:function(){return vd(ji)},useDebugValue:sE,useDeferredValue:function(t,e){var n=dt();return sN(n,Me.memoizedState,t,e)},useTransition:function(){var t=vd(ji)[0],e=dt().memoizedState;return[typeof t=="boolean"?t:Cf(t),e]},useSyncExternalStore:BP,useId:cN,useHostTransitionStatus:lE,useFormState:zS,useActionState:zS,useOptimistic:function(t,e){var n=dt();return KP(n,Me,t,e)},useMemoCache:rE,useCacheRefresh:fN};cE.useEffectEvent=JP;var gN={readContext:en,use:Up,useCallback:iN,useContext:en,useEffect:aE,useImperativeHandle:rN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:aN,useReducer:ny,useRef:ZP,useState:function(){return ny(ji)},useDebugValue:sE,useDeferredValue:function(t,e){var n=dt();return Me===null?oE(n,t,e):sN(n,Me.memoizedState,t,e)},useTransition:function(){var t=ny(ji)[0],e=dt().memoizedState;return[typeof t=="boolean"?t:Cf(t),e]},useSyncExternalStore:BP,useId:cN,useHostTransitionStatus:lE,useFormState:BS,useActionState:BS,useOptimistic:function(t,e){var n=dt();return Me!==null?KP(n,Me,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:rE,useCacheRefresh:fN};gN.useEffectEvent=JP;function ry(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var L0={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=Va(r);i.payload=e,n!=null&&(i.callback=n),e=Ua(t,i,r),e!==null&&(Nn(e,t,r),gc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=Va(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ua(t,i,r),e!==null&&(Nn(e,t,r),gc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),r=Va(n);r.tag=2,e!=null&&(r.callback=e),e=Ua(t,r,n),e!==null&&(Nn(e,t,n),gc(e,t,n))}};function FS(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(i,a):!0}function HS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&L0.enqueueReplaceState(e,e.state,null)}function io(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=We({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function vN(t){Yd(t)}function yN(t){console.error(t)}function _N(t){Yd(t)}function rm(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function qS(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function V0(t,e,n){return n=Va(n),n.tag=3,n.payload={element:null},n.callback=function(){rm(t,e)},n}function bN(t){return t=Va(t),t.tag=3,t}function EN(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){qS(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){qS(e,n,r),typeof i!="function"&&(za===null?za=new Set([this]):za.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function UU(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Zl(e,n,i,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return mr===null?lm():n.alternate===null&&ot===0&&(ot=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Zd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),my(t,r,i)),!1;case 22:return n.flags|=65536,r===Zd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),my(t,r,i)),!1}throw Error(B(435,n.tag))}return my(t,r,i),lm(),!1}if(be)return e=Zn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==A0&&(t=Error(B(422),{cause:r}),Vc(cr(t,n)))):(r!==A0&&(e=Error(B(423),{cause:r}),Vc(cr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=cr(r,n),i=V0(t.stateNode,r,i),ty(t,i),ot!==4&&(ot=2)),!1;var a=Error(B(520),{cause:r});if(a=cr(a,n),wc===null?wc=[a]:wc.push(a),ot!==4&&(ot=2),e===null)return!0;r=cr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=V0(n.stateNode,r,t),ty(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(za===null||!za.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=bN(i),EN(i,t,n,r),ty(n,i),!1}n=n.return}while(n!==null);return!1}var fE=Error(B(461)),Tt=!1;function Yt(t,e,n,r){e.child=t===null?kP(e,null,n,r):no(e,t.child,n,r)}function GS(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return to(e),r=Jb(t,e,n,s,a,i),o=eE(),t!==null&&!Tt?(tE(t,e,i),Li(t,e,i)):(be&&o&&qb(e),e.flags|=1,Yt(t,e,r,i),e.child)}function KS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Hb(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,wN(t,e,a,r,i)):(t=pd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!hE(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(s,r)&&t.ref===e.ref)return Li(t,e,i)}return e.flags|=1,t=Ii(a,r),t.ref=e.ref,t.return=e,e.child=t}function wN(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(jc(a,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=a,hE(t,i))t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Li(t,e,i)}return U0(t,e,n,r,i)}function TN(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return YS(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&gd(e,a!==null?a.cachePool:null),a!==null?jS(e,a):N0(),VP(e);else return r=e.lanes=536870912,YS(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(gd(e,a.cachePool),jS(e,a),Sa(),e.memoizedState=null):(t!==null&&gd(e,null),N0(),Sa());return Yt(t,e,i,n),e.child}function tc(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function YS(t,e,n,r,i){var a=Yb();return a=a===null?null:{parent:Et._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&gd(e,null),N0(),VP(e),t!==null&&Zl(t,e,r,!0),e.childLanes=i,null}function _d(t,e){return e=im({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function WS(t,e,n){return no(e,t.child,null,n),t=_d(e,e.pendingProps),t.flags|=2,Un(e),e.memoizedState=null,t}function zU(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(be){if(r.mode==="hidden")return t=_d(e,r),e.lanes=536870912,tc(null,t);if(D0(e),(t=qe)?(t=p2(t,fr),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Za!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},n=OP(t),n.return=e,e.child=n,Zt=e,qe=null)):t=null,t===null)throw Ja(e);return e.lanes=536870912,null}return _d(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(D0(e),i)if(e.flags&256)e.flags&=-257,e=WS(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(B(558));else if(Tt||Zl(t,e,n,!1),i=(n&t.childLanes)!==0,Tt||i){if(r=Le,r!==null&&(s=eP(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,To(t,s),Nn(r,t,s),fE;lm(),e=WS(t,e,n)}else t=a.treeContext,qe=pr(s.nextSibling),Zt=e,be=!0,La=null,fr=!1,t!==null&&RP(e,t),e=_d(e,r),e.flags|=4096;return e}return t=Ii(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function bd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(B(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function U0(t,e,n,r,i){return to(e),n=Jb(t,e,n,r,void 0,i),r=eE(),t!==null&&!Tt?(tE(t,e,i),Li(t,e,i)):(be&&r&&qb(e),e.flags|=1,Yt(t,e,n,i),e.child)}function XS(t,e,n,r,i,a){return to(e),e.updateQueue=null,n=zP(e,r,n,i),UP(t),r=eE(),t!==null&&!Tt?(tE(t,e,a),Li(t,e,a)):(be&&r&&qb(e),e.flags|=1,Yt(t,e,n,a),e.child)}function QS(t,e,n,r,i){if(to(e),e.stateNode===null){var a=nl,s=n.contextType;typeof s=="object"&&s!==null&&(a=en(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=L0,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},Xb(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?en(s):nl,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(ry(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&L0.enqueueReplaceState(a,a.state,null),yc(e,r,a,i),vc(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=io(n,o);a.props=l;var u=a.context,c=n.contextType;s=nl,typeof c=="object"&&c!==null&&(s=en(c));var h=n.getDerivedStateFromProps;c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&HS(e,a,r,s),_a=!1;var d=e.memoizedState;a.state=d,yc(e,r,a,i),vc(),u=e.memoizedState,o||d!==u||_a?(typeof h=="function"&&(ry(e,n,h,r),u=e.memoizedState),(l=_a||FS(e,n,l,r,d,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,R0(t,e),s=e.memoizedProps,c=io(n,s),a.props=c,h=e.pendingProps,d=a.context,u=n.contextType,l=nl,typeof u=="object"&&u!==null&&(l=en(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==l)&&HS(e,a,r,l),_a=!1,d=e.memoizedState,a.state=d,yc(e,r,a,i),vc();var m=e.memoizedState;s!==h||d!==m||_a||t!==null&&t.dependencies!==null&&Qd(t.dependencies)?(typeof o=="function"&&(ry(e,n,o,r),m=e.memoizedState),(c=_a||FS(e,n,c,r,d,m,l)||t!==null&&t.dependencies!==null&&Qd(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,bd(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=no(e,t.child,null,i),e.child=no(e,null,n,i)):Yt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Li(t,e,i),t}function ZS(t,e,n,r){return eo(),e.flags|=256,Yt(t,e,n,r),e.child}var iy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ay(t){return{baseLanes:t,cachePool:NP()}}function sy(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Fn),t}function SN(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(be){if(i?Ta(e):Sa(),(t=qe)?(t=p2(t,fr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Za!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},n=OP(t),n.return=e,e.child=n,Zt=e,qe=null)):t=null,t===null)throw Ja(e);return J0(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Sa(),i=e.mode,o=im({mode:"hidden",children:o},i),r=qs(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=ay(n),r.childLanes=sy(t,s,n),e.memoizedState=iy,tc(null,r)):(Ta(e),z0(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Ta(e),e.flags&=-257,e=oy(t,e,n)):e.memoizedState!==null?(Sa(),e.child=t.child,e.flags|=128,e=null):(Sa(),o=r.fallback,i=e.mode,r=im({mode:"visible",children:r.children},i),o=qs(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,no(e,t.child,null,n),r=e.child,r.memoizedState=ay(n),r.childLanes=sy(t,s,n),e.memoizedState=iy,e=tc(null,r));else if(Ta(e),J0(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(B(419)),r.stack="",r.digest=s,Vc({value:r,source:null,stack:null}),e=oy(t,e,n)}else if(Tt||Zl(t,e,n,!1),s=(n&t.childLanes)!==0,Tt||s){if(s=Le,s!==null&&(r=eP(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,To(t,r),Nn(s,t,r),fE;Z0(o)||lm(),e=oy(t,e,n)}else Z0(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,qe=pr(o.nextSibling),Zt=e,be=!0,La=null,fr=!1,t!==null&&RP(e,t),e=z0(e,r.children),e.flags|=4096);return e}return i?(Sa(),o=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Ii(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Ii(u,o):(o=qs(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,tc(null,r),r=e.child,o=t.child.memoizedState,o===null?o=ay(n):(i=o.cachePool,i!==null?(l=Et._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=NP(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=sy(t,s,n),e.memoizedState=iy,tc(t.child,r)):(Ta(e),n=t.child,t=n.sibling,n=Ii(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function z0(t,e){return e=im({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function im(t,e){return t=zn(22,t,null,e),t.lanes=0,t}function oy(t,e,n){return no(e,t.child,null,n),t=z0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),C0(t.return,e,n)}function ly(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function AN(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=ft.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Be(ft,s),Yt(t,e,r,n),r=be?Lc:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JS(t,n,e);else if(t.tag===19)JS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&em(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ly(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&em(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ly(e,!0,n,null,a,r);break;case"together":ly(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(n&e.childLanes))if(t!==null){if(Zl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hE(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Qd(t)))}function BU(t,e,n){switch(e.tag){case 3:Hd(e,e.stateNode.containerInfo),wa(e,Et,t.memoizedState.cache),eo();break;case 27:case 5:m0(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:wa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,D0(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ta(e),e.flags|=128,null):n&e.child.childLanes?SN(t,e,n):(Ta(e),t=Li(t,e,n),t!==null?t.sibling:null);Ta(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Zl(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return AN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(ft,ft.current),r)break;return null;case 22:return e.lanes=0,TN(t,e,n,e.pendingProps);case 24:wa(e,Et,t.memoizedState.cache)}return Li(t,e,n)}function xN(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Tt=!0;else{if(!hE(t,n)&&!(e.flags&128))return Tt=!1,BU(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,be&&e.flags&1048576&&IP(e,Lc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Ds(e.elementType),e.type=t,typeof t=="function")Hb(t)?(r=io(t,r),e.tag=1,e=QS(null,e,t,r,n)):(e.tag=0,e=U0(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Rb){e.tag=11,e=GS(null,e,t,r,n);break e}else if(i===Pb){e.tag=14,e=KS(null,e,t,r,n);break e}}throw e=h0(t)||t,Error(B(306,e,""))}}return e;case 0:return U0(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=io(r,e.pendingProps),QS(t,e,r,i,n);case 3:e:{if(Hd(e,e.stateNode.containerInfo),t===null)throw Error(B(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,R0(t,e),yc(e,r,null,n);var s=e.memoizedState;if(r=s.cache,wa(e,Et,r),r!==a.cache&&O0(e,[Et],n,!0),vc(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=ZS(t,e,r,n);break e}else if(r!==i){i=cr(Error(B(424)),e),Vc(i),e=ZS(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qe=pr(t.firstChild),Zt=e,be=!0,La=null,fr=!0,n=kP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(eo(),r===i){e=Li(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 26:return bd(t,e),t===null?(n=_A(e.type,null,e.pendingProps,null))?e.memoizedState=n:be||(n=e.type,t=e.pendingProps,r=hm(ja.current).createElement(n),r[Qt]=e,r[Dn]=t,nn(r,n,t),Bt(r),e.stateNode=r):e.memoizedState=_A(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return m0(e),t===null&&be&&(r=e.stateNode=g2(e.type,e.pendingProps,ja.current),Zt=e,fr=!0,i=qe,ds(e.type)?(e_=i,qe=pr(r.firstChild)):qe=i),Yt(t,e,e.pendingProps.children,n),bd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&be&&((i=r=qe)&&(r=vz(r,e.type,e.pendingProps,fr),r!==null?(e.stateNode=r,Zt=e,qe=pr(r.firstChild),fr=!1,i=!0):i=!1),i||Ja(e)),m0(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,X0(i,a)?r=null:s!==null&&X0(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=Jb(t,e,NU,null,null,n),Hc._currentValue=i),bd(t,e),Yt(t,e,r,n),e.child;case 6:return t===null&&be&&((t=n=qe)&&(n=yz(n,e.pendingProps,fr),n!==null?(e.stateNode=n,Zt=e,qe=null,t=!0):t=!1),t||Ja(e)),null;case 13:return SN(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return GS(t,e,e.type,e.pendingProps,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,wa(e,e.type,r.value),Yt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,to(e),i=en(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return KS(t,e,e.type,e.pendingProps,n);case 15:return wN(t,e,e.type,e.pendingProps,n);case 19:return AN(t,e,n);case 31:return zU(t,e,n);case 22:return TN(t,e,n,e.pendingProps);case 24:return to(e),r=en(Et),t===null?(i=Yb(),i===null&&(i=Le,a=Kb(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},Xb(e),wa(e,Et,i)):(t.lanes&n&&(R0(t,e),yc(e,null,null,n),vc()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),wa(e,Et,r)):(r=a.cache,wa(e,Et,r),r!==i.cache&&O0(e,[Et],n,!0))),Yt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function ui(t){t.flags|=4}function uy(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(XN())t.flags|=8192;else throw Ks=Zd,Wb}else t.flags&=-16777217}function eA(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!_2(e))if(XN())t.flags|=8192;else throw Ks=Zd,Wb}function Vh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?QR():536870912,t.lanes|=e,Cl|=e)}function Bu(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $U(t,e,n){var r=e.pendingProps;switch(Gb(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return Fe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ri(Et),El(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ko(e)?ui(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ey())),Fe(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(ui(e),a!==null?(Fe(e),eA(e,a)):(Fe(e),uy(e,i,null,r,n))):a?a!==t.memoizedState?(ui(e),Fe(e),eA(e,a)):(Fe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&ui(e),Fe(e),uy(e,i,t,r,n)),null;case 27:if(qd(e),n=ja.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ui(e);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Fe(e),null}t=Wr.current,ko(e)?IS(e):(t=g2(i,r,n),e.stateNode=t,ui(e))}return Fe(e),null;case 5:if(qd(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ui(e);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Fe(e),null}if(a=Wr.current,ko(e))IS(e);else{var s=hm(ja.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Qt]=e,a[Dn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(nn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ui(e)}}return Fe(e),uy(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ui(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(t=ja.current,ko(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Zt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Qt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||h2(t.nodeValue,n)),t||Ja(e,!0)}else t=hm(t).createTextNode(r),t[Qt]=e,e.stateNode=t}return Fe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=ko(e),n!==null){if(t===null){if(!r)throw Error(B(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(557));t[Qt]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),t=!1}else n=ey(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Un(e),e):(Un(e),null);if(e.flags&128)throw Error(B(558))}return Fe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ko(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Qt]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),i=!1}else i=ey(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Un(e),e):(Un(e),null)}return Un(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Vh(e,e.updateQueue),Fe(e),null);case 4:return El(),t===null&&_E(e.stateNode.containerInfo),Fe(e),null;case 10:return Ri(e.type),Fe(e),null;case 19:if($t(ft),r=e.memoizedState,r===null)return Fe(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Bu(r,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=em(t),a!==null){for(e.flags|=128,Bu(r,!1),t=a.updateQueue,e.updateQueue=t,Vh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)CP(n,t),n=n.sibling;return Be(ft,ft.current&1|2),be&&pi(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Gn()>sm&&(e.flags|=128,i=!0,Bu(r,!1),e.lanes=4194304)}else{if(!i)if(t=em(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Vh(e,t),Bu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!be)return Fe(e),null}else 2*Gn()-r.renderingStartTime>sm&&n!==536870912&&(e.flags|=128,i=!0,Bu(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Gn(),t.sibling=null,n=ft.current,Be(ft,i?n&1|2:n&1),be&&pi(e,r.treeForkCount),t):(Fe(e),null);case 22:case 23:return Un(e),Qb(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),n=e.updateQueue,n!==null&&Vh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&$t(Gs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ri(Et),Fe(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function FU(t,e){switch(Gb(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(Et),El(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return qd(e),null;case 31:if(e.memoizedState!==null){if(Un(e),e.alternate===null)throw Error(B(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(ft),null;case 4:return El(),null;case 10:return Ri(e.type),null;case 22:case 23:return Un(e),Qb(),t!==null&&$t(Gs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ri(Et),null;case 25:return null;default:return null}}function CN(t,e){switch(Gb(e),e.tag){case 3:Ri(Et),El();break;case 26:case 27:case 5:qd(e);break;case 4:El();break;case 31:e.memoizedState!==null&&Un(e);break;case 13:Un(e);break;case 19:$t(ft);break;case 10:Ri(e.type);break;case 22:case 23:Un(e),Qb(),t!==null&&$t(Gs);break;case 24:Ri(Et)}}function Of(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ne(e,e.return,o)}}function es(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(c){Ne(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Ne(e,e.return,c)}}function ON(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{LP(e,n)}catch(r){Ne(t,t.return,r)}}}function IN(t,e,n){n.props=io(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ne(t,e,r)}}function bc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ne(t,e,i)}}function Kr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ne(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ne(t,e,i)}else n.current=null}function RN(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ne(t,t.return,i)}}function cy(t,e,n){try{var r=t.stateNode;fz(r,t.type,n,e),r[Dn]=e}catch(i){Ne(t,t.return,i)}}function PN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function fy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ti));else if(r!==4&&(r===27&&ds(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(B0(t,e,n),t=t.sibling;t!==null;)B0(t,e,n),t=t.sibling}function am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ds(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(am(t,e,n),t=t.sibling;t!==null;)am(t,e,n),t=t.sibling}function NN(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);nn(e,r,n),e[Qt]=t,e[Dn]=n}catch(a){Ne(t,t.return,a)}}var vi=!1,bt=!1,hy=!1,tA=typeof WeakSet=="function"?WeakSet:Set,zt=null;function HU(t,e){if(t=t.containerInfo,Y0=gm,t=_P(t),Bb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===n&&++u===i&&(o=s),d===a&&++c===r&&(l=s),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(W0={focusedElem:t,selectionRange:n},gm=!1,zt=e;zt!==null;)if(e=zt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,zt=t;else for(;zt!==null;){switch(e=zt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=io(n.type,i);t=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){Ne(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Q0(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Q0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(B(163))}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}}function DN(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n),r&4&&Of(5,n);break;case 1:if(fi(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ne(n,n.return,s)}else{var i=io(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ne(n,n.return,s)}}r&64&&ON(n),r&512&&bc(n,n.return);break;case 3:if(fi(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{LP(t,e)}catch(s){Ne(n,n.return,s)}}break;case 27:e===null&&r&4&&NN(n);case 26:case 5:fi(t,n),e===null&&r&4&&RN(n),r&512&&bc(n,n.return);break;case 12:fi(t,n);break;case 31:fi(t,n),r&4&&jN(t,n);break;case 13:fi(t,n),r&4&&LN(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=JU.bind(null,n),_z(t,n))));break;case 22:if(r=n.memoizedState!==null||vi,!r){e=e!==null&&e.memoizedState!==null||bt,i=vi;var a=bt;vi=r,(bt=e)&&!a?mi(t,n,(n.subtreeFlags&8772)!==0):fi(t,n),vi=i,bt=a}break;case 30:break;default:fi(t,n)}}function MN(t){var e=t.alternate;e!==null&&(t.alternate=null,MN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&kb(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Cn=!1;function ci(t,e,n){for(n=n.child;n!==null;)kN(t,e,n),n=n.sibling}function kN(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Ef,n)}catch{}switch(n.tag){case 26:bt||Kr(n,e),ci(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:bt||Kr(n,e);var r=Xe,i=Cn;ds(n.type)&&(Xe=n.stateNode,Cn=!1),ci(t,e,n),Sc(n.stateNode),Xe=r,Cn=i;break;case 5:bt||Kr(n,e);case 6:if(r=Xe,i=Cn,Xe=null,ci(t,e,n),Xe=r,Cn=i,Xe!==null)if(Cn)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(a){Ne(n,e,a)}else try{Xe.removeChild(n.stateNode)}catch(a){Ne(n,e,a)}break;case 18:Xe!==null&&(Cn?(t=Xe,mA(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Pl(t)):mA(Xe,n.stateNode));break;case 4:r=Xe,i=Cn,Xe=n.stateNode.containerInfo,Cn=!0,ci(t,e,n),Xe=r,Cn=i;break;case 0:case 11:case 14:case 15:es(2,n,e),bt||es(4,n,e),ci(t,e,n);break;case 1:bt||(Kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&IN(n,e,r)),ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:bt=(r=bt)||n.memoizedState!==null,ci(t,e,n),bt=r;break;default:ci(t,e,n)}}function jN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pl(t)}catch(n){Ne(e,e.return,n)}}}function LN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(n){Ne(e,e.return,n)}}function qU(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new tA),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new tA),e;default:throw Error(B(435,t.tag))}}function Uh(t,e){var n=qU(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=ez.bind(null,t,r);r.then(i,i)}})}function An(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(ds(o.type)){Xe=o.stateNode,Cn=!1;break e}break;case 5:Xe=o.stateNode,Cn=!1;break e;case 3:case 4:Xe=o.stateNode.containerInfo,Cn=!0;break e}o=o.return}if(Xe===null)throw Error(B(160));kN(a,s,i),Xe=null,Cn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)VN(e,t),e=e.sibling}var Ir=null;function VN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(e,t),xn(t),r&4&&(es(3,t,t.return),Of(3,t),es(5,t,t.return));break;case 1:An(e,t),xn(t),r&512&&(bt||n===null||Kr(n,n.return)),r&64&&vi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ir;if(An(e,t),xn(t),r&512&&(bt||n===null||Kr(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Sf]||a[Qt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),nn(a,r,n),a[Qt]=t,Bt(a),r=a;break e;case"link":var s=EA("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),nn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=EA("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),nn(a,r,n),i.head.appendChild(a);break;default:throw Error(B(468,r))}a[Qt]=t,Bt(a),r=a}t.stateNode=r}else wA(i,t.type,t.stateNode);else t.stateNode=bA(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?wA(i,t.type,t.stateNode):bA(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cy(t,t.memoizedProps,n.memoizedProps)}break;case 27:An(e,t),xn(t),r&512&&(bt||n===null||Kr(n,n.return)),n!==null&&r&4&&cy(t,t.memoizedProps,n.memoizedProps);break;case 5:if(An(e,t),xn(t),r&512&&(bt||n===null||Kr(n,n.return)),t.flags&32){i=t.stateNode;try{Tl(i,"")}catch(g){Ne(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,cy(t,i,n!==null?n.memoizedProps:i)),r&1024&&(hy=!0);break;case 6:if(An(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(B(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){Ne(t,t.return,g)}}break;case 3:if(Td=null,i=Ir,Ir=dm(e.containerInfo),An(e,t),Ir=i,xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(g){Ne(t,t.return,g)}hy&&(hy=!1,UN(t));break;case 4:r=Ir,Ir=dm(t.stateNode.containerInfo),An(e,t),xn(t),Ir=r;break;case 12:An(e,t),xn(t);break;case 31:An(e,t),xn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Uh(t,r)));break;case 13:An(e,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($p=Gn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Uh(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=vi,c=bt;if(vi=u||i,bt=c||l,An(e,t),bt=c,vi=u,xn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||vi||bt||Ms(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){Ne(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Ne(l,l.return,g)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?pA(m,!0):pA(l.stateNode,!1)}catch(g){Ne(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Uh(t,n))));break;case 19:An(e,t),xn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Uh(t,r)));break;case 30:break;case 21:break;default:An(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(PN(r)){n=r;break}r=r.return}if(n==null)throw Error(B(160));switch(n.tag){case 27:var i=n.stateNode,a=fy(t);am(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Tl(s,""),n.flags&=-33);var o=fy(t);am(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=fy(t);B0(t,u,l);break;default:throw Error(B(161))}}catch(c){Ne(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UN(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;UN(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function fi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)DN(t,e.alternate,e),e=e.sibling}function Ms(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:es(4,e,e.return),Ms(e);break;case 1:Kr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&IN(e,e.return,n),Ms(e);break;case 27:Sc(e.stateNode);case 26:case 5:Kr(e,e.return),Ms(e);break;case 22:e.memoizedState===null&&Ms(e);break;case 30:Ms(e);break;default:Ms(e)}t=t.sibling}}function mi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:mi(i,a,n),Of(4,a);break;case 1:if(mi(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ne(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)jP(l[i],o)}catch(u){Ne(r,r.return,u)}}n&&s&64&&ON(a),bc(a,a.return);break;case 27:NN(a);case 26:case 5:mi(i,a,n),n&&r===null&&s&4&&RN(a),bc(a,a.return);break;case 12:mi(i,a,n);break;case 31:mi(i,a,n),n&&s&4&&jN(i,a);break;case 13:mi(i,a,n),n&&s&4&&LN(i,a);break;case 22:a.memoizedState===null&&mi(i,a,n),bc(a,a.return);break;case 30:break;default:mi(i,a,n)}e=e.sibling}}function dE(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&xf(n))}function mE(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xf(t))}function Or(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zN(t,e,n,r),e=e.sibling}function zN(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Or(t,e,n,r),i&2048&&Of(9,e);break;case 1:Or(t,e,n,r);break;case 3:Or(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xf(t)));break;case 12:if(i&2048){Or(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ne(e,e.return,l)}}else Or(t,e,n,r);break;case 31:Or(t,e,n,r);break;case 13:Or(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Or(t,e,n,r):Ec(t,e):a._visibility&2?Or(t,e,n,r):(a._visibility|=2,Bo(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&dE(s,e);break;case 24:Or(t,e,n,r),i&2048&&mE(e.alternate,e);break;default:Or(t,e,n,r)}}function Bo(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Bo(a,s,o,l,i),Of(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?Bo(a,s,o,l,i):Ec(a,s):(c._visibility|=2,Bo(a,s,o,l,i)),i&&u&2048&&dE(s.alternate,s);break;case 24:Bo(a,s,o,l,i),i&&u&2048&&mE(s.alternate,s);break;default:Bo(a,s,o,l,i)}e=e.sibling}}function Ec(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Ec(n,r),i&2048&&dE(r.alternate,r);break;case 24:Ec(n,r),i&2048&&mE(r.alternate,r);break;default:Ec(n,r)}e=e.sibling}}var nc=8192;function jo(t,e,n){if(t.subtreeFlags&nc)for(t=t.child;t!==null;)BN(t,e,n),t=t.sibling}function BN(t,e,n){switch(t.tag){case 26:jo(t,e,n),t.flags&nc&&t.memoizedState!==null&&Pz(n,Ir,t.memoizedState,t.memoizedProps);break;case 5:jo(t,e,n);break;case 3:case 4:var r=Ir;Ir=dm(t.stateNode.containerInfo),jo(t,e,n),Ir=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=nc,nc=16777216,jo(t,e,n),nc=r):jo(t,e,n));break;default:jo(t,e,n)}}function $N(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function $u(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];zt=r,HN(r,t)}$N(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)FN(t),t=t.sibling}function FN(t){switch(t.tag){case 0:case 11:case 15:$u(t),t.flags&2048&&es(9,t,t.return);break;case 3:$u(t);break;case 12:$u(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ed(t)):$u(t);break;default:$u(t)}}function Ed(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];zt=r,HN(r,t)}$N(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:es(8,e,e.return),Ed(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ed(e));break;default:Ed(e)}t=t.sibling}}function HN(t,e){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:es(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:xf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,zt=r;else e:for(n=t;zt!==null;){r=zt;var i=r.sibling,a=r.return;if(MN(r),r===n){zt=null;break e}if(i!==null){i.return=a,zt=i;break e}zt=a}}}var GU={getCacheForType:function(t){var e=en(Et),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return en(Et).controller.signal}},KU=typeof WeakMap=="function"?WeakMap:Map,xe=0,Le=null,de=null,ye=0,Re=0,Ln=null,Pa=!1,eu=!1,pE=!1,Vi=0,ot=0,ts=0,Ys=0,gE=0,Fn=0,Cl=0,wc=null,On=null,$0=!1,$p=0,qN=0,sm=1/0,om=null,za=null,It=0,Ba=null,Ol=null,Pi=0,F0=0,H0=null,GN=null,Tc=0,q0=null;function Wn(){return xe&2&&ye!==0?ye&-ye:ie.T!==null?yE():tP()}function KN(){if(Fn===0)if(!(ye&536870912)||be){var t=Ph;Ph<<=1,!(Ph&3932160)&&(Ph=262144),Fn=t}else Fn=536870912;return t=Zn.current,t!==null&&(t.flags|=32),Fn}function Nn(t,e,n){(t===Le&&(Re===2||Re===9)||t.cancelPendingCommit!==null)&&(Il(t,0),Na(t,ye,Fn,!1)),Tf(t,n),(!(xe&2)||t!==Le)&&(t===Le&&(!(xe&2)&&(Ys|=n),ot===4&&Na(t,ye,Fn,!1)),oi(t))}function YN(t,e,n){if(xe&6)throw Error(B(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||wf(t,e),i=r?XU(t,e):dy(t,e,!0),a=r;do{if(i===0){eu&&!r&&Na(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!YU(n)){i=dy(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=wc;var l=o.current.memoizedState.isDehydrated;if(l&&(Il(o,s).flags|=256),s=dy(o,s,!1),s!==2){if(pE&&!l){o.errorRecoveryDisabledLanes|=a,Ys|=a,i=4;break e}a=On,On=i,a!==null&&(On===null?On=a:On.push.apply(On,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Il(t,0),Na(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:Na(r,e,Fn,!Pa);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(i=$p+300-Gn(),10<i)){if(Na(r,e,Fn,!Pa),Pp(r,0,!0)!==0)break e;Pi=e,r.timeoutHandle=m2(nA.bind(null,r,n,On,om,$0,e,Fn,Ys,Cl,Pa,a,"Throttled",-0,0),i);break e}nA(r,n,On,om,$0,e,Fn,Ys,Cl,Pa,a,null,-0,0)}}break}while(!0);oi(t)}function nA(t,e,n,r,i,a,s,o,l,u,c,h,d,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},BN(e,a,h);var g=(a&62914560)===a?$p-Gn():(a&4194048)===a?qN-Gn():0;if(g=Nz(h,g),g!==null){Pi=a,t.cancelPendingCommit=g(iA.bind(null,t,e,a,n,r,i,s,o,l,c,h,null,d,m)),Na(t,a,s,!u);return}}iA(t,e,a,n,r,i,s,o,l)}function YU(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e,n,r){e&=~gE,e&=~Ys,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Yn(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&ZR(t,n,e)}function Fp(){return xe&6?!0:(If(0),!1)}function vE(){if(de!==null){if(Re===0)var t=de.return;else t=de,Si=So=null,nE(t),hl=null,Uc=0,t=de;for(;t!==null;)CN(t.alternate,t),t=t.return;de=null}}function Il(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,mz(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Pi=0,vE(),Le=t,de=n=Ii(t.current,null),ye=e,Re=0,Ln=null,Pa=!1,eu=wf(t,e),pE=!1,Cl=Fn=gE=Ys=ts=ot=0,On=wc=null,$0=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Yn(r),a=1<<i;e|=t[i],r&=~a}return Vi=e,kp(),n}function WN(t,e){le=null,ie.H=Bc,e===Jl||e===Lp?(e=MS(),Re=3):e===Wb?(e=MS(),Re=4):Re=e===fE?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ln=e,de===null&&(ot=1,rm(t,cr(e,t.current)))}function XN(){var t=Zn.current;return t===null?!0:(ye&4194048)===ye?mr===null:(ye&62914560)===ye||ye&536870912?t===mr:!1}function QN(){var t=ie.H;return ie.H=Bc,t===null?Bc:t}function ZN(){var t=ie.A;return ie.A=GU,t}function lm(){ot=4,Pa||(ye&4194048)!==ye&&Zn.current!==null||(eu=!0),!(ts&134217727)&&!(Ys&134217727)||Le===null||Na(Le,ye,Fn,!1)}function dy(t,e,n){var r=xe;xe|=2;var i=QN(),a=ZN();(Le!==t||ye!==e)&&(om=null,Il(t,e)),e=!1;var s=ot;e:do try{if(Re!==0&&de!==null){var o=de,l=Ln;switch(Re){case 8:vE(),s=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(e=!0);var u=Re;if(Re=0,Ln=null,al(t,o,l,u),n&&eu){s=0;break e}break;default:u=Re,Re=0,Ln=null,al(t,o,l,u)}}WU(),s=ot;break}catch(c){WN(t,c)}while(!0);return e&&t.shellSuspendCounter++,Si=So=null,xe=r,ie.H=i,ie.A=a,de===null&&(Le=null,ye=0,kp()),s}function WU(){for(;de!==null;)JN(de)}function XU(t,e){var n=xe;xe|=2;var r=QN(),i=ZN();Le!==t||ye!==e?(om=null,sm=Gn()+500,Il(t,e)):eu=wf(t,e);e:do try{if(Re!==0&&de!==null){e=de;var a=Ln;t:switch(Re){case 1:Re=0,Ln=null,al(t,e,a,1);break;case 2:case 9:if(DS(a)){Re=0,Ln=null,rA(e);break}e=function(){Re!==2&&Re!==9||Le!==t||(Re=7),oi(t)},a.then(e,e);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:DS(a)?(Re=0,Ln=null,rA(e)):(Re=0,Ln=null,al(t,e,a,7));break;case 5:var s=null;switch(de.tag){case 26:s=de.memoizedState;case 5:case 27:var o=de;if(s?_2(s):o.stateNode.complete){Re=0,Ln=null;var l=o.sibling;if(l!==null)de=l;else{var u=o.return;u!==null?(de=u,Hp(u)):de=null}break t}}Re=0,Ln=null,al(t,e,a,5);break;case 6:Re=0,Ln=null,al(t,e,a,6);break;case 8:vE(),ot=6;break e;default:throw Error(B(462))}}QU();break}catch(c){WN(t,c)}while(!0);return Si=So=null,ie.H=r,ie.A=i,xe=n,de!==null?0:(Le=null,ye=0,kp(),ot)}function QU(){for(;de!==null&&!b6();)JN(de)}function JN(t){var e=xN(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,e===null?Hp(t):de=e}function rA(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=XS(n,e,e.pendingProps,e.type,void 0,ye);break;case 11:e=XS(n,e,e.pendingProps,e.type.render,e.ref,ye);break;case 5:nE(e);default:CN(n,e),e=de=CP(e,Vi),e=xN(n,e,Vi)}t.memoizedProps=t.pendingProps,e===null?Hp(t):de=e}function al(t,e,n,r){Si=So=null,nE(e),hl=null,Uc=0;var i=e.return;try{if(UU(t,i,e,n,ye)){ot=1,rm(t,cr(n,t.current)),de=null;return}}catch(a){if(i!==null)throw de=i,a;ot=1,rm(t,cr(n,t.current)),de=null;return}e.flags&32768?(be||r===1?t=!0:eu||ye&536870912?t=!1:(Pa=t=!0,(r===2||r===9||r===3||r===6)&&(r=Zn.current,r!==null&&r.tag===13&&(r.flags|=16384))),e2(e,t)):Hp(e)}function Hp(t){var e=t;do{if(e.flags&32768){e2(e,Pa);return}t=e.return;var n=$U(e.alternate,e,Vi);if(n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);ot===0&&(ot=5)}function e2(t,e){do{var n=FU(t.alternate,t);if(n!==null){n.flags&=32767,de=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){de=t;return}de=t=n}while(t!==null);ot=6,de=null}function iA(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do qp();while(It!==0);if(xe&6)throw Error(B(327));if(e!==null){if(e===t.current)throw Error(B(177));if(a=e.lanes|e.childLanes,a|=$b,R6(t,n,a,s,o,l),t===Le&&(de=Le=null,ye=0),Ol=e,Ba=t,Pi=n,F0=a,H0=i,GN=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,tz(Gd,function(){return a2(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ie.T,ie.T=null,i=Ce.p,Ce.p=2,s=xe,xe|=4;try{HU(t,e,n)}finally{xe=s,Ce.p=i,ie.T=r}}It=1,t2(),n2(),r2()}}function t2(){if(It===1){It=0;var t=Ba,e=Ol,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=Ce.p;Ce.p=2;var i=xe;xe|=4;try{VN(e,t);var a=W0,s=_P(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&yP(o.ownerDocument.documentElement,o)){if(l!==null&&Bb(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var m=d.getSelection(),g=o.textContent.length,y=Math.min(l.start,g),w=l.end===void 0?y:Math.min(l.end,g);!m.extend&&y>w&&(s=w,w=y,y=s);var v=xS(o,y),E=xS(o,w);if(v&&E&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==E.node||m.focusOffset!==E.offset)){var S=h.createRange();S.setStart(v.node,v.offset),m.removeAllRanges(),y>w?(m.addRange(S),m.extend(E.node,E.offset)):(S.setEnd(E.node,E.offset),m.addRange(S))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var O=h[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}gm=!!Y0,W0=Y0=null}finally{xe=i,Ce.p=r,ie.T=n}}t.current=e,It=2}}function n2(){if(It===2){It=0;var t=Ba,e=Ol,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=Ce.p;Ce.p=2;var i=xe;xe|=4;try{DN(t,e.alternate,e)}finally{xe=i,Ce.p=r,ie.T=n}}It=3}}function r2(){if(It===4||It===3){It=0,E6();var t=Ba,e=Ol,n=Pi,r=GN;e.subtreeFlags&10256||e.flags&10256?It=5:(It=0,Ol=Ba=null,i2(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(za=null),Mb(n),e=e.stateNode,Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Ef,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ie.T,i=Ce.p,Ce.p=2,ie.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ie.T=e,Ce.p=i}}Pi&3&&qp(),oi(t),i=t.pendingLanes,n&261930&&i&42?t===q0?Tc++:(Tc=0,q0=t):Tc=0,If(0)}}function i2(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,xf(e)))}function qp(){return t2(),n2(),r2(),a2()}function a2(){if(It!==5)return!1;var t=Ba,e=F0;F0=0;var n=Mb(Pi),r=ie.T,i=Ce.p;try{Ce.p=32>n?32:n,ie.T=null,n=H0,H0=null;var a=Ba,s=Pi;if(It=0,Ol=Ba=null,Pi=0,xe&6)throw Error(B(331));var o=xe;if(xe|=4,FN(a.current),zN(a,a.current,s,n),xe=o,If(0,!1),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Ef,a)}catch{}return!0}finally{Ce.p=i,ie.T=r,i2(t,e)}}function aA(t,e,n){e=cr(n,e),e=V0(t.stateNode,e,2),t=Ua(t,e,2),t!==null&&(Tf(t,2),oi(t))}function Ne(t,e,n){if(t.tag===3)aA(t,t,n);else for(;e!==null;){if(e.tag===3){aA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(za===null||!za.has(r))){t=cr(n,t),n=bN(2),r=Ua(e,n,2),r!==null&&(EN(n,r,e,t),Tf(r,2),oi(r));break}}e=e.return}}function my(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(pE=!0,i.add(n),t=ZU.bind(null,t,e,n),e.then(t,t))}function ZU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Le===t&&(ye&n)===n&&(ot===4||ot===3&&(ye&62914560)===ye&&300>Gn()-$p?!(xe&2)&&Il(t,0):gE|=n,Cl===ye&&(Cl=0)),oi(t)}function s2(t,e){e===0&&(e=QR()),t=To(t,e),t!==null&&(Tf(t,e),oi(t))}function JU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),s2(t,n)}function ez(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(B(314))}r!==null&&r.delete(e),s2(t,n)}function tz(t,e){return Nb(t,e)}var um=null,$o=null,G0=!1,cm=!1,py=!1,Da=0;function oi(t){t!==$o&&t.next===null&&($o===null?um=$o=t:$o=$o.next=t),cm=!0,G0||(G0=!0,rz())}function If(t,e){if(!py&&cm){py=!0;do for(var n=!1,r=um;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-Yn(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,sA(r,a))}else a=ye,a=Pp(r,r===Le?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||wf(r,a)||(n=!0,sA(r,a));r=r.next}while(n);py=!1}}function nz(){o2()}function o2(){cm=G0=!1;var t=0;Da!==0&&dz()&&(t=Da);for(var e=Gn(),n=null,r=um;r!==null;){var i=r.next,a=l2(r,e);a===0?(r.next=null,n===null?um=i:n.next=i,i===null&&($o=n)):(n=r,(t!==0||a&3)&&(cm=!0)),r=i}It!==0&&It!==5||If(t),Da!==0&&(Da=0)}function l2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Yn(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=I6(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Le,n=ye,n=Pp(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Re===2||Re===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Fv(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||wf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Fv(r),Mb(n)){case 2:case 8:n=WR;break;case 32:n=Gd;break;case 268435456:n=XR;break;default:n=Gd}return r=u2.bind(null,t),n=Nb(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Fv(r),t.callbackPriority=2,t.callbackNode=null,2}function u2(t,e){if(It!==0&&It!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(qp()&&t.callbackNode!==n)return null;var r=ye;return r=Pp(t,t===Le?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(YN(t,r,e),l2(t,Gn()),t.callbackNode!=null&&t.callbackNode===n?u2.bind(null,t):null)}function sA(t,e){if(qp())return null;YN(t,e,!0)}function rz(){pz(function(){xe&6?Nb(YR,nz):o2()})}function yE(){if(Da===0){var t=Sl;t===0&&(t=Rh,Rh<<=1,!(Rh&261888)&&(Rh=256)),Da=t}return Da}function oA(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hd(""+t)}function lA(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function iz(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=oA((i[Dn]||null).action),s=r.submitter;s&&(e=(e=s[Dn]||null)?oA(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Np("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Da!==0){var l=s?lA(i,s):new FormData(i);j0(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?lA(i,s):new FormData(i),j0(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var gy=0;gy<S0.length;gy++){var vy=S0[gy],az=vy.toLowerCase(),sz=vy[0].toUpperCase()+vy.slice(1);Ur(az,"on"+sz)}Ur(EP,"onAnimationEnd");Ur(wP,"onAnimationIteration");Ur(TP,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(wU,"onTransitionRun");Ur(TU,"onTransitionStart");Ur(SU,"onTransitionCancel");Ur(SP,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($c));function c2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Yd(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Yd(c)}i.currentTarget=null,a=l}}}}function he(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(f2(e,t,2,!1),n.add(r))}function yy(t,e,n){var r=0;e&&(r|=4),f2(n,t,r,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function _E(t){if(!t[zh]){t[zh]=!0,nP.forEach(function(n){n!=="selectionchange"&&(oz.has(n)||yy(n,!1,t),yy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zh]||(e[zh]=!0,yy("selectionchange",!1,e))}}function f2(t,e,n,r){switch(S2(e)){case 2:var i=kz;break;case 8:i=jz;break;default:i=TE}n=i.bind(null,e,n,t),i=void 0,!E0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _y(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=Xo(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}cP(function(){var u=a,c=Lb(n),h=[];e:{var d=AP.get(t);if(d!==void 0){var m=Np,g=t;switch(t){case"keypress":if(md(n)===0)break e;case"keydown":case"keyup":m=eU;break;case"focusin":g="focus",m=Yv;break;case"focusout":g="blur",m=Yv;break;case"beforeblur":case"afterblur":m=Yv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rU;break;case EP:case wP:case TP:m=q6;break;case SP:m=aU;break;case"scroll":case"scrollend":m=z6;break;case"wheel":m=oU;break;case"copy":case"cut":case"paste":m=K6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yS;break;case"toggle":case"beforetoggle":m=uU}var y=(e&4)!==0,w=!y&&(t==="scroll"||t==="scrollend"),v=y?d!==null?d+"Capture":null:d;y=[];for(var E=u,S;E!==null;){var O=E;if(S=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||S===null||v===null||(O=Mc(E,v),O!=null&&y.push(Fc(E,O,S))),w)break;E=E.return}0<y.length&&(d=new m(d,g,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==b0&&(g=n.relatedTarget||n.fromElement)&&(Xo(g)||g[Xl]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Xo(g):null,g!==null&&(w=bf(g),y=g.tag,g!==w||y!==5&&y!==27&&y!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=gS,O="onMouseLeave",v="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=yS,O="onPointerLeave",v="onPointerEnter",E="pointer"),w=m==null?d:ec(m),S=g==null?d:ec(g),d=new y(O,E+"leave",m,n,c),d.target=w,d.relatedTarget=S,O=null,Xo(c)===u&&(y=new y(v,E+"enter",g,n,c),y.target=S,y.relatedTarget=w,O=y),w=O,m&&g)t:{for(y=lz,v=m,E=g,S=0,O=v;O;O=y(O))S++;O=0;for(var N=E;N;N=y(N))O++;for(;0<S-O;)v=y(v),S--;for(;0<O-S;)E=y(E),O--;for(;S--;){if(v===E||E!==null&&v===E.alternate){y=v;break t}v=y(v),E=y(E)}y=null}else y=null;m!==null&&uA(h,d,m,y,!1),g!==null&&w!==null&&uA(h,w,g,y,!0)}}e:{if(d=u?ec(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var k=wS;else if(ES(d))if(gP)k=_U;else{k=vU;var A=gU}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&jb(u.elementType)&&(k=wS):k=yU;if(k&&(k=k(t,u))){pP(h,k,n,c);break e}A&&A(t,d,u),t==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&_0(d,"number",d.value)}switch(A=u?ec(u):window,t){case"focusin":(ES(A)||A.contentEditable==="true")&&(Jo=A,w0=u,mc=null);break;case"focusout":mc=w0=Jo=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,CS(h,n,c);break;case"selectionchange":if(EU)break;case"keydown":case"keyup":CS(h,n,c)}var x;if(zb)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Zo?dP(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(hP&&n.locale!=="ko"&&(Zo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Zo&&(x=fP()):(Ra=c,Vb="value"in Ra?Ra.value:Ra.textContent,Zo=!0)),A=fm(u,C),0<A.length&&(C=new vS(C,t,null,n,c),h.push({event:C,listeners:A}),x?C.data=x:(x=mP(n),x!==null&&(C.data=x)))),(x=fU?hU(t,n):dU(t,n))&&(C=fm(u,"onBeforeInput"),0<C.length&&(A=new vS("onBeforeInput","beforeinput",null,n,c),h.push({event:A,listeners:C}),A.data=x)),iz(h,t,u,n,c)}c2(h,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Mc(t,n),i!=null&&r.unshift(Fc(t,i,a)),i=Mc(t,e),i!=null&&r.push(Fc(t,i,a))),t.tag===3)return r;t=t.return}return[]}function lz(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uA(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=Mc(n,a),u!=null&&s.unshift(Fc(n,u,l))):i||(u=Mc(n,a),u!=null&&s.push(Fc(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uz=/\r\n?/g,cz=/\u0000|\uFFFD/g;function cA(t){return(typeof t=="string"?t:""+t).replace(uz,`
`).replace(cz,"")}function h2(t,e){return e=cA(e),cA(t)===e}function De(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Tl(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Tl(t,""+r);break;case"className":Dh(t,"class",r);break;case"tabIndex":Dh(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Dh(t,n,r);break;case"style":uP(t,r,a);break;case"data":if(e!=="object"){Dh(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=hd(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&De(t,e,"name",i.name,i,null),De(t,e,"formEncType",i.formEncType,i,null),De(t,e,"formMethod",i.formMethod,i,null),De(t,e,"formTarget",i.formTarget,i,null)):(De(t,e,"encType",i.encType,i,null),De(t,e,"method",i.method,i,null),De(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=hd(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Ti);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=hd(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":he("beforetoggle",t),he("toggle",t),fd(t,"popover",r);break;case"xlinkActuate":li(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":li(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":li(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":li(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":li(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":li(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":li(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":li(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":li(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":fd(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=V6.get(n)||n,fd(t,n,r))}}function K0(t,e,n,r,i,a){switch(n){case"style":uP(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Tl(t,r):(typeof r=="number"||typeof r=="bigint")&&Tl(t,""+r);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rP.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Dn]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):fd(t,n,r)}}}function nn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:De(t,e,a,s,n,null)}}i&&De(t,e,"srcSet",n.srcSet,n,null),r&&De(t,e,"src",n.src,n,null);return;case"input":he("invalid",t);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(B(137,e));break;default:De(t,e,r,c,n,null)}}sP(t,a,o,l,u,s,i,!1);return;case"select":he("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:De(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?ul(t,!!r,e,!1):n!=null&&ul(t,!!r,n,!0);return;case"textarea":he("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:De(t,e,s,o,n,null)}lP(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:De(t,e,l,r,n,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(r=0;r<$c.length;r++)he($c[r],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:De(t,e,u,r,n,null)}return;default:if(jb(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&K0(t,e,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&De(t,e,o,r,n,null))}function fz(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(m)||De(t,e,m,null,r,h)}}for(var d in r){var m=r[d];if(h=n[d],r.hasOwnProperty(d)&&(m!=null||h!=null))switch(d){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,e));break;default:m!==h&&De(t,e,d,m,r,h)}}y0(t,s,o,l,u,c,a,i);return;case"select":m=s=o=d=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(a)||De(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&De(t,e,i,a,r,l)}e=o,n=s,r=m,d!=null?ul(t,!!n,d,!1):!!r!=!!n&&(e!=null?ul(t,!!n,e,!0):ul(t,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:De(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":d=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==a&&De(t,e,s,i,r,a)}oP(t,d,m);return;case"option":for(var g in n)if(d=n[g],n.hasOwnProperty(g)&&d!=null&&!r.hasOwnProperty(g))switch(g){case"selected":t.selected=!1;break;default:De(t,e,g,null,r,d)}for(l in r)if(d=r[l],m=n[l],r.hasOwnProperty(l)&&d!==m&&(d!=null||m!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:De(t,e,l,d,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y)&&De(t,e,y,null,r,d);for(u in r)if(d=r[u],m=n[u],r.hasOwnProperty(u)&&d!==m&&(d!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,e));break;default:De(t,e,u,d,r,m)}return;default:if(jb(e)){for(var w in n)d=n[w],n.hasOwnProperty(w)&&d!==void 0&&!r.hasOwnProperty(w)&&K0(t,e,w,void 0,r,d);for(c in r)d=r[c],m=n[c],!r.hasOwnProperty(c)||d===m||d===void 0&&m===void 0||K0(t,e,c,d,r,m);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!=null&&!r.hasOwnProperty(v)&&De(t,e,v,null,r,d);for(h in r)d=r[h],m=n[h],!r.hasOwnProperty(h)||d===m||d==null&&m==null||De(t,e,h,d,r,m)}function fA(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hz(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&fA(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,h=l.initiatorType;c&&fA(h)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Y0=null,W0=null;function hm(t){return t.nodeType===9?t:t.ownerDocument}function hA(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d2(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function X0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var by=null;function dz(){var t=window.event;return t&&t.type==="popstate"?t===by?!1:(by=t,!0):(by=null,!1)}var m2=typeof setTimeout=="function"?setTimeout:void 0,mz=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,pz=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(t){return dA.resolve(null).then(t).catch(gz)}:m2;function gz(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function mA(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Pl(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Sc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Sc(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Sf]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Sc(t.ownerDocument.body);n=i}while(n);Pl(e)}function pA(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Q0(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Q0(n),kb(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function vz(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Sf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=pr(t.nextSibling),t===null)break}return null}function yz(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=pr(t.nextSibling),t===null))return null;return t}function p2(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=pr(t.nextSibling),t===null))return null;return t}function Z0(t){return t.data==="$?"||t.data==="$~"}function J0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _z(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var e_=null;function gA(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return pr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function vA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function g2(t,e,n){switch(e=hm(n),t){case"html":if(t=e.documentElement,!t)throw Error(B(452));return t;case"head":if(t=e.head,!t)throw Error(B(453));return t;case"body":if(t=e.body,!t)throw Error(B(454));return t;default:throw Error(B(451))}}function Sc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);kb(t)}var yr=new Map,yA=new Set;function dm(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=Ce.d;Ce.d={f:bz,r:Ez,D:wz,C:Tz,L:Sz,m:Az,X:Cz,S:xz,M:Oz};function bz(){var t=Zi.f(),e=Fp();return t||e}function Ez(t){var e=Ql(t);e!==null&&e.tag===5&&e.type==="form"?uN(e):Zi.r(t)}var tu=typeof document>"u"?null:document;function v2(t,e,n){var r=tu;if(r&&typeof e=="string"&&e){var i=ur(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),yA.has(i)||(yA.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),nn(e,"link",t),Bt(e),r.head.appendChild(e)))}}function wz(t){Zi.D(t),v2("dns-prefetch",t,null)}function Tz(t,e){Zi.C(t,e),v2("preconnect",t,e)}function Sz(t,e,n){Zi.L(t,e,n);var r=tu;if(r&&t&&e){var i='link[rel="preload"][as="'+ur(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ur(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ur(n.imageSizes)+'"]')):i+='[href="'+ur(t)+'"]';var a=i;switch(e){case"style":a=Rl(t);break;case"script":a=nu(t)}yr.has(a)||(t=We({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),yr.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Rf(a))||e==="script"&&r.querySelector(Pf(a))||(e=r.createElement("link"),nn(e,"link",t),Bt(e),r.head.appendChild(e)))}}function Az(t,e){Zi.m(t,e);var n=tu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+ur(r)+'"][href="'+ur(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=nu(t)}if(!yr.has(a)&&(t=We({rel:"modulepreload",href:t},e),yr.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pf(a)))return}r=n.createElement("link"),nn(r,"link",t),Bt(r),n.head.appendChild(r)}}}function xz(t,e,n){Zi.S(t,e,n);var r=tu;if(r&&t){var i=ll(r).hoistableStyles,a=Rl(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Rf(a)))o.loading=5;else{t=We({rel:"stylesheet",href:t,"data-precedence":e},n),(n=yr.get(a))&&bE(t,n);var l=s=r.createElement("link");Bt(l),nn(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,wd(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function Cz(t,e){Zi.X(t,e);var n=tu;if(n&&t){var r=ll(n).hoistableScripts,i=nu(t),a=r.get(i);a||(a=n.querySelector(Pf(i)),a||(t=We({src:t,async:!0},e),(e=yr.get(i))&&EE(t,e),a=n.createElement("script"),Bt(a),nn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Oz(t,e){Zi.M(t,e);var n=tu;if(n&&t){var r=ll(n).hoistableScripts,i=nu(t),a=r.get(i);a||(a=n.querySelector(Pf(i)),a||(t=We({src:t,async:!0,type:"module"},e),(e=yr.get(i))&&EE(t,e),a=n.createElement("script"),Bt(a),nn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function _A(t,e,n,r){var i=(i=ja.current)?dm(i):null;if(!i)throw Error(B(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Rl(n.href),n=ll(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Rl(n.href);var a=ll(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Rf(t)))&&!a._p&&(s.instance=a,s.state.loading=5),yr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yr.set(t,n),a||Iz(i,t,n,s.state))),e&&r===null)throw Error(B(528,""));return s}if(e&&r!==null)throw Error(B(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=nu(n),n=ll(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,t))}}function Rl(t){return'href="'+ur(t)+'"'}function Rf(t){return'link[rel="stylesheet"]['+t+"]"}function y2(t){return We({},t,{"data-precedence":t.precedence,precedence:null})}function Iz(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),nn(e,"link",n),Bt(e),t.head.appendChild(e))}function nu(t){return'[src="'+ur(t)+'"]'}function Pf(t){return"script[async]"+t}function bA(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ur(n.href)+'"]');if(r)return e.instance=r,Bt(r),r;var i=We({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Bt(r),nn(r,"style",i),wd(r,n.precedence,t),e.instance=r;case"stylesheet":i=Rl(n.href);var a=t.querySelector(Rf(i));if(a)return e.state.loading|=4,e.instance=a,Bt(a),a;r=y2(n),(i=yr.get(i))&&bE(r,i),a=(t.ownerDocument||t).createElement("link"),Bt(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),nn(a,"link",r),e.state.loading|=4,wd(a,n.precedence,t),e.instance=a;case"script":return a=nu(n.src),(i=t.querySelector(Pf(a)))?(e.instance=i,Bt(i),i):(r=n,(i=yr.get(a))&&(r=We({},n),EE(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Bt(i),nn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,wd(r,n.precedence,t));return e.instance}function wd(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function bE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function EE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Td=null;function EA(t,e,n){if(Td===null){var r=new Map,i=Td=new Map;i.set(n,r)}else i=Td,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Sf]||a[Qt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function wA(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Rz(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function _2(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Pz(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Rl(r.href),a=e.querySelector(Rf(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mm.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Bt(a);return}a=e.ownerDocument||e,r=y2(r),(i=yr.get(i))&&bE(r,i),a=a.createElement("link"),Bt(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),nn(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=mm.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Ey=0;function Nz(t,e){return t.stylesheets&&t.count===0&&Sd(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Sd(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Ey===0&&(Ey=62500*hz());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sd(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Ey?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function mm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pm=null;function Sd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pm=new Map,e.forEach(Dz,t),pm=null,mm.call(t))}function Dz(t,e){if(!(e.state.loading&4)){var n=pm.get(t);if(n)var r=n.get(null);else{n=new Map,pm.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=mm.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Hc={$$typeof:wi,Provider:null,Consumer:null,_currentValue:Hs,_currentValue2:Hs,_threadCount:0};function Mz(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.hiddenUpdates=Hv(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function b2(t,e,n,r,i,a,s,o,l,u,c,h){return t=new Mz(t,e,n,s,l,u,c,h,o),e=1,a===!0&&(e|=24),a=zn(3,null,null,e),t.current=a,a.stateNode=t,e=Kb(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},Xb(a),t}function E2(t){return t?(t=nl,t):nl}function w2(t,e,n,r,i,a){i=E2(i),r.context===null?r.context=i:r.pendingContext=i,r=Va(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ua(t,r,e),n!==null&&(Nn(n,t,e),gc(n,t,e))}function TA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wE(t,e){TA(t,e),(t=t.alternate)&&TA(t,e)}function T2(t){if(t.tag===13||t.tag===31){var e=To(t,67108864);e!==null&&Nn(e,t,67108864),wE(t,67108864)}}function SA(t){if(t.tag===13||t.tag===31){var e=Wn();e=Db(e);var n=To(t,e);n!==null&&Nn(n,t,e),wE(t,e)}}var gm=!0;function kz(t,e,n,r){var i=ie.T;ie.T=null;var a=Ce.p;try{Ce.p=2,TE(t,e,n,r)}finally{Ce.p=a,ie.T=i}}function jz(t,e,n,r){var i=ie.T;ie.T=null;var a=Ce.p;try{Ce.p=8,TE(t,e,n,r)}finally{Ce.p=a,ie.T=i}}function TE(t,e,n,r){if(gm){var i=t_(r);if(i===null)_y(t,e,r,vm,n),AA(t,r);else if(Vz(i,t,e,n,r))r.stopPropagation();else if(AA(t,r),e&4&&-1<Lz.indexOf(t)){for(;i!==null;){var a=Ql(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Ns(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Yn(s);o.entanglements[1]|=l,s&=~l}oi(a),!(xe&6)&&(sm=Gn()+500,If(0))}}break;case 31:case 13:o=To(a,2),o!==null&&Nn(o,a,2),Fp(),wE(a,2)}if(a=t_(r),a===null&&_y(t,e,r,vm,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else _y(t,e,r,null,n)}}function t_(t){return t=Lb(t),SE(t)}var vm=null;function SE(t){if(vm=null,t=Xo(t),t!==null){var e=bf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=FR(e),t!==null)return t;t=null}else if(n===31){if(t=HR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return vm=t,null}function S2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(w6()){case YR:return 2;case WR:return 8;case Gd:case T6:return 32;case XR:return 268435456;default:return 32}default:return 32}}var n_=!1,$a=null,Fa=null,Ha=null,qc=new Map,Gc=new Map,Aa=[],Lz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AA(t,e){switch(t){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Fu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ql(e),e!==null&&T2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vz(t,e,n,r,i){switch(e){case"focusin":return $a=Fu($a,t,e,n,r,i),!0;case"dragenter":return Fa=Fu(Fa,t,e,n,r,i),!0;case"mouseover":return Ha=Fu(Ha,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return qc.set(a,Fu(qc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Gc.set(a,Fu(Gc.get(a)||null,t,e,n,r,i)),!0}return!1}function A2(t){var e=Xo(t.target);if(e!==null){var n=bf(e);if(n!==null){if(e=n.tag,e===13){if(e=FR(n),e!==null){t.blockedOn=e,uS(t.priority,function(){SA(n)});return}}else if(e===31){if(e=HR(n),e!==null){t.blockedOn=e,uS(t.priority,function(){SA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=t_(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);b0=r,n.target.dispatchEvent(r),b0=null}else return e=Ql(n),e!==null&&T2(e),t.blockedOn=n,!1;e.shift()}return!0}function xA(t,e,n){Ad(t)&&n.delete(e)}function Uz(){n_=!1,$a!==null&&Ad($a)&&($a=null),Fa!==null&&Ad(Fa)&&(Fa=null),Ha!==null&&Ad(Ha)&&(Ha=null),qc.forEach(xA),Gc.forEach(xA)}function Bh(t,e){t.blockedOn===e&&(t.blockedOn=null,n_||(n_=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Uz)))}var $h=null;function CA(t){$h!==t&&($h=t,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,function(){$h===t&&($h=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(SE(r||n)===null)continue;break}var a=Ql(n);a!==null&&(t.splice(e,3),e-=3,j0(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pl(t){function e(l){return Bh(l,t)}$a!==null&&Bh($a,t),Fa!==null&&Bh(Fa,t),Ha!==null&&Bh(Ha,t),qc.forEach(e),Gc.forEach(e);for(var n=0;n<Aa.length;n++){var r=Aa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)A2(n),n.blockedOn===null&&Aa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Dn]||null;if(typeof a=="function")s||CA(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Dn]||null)o=s.formAction;else if(SE(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),CA(n)}}}function x2(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function AE(t){this._internalRoot=t}Gp.prototype.render=AE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));var n=e.current,r=Wn();w2(n,r,t,e,null,null)};Gp.prototype.unmount=AE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;w2(t.current,2,null,t,null,null),Fp(),e[Xl]=null}};function Gp(t){this._internalRoot=t}Gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=tP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Aa.length&&e!==0&&e<Aa[n].priority;n++);Aa.splice(n,0,t),n===0&&A2(t)}};var OA=BR.version;if(OA!=="19.2.3")throw Error(B(527,OA,"19.2.3"));Ce.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=p6(e),t=t!==null?qR(t):null,t=t===null?null:t.stateNode,t};var zz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Ef=Fh.inject(zz),Kn=Fh}catch{}}Ip.createRoot=function(t,e){if(!$R(t))throw Error(B(299));var n=!1,r="",i=vN,a=yN,s=_N;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=b2(t,1,!1,null,null,n,r,null,i,a,s,x2),t[Xl]=e.current,_E(t),new AE(e)};Ip.hydrateRoot=function(t,e,n){if(!$R(t))throw Error(B(299));var r=!1,i="",a=vN,s=yN,o=_N,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=b2(t,1,!0,e,n??null,r,i,l,a,s,o,x2),e.context=E2(null),n=e.current,r=Wn(),r=Db(r),i=Va(r),i.callback=null,Ua(n,i,r),n=r,e.current.lanes=n,Tf(e,n),oi(e),t[Xl]=e.current,_E(t),new Gp(e)};Ip.version="19.2.3";function C2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C2)}catch(t){console.error(t)}}C2(),MR.exports=Ip;var Bz=MR.exports;const $z=Qi(Bz),Fz=()=>{};var IA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},I2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,h=(a&3)<<4|o>>4;let d=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(d=64)),r.push(n[c],n[h],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new qz;const d=a<<2|o>>4;if(r.push(d),u!==64){const m=o<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gz=function(t){const e=O2(t);return I2.encodeByteArray(e,!0)},ym=function(t){return Gz(t).replace(/\./g,"")},R2=function(t){try{return I2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=()=>Kz().__FIREBASE_DEFAULTS__,Wz=()=>{if(typeof process>"u"||typeof IA>"u")return;const t=IA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R2(t[1]);return e&&JSON.parse(e)},Kp=()=>{try{return Fz()||Yz()||Wz()||Xz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P2=t=>{var e,n;return(n=(e=Kp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Qz=t=>{const e=P2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N2=()=>{var t;return(t=Kp())==null?void 0:t.config},D2=t=>{var e;return(e=Kp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ym(JSON.stringify(n)),ym(JSON.stringify(s)),""].join(".")}const Ac={};function e5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?t.emulator.push(e):t.prod.push(e);return t}function t5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let RA=!1;function k2(t,e){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Ac[t]===e||Ac[t]||RA)return;Ac[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=e5().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{RA=!0,s()},d}function c(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=t5(r),m=n("text"),g=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),E=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const S=d.element;o(S),c(w,y);const O=u();l(E,v),S.append(E,g,w,O),document.body.appendChild(S)}a?(g.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function r5(){var e;const t=(e=Kp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o5(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l5(){return!r5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u5(){try{return typeof indexedDB=="object"}catch{return!1}}function c5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="FirebaseError";class Ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f5,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nf.prototype.create)}}class Nf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?h5(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ji(i,o,r)}}function h5(t,e){return t.replace(d5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const d5=/\{\$([^}]+)}/g;function m5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(PA(a)&&PA(s)){if(!ao(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ic(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function p5(t,e){const n=new g5(t,e);return n.subscribe.bind(n)}class g5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wy),i.error===void 0&&(i.error=wy),i.complete===void 0&&(i.complete=wy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b5(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _5(t){return t===ks?void 0:t}function b5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const w5={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},T5=pe.INFO,S5={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},A5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=S5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xE{constructor(e){this.name=e,this._logLevel=T5,this._logHandler=A5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const x5=(t,e)=>e.some(n=>t instanceof n);let NA,DA;function C5(){return NA||(NA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O5(){return DA||(DA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j2=new WeakMap,r_=new WeakMap,L2=new WeakMap,Ty=new WeakMap,CE=new WeakMap;function I5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(qa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&j2.set(n,t)}).catch(()=>{}),CE.set(e,t),e}function R5(t){if(r_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});r_.set(t,e)}let i_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P5(t){i_=t(i_)}function N5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sy(this),e,...n);return L2.set(r,e.sort?e.sort():[e]),qa(r)}:O5().includes(t)?function(...e){return t.apply(Sy(this),e),qa(j2.get(this))}:function(...e){return qa(t.apply(Sy(this),e))}}function D5(t){return typeof t=="function"?N5(t):(t instanceof IDBTransaction&&R5(t),x5(t,C5())?new Proxy(t,i_):t)}function qa(t){if(t instanceof IDBRequest)return I5(t);if(Ty.has(t))return Ty.get(t);const e=D5(t);return e!==t&&(Ty.set(t,e),CE.set(e,t)),e}const Sy=t=>CE.get(t);function M5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=qa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qa(s.result),l.oldVersion,l.newVersion,qa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const k5=["get","getKey","getAll","getAllKeys","count"],j5=["put","add","delete","clear"],Ay=new Map;function MA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ay.get(e))return Ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=j5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k5.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Ay.set(e,a),a}P5(t=>({...t,get:(e,n,r)=>MA(e,n)||t.get(e,n,r),has:(e,n)=>!!MA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const a_="@firebase/app",kA="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new xE("@firebase/app"),U5="@firebase/app-compat",z5="@firebase/analytics-compat",B5="@firebase/analytics",$5="@firebase/app-check-compat",F5="@firebase/app-check",H5="@firebase/auth",q5="@firebase/auth-compat",G5="@firebase/database",K5="@firebase/data-connect",Y5="@firebase/database-compat",W5="@firebase/functions",X5="@firebase/functions-compat",Q5="@firebase/installations",Z5="@firebase/installations-compat",J5="@firebase/messaging",e9="@firebase/messaging-compat",t9="@firebase/performance",n9="@firebase/performance-compat",r9="@firebase/remote-config",i9="@firebase/remote-config-compat",a9="@firebase/storage",s9="@firebase/storage-compat",o9="@firebase/firestore",l9="@firebase/ai",u9="@firebase/firestore-compat",c9="firebase",f9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="[DEFAULT]",h9={[a_]:"fire-core",[U5]:"fire-core-compat",[B5]:"fire-analytics",[z5]:"fire-analytics-compat",[F5]:"fire-app-check",[$5]:"fire-app-check-compat",[H5]:"fire-auth",[q5]:"fire-auth-compat",[G5]:"fire-rtdb",[K5]:"fire-data-connect",[Y5]:"fire-rtdb-compat",[W5]:"fire-fn",[X5]:"fire-fn-compat",[Q5]:"fire-iid",[Z5]:"fire-iid-compat",[J5]:"fire-fcm",[e9]:"fire-fcm-compat",[t9]:"fire-perf",[n9]:"fire-perf-compat",[r9]:"fire-rc",[i9]:"fire-rc-compat",[a9]:"fire-gcs",[s9]:"fire-gcs-compat",[o9]:"fire-fst",[u9]:"fire-fst-compat",[l9]:"fire-vertex","fire-js":"fire-js",[c9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,d9=new Map,o_=new Map;function jA(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nl(t){const e=t.name;if(o_.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;o_.set(e,t);for(const n of _m.values())jA(n,t);for(const n of d9.values())jA(n,t);return!0}function OE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new Nf("app","Firebase",m9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=f9;function V2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:s_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ga.create("bad-app-name",{appName:String(i)});if(n||(n=N2()),!n)throw Ga.create("no-options");const a=_m.get(i);if(a){if(ao(n,a.options)&&ao(r,a.config))return a;throw Ga.create("duplicate-app",{appName:i})}const s=new E5(i);for(const l of o_.values())s.addComponent(l);const o=new p9(n,r,s);return _m.set(i,o),o}function U2(t=s_){const e=_m.get(t);if(!e&&t===s_&&N2())return V2();if(!e)throw Ga.create("no-app",{appName:t});return e}function Ka(t,e,n){let r=h9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(s.join(" "));return}Nl(new so(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="firebase-heartbeat-database",v9=1,Kc="firebase-heartbeat-store";let xy=null;function z2(){return xy||(xy=M5(g9,v9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ga.create("idb-open",{originalErrorMessage:t.message})})),xy}async function y9(t){try{const n=(await z2()).transaction(Kc),r=await n.objectStore(Kc).get(B2(t));return await n.done,r}catch(e){if(e instanceof Ji)Ui.warn(e.message);else{const n=Ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function LA(t,e){try{const r=(await z2()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,B2(t)),await r.done}catch(n){if(n instanceof Ji)Ui.warn(n.message);else{const r=Ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function B2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=1024,b9=30;class E9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=VA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>b9){const s=S9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VA(),{heartbeatsToSend:r,unsentEntries:i}=w9(this._heartbeatsCache.heartbeats),a=ym(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ui.warn(n),""}}}function VA(){return new Date().toISOString().substring(0,10)}function w9(t,e=_9){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),UA(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u5()?c5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function UA(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function S9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){Nl(new so("platform-logger",e=>new L5(e),"PRIVATE")),Nl(new so("heartbeat",e=>new E9(e),"PRIVATE")),Ka(a_,kA,t),Ka(a_,kA,"esm2020"),Ka("fire-js","")}A9("");function $2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x9=$2,F2=new Nf("auth","Firebase",$2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new xE("@firebase/auth");function C9(t,...e){bm.logLevel<=pe.WARN&&bm.warn(`Auth (${iu}): ${t}`,...e)}function xd(t,...e){bm.logLevel<=pe.ERROR&&bm.error(`Auth (${iu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw RE(t,...e)}function Mr(t,...e){return RE(t,...e)}function IE(t,e,n){const r={...x9(),[e]:n};return new Nf("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return IE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_r(t,"argument-error"),IE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function RE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return F2.create(t,...e)}function ne(t,e,...n){if(!t)throw RE(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function zi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function I9(){return zA()==="http:"||zA()==="https:"}function zA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I9()||a5()||"connection"in navigator)?navigator.onLine:!0}function P9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=n5()||s5()}get(){return R9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M9=new Mf(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ps(t,e,n,r,i={}){return q2(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Df({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return i5()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ru(t.emulatorConfig.host)&&(u.credentials="include"),H2.fetch()(await G2(t,t.config.apiHost,n,o),u)})}async function q2(t,e,n){t._canInitEmulator=!1;const r={...N9,...e};try{const i=new j9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Hh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IE(t,c,u);_r(t,c)}}catch(i){if(i instanceof Ji)throw i;_r(t,"network-request-failed",{message:String(i)})}}async function kf(t,e,n,r,i={}){const a=await ps(t,e,n,r,i);return"mfaPendingCredential"in a&&_r(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function G2(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?PE(t.config,i):`${t.config.apiScheme}://${i}`;return D9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function k9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),M9.get())})}}function Hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mr(t,e,r);return i.customData._tokenResponse=n,i}function BA(t){return t!==void 0&&t.enterprise!==void 0}class L9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V9(t,e){return ps(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function Em(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z9(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=NE(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:xc(Cy(i.auth_time)),issuedAtTime:xc(Cy(i.iat)),expirationTime:xc(Cy(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cy(t){return Number(t)*1e3}function NE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=R2(n);return i?JSON.parse(i):(xd("Failed to decode base64 JWT payload"),null)}catch(i){return xd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $A(t){const e=NE(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ji&&B9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Yc(t,Em(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?K2(i.providerUserInfo):[],s=H9(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function F9(t){const e=Nt(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function K2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){const n=await q2(t,{},async()=>{const r=Df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await G2(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ru(t.emulatorConfig.host)&&(l.credentials="include"),H2.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G9(t,e){return ps(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=$A(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await q9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new pl;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ne(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new u_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z9(this,e)}reload(){return F9(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Yc(this,U9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:m,providerData:g,stsTokenManager:y}=n;ne(h&&y,e,"internal-error");const w=pl.fromJSON(this.name,y);ne(typeof h=="string",e,"internal-error"),pa(r,e.name),pa(i,e.name),ne(typeof d=="boolean",e,"internal-error"),ne(typeof m=="boolean",e,"internal-error"),pa(a,e.name),pa(s,e.name),pa(o,e.name),pa(l,e.name),pa(u,e.name),pa(c,e.name);const v=new Dr({uid:h,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:m,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(v.providerData=g.map(E=>({...E}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new pl;i.updateFromServerResponse(n);const a=new Dr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?K2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new pl;o.updateFromIdToken(r);const l=new Dr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Map;function xi(t){zi(t instanceof Function,"Expected a class definition");let e=FA.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y2.type="NONE";const HA=Y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Cd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Cd("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Em(this.auth,{idToken:e}).catch(()=>{});return n?Dr._fromGetAccountInfoResponse(this.auth,n,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(xi(HA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||xi(HA);const s=Cd(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let h;if(typeof c=="string"){const d=await Em(e,{idToken:c}).catch(()=>{});if(!d)break;h=await Dr._fromGetAccountInfoResponse(e,d,c)}else h=Dr._fromJSON(e,c);u!==a&&(o=h),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new gl(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new gl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eD(e))return"Blackberry";if(tD(e))return"Webos";if(X2(e))return"Safari";if((e.includes("chrome/")||Q2(e))&&!e.includes("edge/"))return"Chrome";if(J2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function W2(t=dn()){return/firefox\//i.test(t)}function X2(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q2(t=dn()){return/crios\//i.test(t)}function Z2(t=dn()){return/iemobile/i.test(t)}function J2(t=dn()){return/android/i.test(t)}function eD(t=dn()){return/blackberry/i.test(t)}function tD(t=dn()){return/webos/i.test(t)}function DE(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K9(t=dn()){var e;return DE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Y9(){return o5()&&document.documentMode===10}function nD(t=dn()){return DE(t)||J2(t)||tD(t)||eD(t)||/windows phone/i.test(t)||Z2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e=[]){let n;switch(t){case"Browser":n=qA(dn());break;case"Worker":n=`${qA(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=6;class Z9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GA(this),this.idTokenSubscription=new GA(this),this.beforeStateQueue=new W9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Em(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Bn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Ni(this));const n=e?Nt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X9(this),n=new Z9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&C9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gs(t){return Nt(t)}class GA{constructor(e){this.auth=e,this.observer=null,this.addObserver=p5(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eB(t){Yp=t}function iD(t){return Yp.loadJS(t)}function tB(){return Yp.recaptchaEnterpriseScript}function nB(){return Yp.gapiScript}function rB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iB{constructor(){this.enterprise=new aB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sB="recaptcha-enterprise",aD="NO_RECAPTCHA";class oB{constructor(e){this.type=sB,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{V9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new L9(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;BA(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(aD)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iB().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&BA(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tB();l.length!==0&&(l+=o),iD(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function KA(t,e,n,r=!1,i=!1){const a=new oB(t);let s;if(i)s=aD;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function c_(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await KA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await KA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e){const n=OE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ao(a,e??{}))return i;_r(i,"already-initialized")}return n.initialize({options:e})}function uB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cB(t,e,n){const r=gs(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=sD(e),{host:s,port:o}=fB(e),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(ao(u,r.config.emulator)&&ao(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,ru(s)?(M2(`${a}//${s}${l}`),k2("Auth",!0)):hB()}function sD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fB(t){const e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:YA(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:YA(s)}}}function YA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function dB(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return kf(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function gB(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends ME{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,n,"signInWithPassword",mB);case"emailLink":return pB(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,r,"signUpPassword",dB);case"emailLink":return gB(e,{idToken:n,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return kf(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="http://localhost";class Bi extends ME{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Bi(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:vB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _B(t){const e=rc(ic(t)).link,n=e?rc(ic(e)).deep_link_id:null,r=rc(ic(t)).deep_link_id;return(r?rc(ic(r)).link:null)||r||n||e||t}class kE{constructor(e){const n=rc(ic(e)),r=n.apiKey??null,i=n.oobCode??null,a=yB(n.mode??null);ne(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_B(e);try{return new kE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,n){return Wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kE.parseLink(n);return ne(r,"argument-error"),Wc._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cc extends su{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in n&&"signInMethod"in n,"argument-error"),Bi._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),Bi._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Cc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Cc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:o}=e;if(!r&&!i&&!n&&!a||!o)return null;try{return new Cc(o)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends su{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends su{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.GITHUB_SIGN_IN_METHOD="github.com";xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends su{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ca.credential(n,r)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e){return kf(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Dr._fromIdTokenResponse(e,r,i),s=WA(r);return new oo({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WA(r);return new oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Ji{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tm(e,n,r,i)}}function oD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(t,a,e,r):a})}async function EB(t,e,n=!1){const r=await Yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(t,e,n=!1){const{auth:r}=t;if(Bn(r.app))return Promise.reject(Ni(r));const i="reauthenticate";try{const a=await Yc(t,oD(r,i,e,t),n);ne(a.idToken,r,"internal-error");const s=NE(a.idToken);ne(s,r,"internal-error");const{sub:o}=s;return ne(t.uid===o,r,"user-mismatch"),oo._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&_r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e,n=!1){if(Bn(t.app))return Promise.reject(Ni(t));const r="signIn",i=await oD(t,r,e),a=await oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function TB(t,e){return lD(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SB(t,e,n){if(Bn(t.app))return Promise.reject(Ni(t));const r=gs(t),s=await c_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uD(t),l}),o=await oo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function AB(t,e,n){return Bn(t.app)?Promise.reject(Ni(t)):TB(Nt(t),au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uD(t),r})}function xB(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function CB(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function OB(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function IB(t){return Nt(t).signOut()}const Sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=1e3,PB=10;class fD extends cD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Y9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fD.type="LOCAL";const NB=fD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD extends cD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hD.type="SESSION";const dD=hD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await DB(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=LE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(d.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function kB(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function jB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function VB(){return mD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebaseLocalStorageDb",UB=1,Am="firebaseLocalStorage",gD="fbase_key";class jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xp(t,e){return t.transaction([Am],e?"readwrite":"readonly").objectStore(Am)}function zB(){const t=indexedDB.deleteDatabase(pD);return new jf(t).toPromise()}function f_(){const t=indexedDB.open(pD,UB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Am,{keyPath:gD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Am)?e(r):(r.close(),await zB(),e(await f_()))})})}async function XA(t,e,n){const r=Xp(t,!0).put({[gD]:e,value:n});return new jf(r).toPromise()}async function BB(t,e){const n=Xp(t,!1).get(e),r=await new jf(n).toPromise();return r===void 0?null:r.value}function QA(t,e){const n=Xp(t,!0).delete(e);return new jf(n).toPromise()}const $B=800,FB=3;class vD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wp._getInstance(VB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await jB(),!this.activeServiceWorker)return;this.sender=new MB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f_();return await XA(e,Sm,"1"),await QA(e,Sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Xp(i,!1).getAll();return new jf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vD.type="LOCAL";const HB=vD;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){return e?xi(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends ME{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qB(t){return lD(t.auth,new VE(t),t.bypassAuthState)}function GB(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),wB(n,new VE(t),t.bypassAuthState)}async function KB(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),EB(n,new VE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qB;case"linkViaPopup":case"linkViaRedirect":return KB;case"reauthViaPopup":case"reauthViaRedirect":return GB;default:_r(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Mf(2e3,1e4);async function WB(t,e,n){if(Bn(t.app))return Promise.reject(Mr(t,"operation-not-supported-in-this-environment"));const r=gs(t);O9(t,e,jE);const i=yD(r,n);return new Us(r,"signInViaPopup",e,i).executeNotNull()}class Us extends _D{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=LE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YB.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="pendingRedirect",Od=new Map;class QB extends _D{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const r=await ZB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZB(t,e){const n=t8(e),r=e8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function JB(t,e){Od.set(t._key(),e)}function e8(t){return xi(t._redirectPersistence)}function t8(t){return Cd(XB,t.config.apiKey,t.name)}async function n8(t,e,n=!1){if(Bn(t.app))return Promise.reject(Ni(t));const r=gs(t),i=yD(r,e),s=await new QB(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=10*60*1e3;class i8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bD(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r8&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZA(e))}saveEventToCache(e){this.cachedEventUids.add(ZA(e)),this.lastProcessedEventTime=Date.now()}}function ZA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l8=/^https?/;async function u8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s8(t);for(const n of e)try{if(c8(n))return}catch{}_r(t,"unauthorized-domain")}function c8(t){const e=l_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!l8.test(n))return!1;if(o8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new Mf(3e4,6e4);function JA(){const t=Xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h8(t){return new Promise((e,n)=>{var i,a,s;function r(){JA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JA(),n(Mr(t,"network-request-failed"))},timeout:f8.get()})}if((a=(i=Xr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Xr().gapi)!=null&&s.load)r();else{const o=rB("iframefcb");return Xr()[o]=()=>{gapi.load?r():n(Mr(t,"network-request-failed"))},iD(`${nB()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Id=null,e})}let Id=null;function d8(t){return Id=Id||h8(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new Mf(5e3,15e3),p8="__/auth/iframe",g8="emulator/auth/iframe",v8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _8(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?PE(e,g8):`https://${t.config.authDomain}/${p8}`,r={apiKey:e.apiKey,appName:t.name,v:iu},i=y8.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Df(r).slice(1)}`}async function b8(t){const e=await d8(t),n=Xr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:_8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v8,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Mr(t,"network-request-failed"),o=Xr().setTimeout(()=>{a(s)},m8.get());function l(){Xr().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w8=500,T8=600,S8="_blank",A8="http://localhost";class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x8(t,e,n,r=w8,i=T8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...E8,width:r.toString(),height:i.toString(),top:a,left:s},u=dn().toLowerCase();n&&(o=Q2(u)?S8:n),W2(u)&&(e=e||A8,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[m,g])=>`${d}${m}=${g},`,"");if(K9(u)&&o!=="_self")return C8(e||"",o),new ex(null);const h=window.open(e||"",o,c);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new ex(h)}function C8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="__/auth/handler",I8="emulator/auth/handler",R8=encodeURIComponent("fac");async function tx(t,e,n,r,i,a){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:iu,eventId:i};if(e instanceof jE){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",m5(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))s[c]=h}if(e instanceof su){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${R8}=${encodeURIComponent(l)}`:"";return`${P8(t)}?${Df(o).slice(1)}${u}`}function P8({config:t}){return t.emulator?PE(t,I8):`https://${t.authDomain}/${O8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="webStorageSupport";class N8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dD,this._completeRedirectFn=n8,this._overrideRedirectResult=JB}async _openPopup(e,n,r,i){var s;zi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await tx(e,n,r,l_(),i);return x8(e,a,LE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await tx(e,n,r,l_(),i);return kB(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(zi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b8(e),r=new i8(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Oy,{type:Oy},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Oy];a!==void 0&&n(!!a),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nD()||X2()||DE()}}const D8=N8;var nx="@firebase/auth",rx="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j8(t){Nl(new so("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rD(t)},u=new J9(r,i,a,l);return uB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nl(new so("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new M8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ka(nx,rx,k8(t)),Ka(nx,rx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=5*60,V8=D2("authIdTokenMaxAge")||L8;let ix=null;const U8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V8)return;const i=n==null?void 0:n.token;ix!==i&&(ix=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z8(t=U2()){const e=OE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lB(t,{popupRedirectResolver:D8,persistence:[HB,NB,dD]}),r=D2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=U8(a.toString());CB(n,s,()=>s(n.currentUser)),xB(n,o=>s(o))}}const i=P2("auth");return i&&cB(n,`http://${i}`),n}function B8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}eB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Mr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",B8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j8("Browser");var $8="firebase",F8="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka($8,F8,"app");var ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ya,ED;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,x){function C(){}C.prototype=x.prototype,A.F=x.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(P,R,M){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return x.prototype[R].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,x,C){C||(C=0);const P=Array(16);if(typeof x=="string")for(var R=0;R<16;++R)P[R]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(R=0;R<16;++R)P[R]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=A.g[0],C=A.g[1],R=A.g[2];let M=A.g[3],D;D=x+(M^C&(R^M))+P[0]+3614090360&4294967295,x=C+(D<<7&4294967295|D>>>25),D=M+(R^x&(C^R))+P[1]+3905402710&4294967295,M=x+(D<<12&4294967295|D>>>20),D=R+(C^M&(x^C))+P[2]+606105819&4294967295,R=M+(D<<17&4294967295|D>>>15),D=C+(x^R&(M^x))+P[3]+3250441966&4294967295,C=R+(D<<22&4294967295|D>>>10),D=x+(M^C&(R^M))+P[4]+4118548399&4294967295,x=C+(D<<7&4294967295|D>>>25),D=M+(R^x&(C^R))+P[5]+1200080426&4294967295,M=x+(D<<12&4294967295|D>>>20),D=R+(C^M&(x^C))+P[6]+2821735955&4294967295,R=M+(D<<17&4294967295|D>>>15),D=C+(x^R&(M^x))+P[7]+4249261313&4294967295,C=R+(D<<22&4294967295|D>>>10),D=x+(M^C&(R^M))+P[8]+1770035416&4294967295,x=C+(D<<7&4294967295|D>>>25),D=M+(R^x&(C^R))+P[9]+2336552879&4294967295,M=x+(D<<12&4294967295|D>>>20),D=R+(C^M&(x^C))+P[10]+4294925233&4294967295,R=M+(D<<17&4294967295|D>>>15),D=C+(x^R&(M^x))+P[11]+2304563134&4294967295,C=R+(D<<22&4294967295|D>>>10),D=x+(M^C&(R^M))+P[12]+1804603682&4294967295,x=C+(D<<7&4294967295|D>>>25),D=M+(R^x&(C^R))+P[13]+4254626195&4294967295,M=x+(D<<12&4294967295|D>>>20),D=R+(C^M&(x^C))+P[14]+2792965006&4294967295,R=M+(D<<17&4294967295|D>>>15),D=C+(x^R&(M^x))+P[15]+1236535329&4294967295,C=R+(D<<22&4294967295|D>>>10),D=x+(R^M&(C^R))+P[1]+4129170786&4294967295,x=C+(D<<5&4294967295|D>>>27),D=M+(C^R&(x^C))+P[6]+3225465664&4294967295,M=x+(D<<9&4294967295|D>>>23),D=R+(x^C&(M^x))+P[11]+643717713&4294967295,R=M+(D<<14&4294967295|D>>>18),D=C+(M^x&(R^M))+P[0]+3921069994&4294967295,C=R+(D<<20&4294967295|D>>>12),D=x+(R^M&(C^R))+P[5]+3593408605&4294967295,x=C+(D<<5&4294967295|D>>>27),D=M+(C^R&(x^C))+P[10]+38016083&4294967295,M=x+(D<<9&4294967295|D>>>23),D=R+(x^C&(M^x))+P[15]+3634488961&4294967295,R=M+(D<<14&4294967295|D>>>18),D=C+(M^x&(R^M))+P[4]+3889429448&4294967295,C=R+(D<<20&4294967295|D>>>12),D=x+(R^M&(C^R))+P[9]+568446438&4294967295,x=C+(D<<5&4294967295|D>>>27),D=M+(C^R&(x^C))+P[14]+3275163606&4294967295,M=x+(D<<9&4294967295|D>>>23),D=R+(x^C&(M^x))+P[3]+4107603335&4294967295,R=M+(D<<14&4294967295|D>>>18),D=C+(M^x&(R^M))+P[8]+1163531501&4294967295,C=R+(D<<20&4294967295|D>>>12),D=x+(R^M&(C^R))+P[13]+2850285829&4294967295,x=C+(D<<5&4294967295|D>>>27),D=M+(C^R&(x^C))+P[2]+4243563512&4294967295,M=x+(D<<9&4294967295|D>>>23),D=R+(x^C&(M^x))+P[7]+1735328473&4294967295,R=M+(D<<14&4294967295|D>>>18),D=C+(M^x&(R^M))+P[12]+2368359562&4294967295,C=R+(D<<20&4294967295|D>>>12),D=x+(C^R^M)+P[5]+4294588738&4294967295,x=C+(D<<4&4294967295|D>>>28),D=M+(x^C^R)+P[8]+2272392833&4294967295,M=x+(D<<11&4294967295|D>>>21),D=R+(M^x^C)+P[11]+1839030562&4294967295,R=M+(D<<16&4294967295|D>>>16),D=C+(R^M^x)+P[14]+4259657740&4294967295,C=R+(D<<23&4294967295|D>>>9),D=x+(C^R^M)+P[1]+2763975236&4294967295,x=C+(D<<4&4294967295|D>>>28),D=M+(x^C^R)+P[4]+1272893353&4294967295,M=x+(D<<11&4294967295|D>>>21),D=R+(M^x^C)+P[7]+4139469664&4294967295,R=M+(D<<16&4294967295|D>>>16),D=C+(R^M^x)+P[10]+3200236656&4294967295,C=R+(D<<23&4294967295|D>>>9),D=x+(C^R^M)+P[13]+681279174&4294967295,x=C+(D<<4&4294967295|D>>>28),D=M+(x^C^R)+P[0]+3936430074&4294967295,M=x+(D<<11&4294967295|D>>>21),D=R+(M^x^C)+P[3]+3572445317&4294967295,R=M+(D<<16&4294967295|D>>>16),D=C+(R^M^x)+P[6]+76029189&4294967295,C=R+(D<<23&4294967295|D>>>9),D=x+(C^R^M)+P[9]+3654602809&4294967295,x=C+(D<<4&4294967295|D>>>28),D=M+(x^C^R)+P[12]+3873151461&4294967295,M=x+(D<<11&4294967295|D>>>21),D=R+(M^x^C)+P[15]+530742520&4294967295,R=M+(D<<16&4294967295|D>>>16),D=C+(R^M^x)+P[2]+3299628645&4294967295,C=R+(D<<23&4294967295|D>>>9),D=x+(R^(C|~M))+P[0]+4096336452&4294967295,x=C+(D<<6&4294967295|D>>>26),D=M+(C^(x|~R))+P[7]+1126891415&4294967295,M=x+(D<<10&4294967295|D>>>22),D=R+(x^(M|~C))+P[14]+2878612391&4294967295,R=M+(D<<15&4294967295|D>>>17),D=C+(M^(R|~x))+P[5]+4237533241&4294967295,C=R+(D<<21&4294967295|D>>>11),D=x+(R^(C|~M))+P[12]+1700485571&4294967295,x=C+(D<<6&4294967295|D>>>26),D=M+(C^(x|~R))+P[3]+2399980690&4294967295,M=x+(D<<10&4294967295|D>>>22),D=R+(x^(M|~C))+P[10]+4293915773&4294967295,R=M+(D<<15&4294967295|D>>>17),D=C+(M^(R|~x))+P[1]+2240044497&4294967295,C=R+(D<<21&4294967295|D>>>11),D=x+(R^(C|~M))+P[8]+1873313359&4294967295,x=C+(D<<6&4294967295|D>>>26),D=M+(C^(x|~R))+P[15]+4264355552&4294967295,M=x+(D<<10&4294967295|D>>>22),D=R+(x^(M|~C))+P[6]+2734768916&4294967295,R=M+(D<<15&4294967295|D>>>17),D=C+(M^(R|~x))+P[13]+1309151649&4294967295,C=R+(D<<21&4294967295|D>>>11),D=x+(R^(C|~M))+P[4]+4149444226&4294967295,x=C+(D<<6&4294967295|D>>>26),D=M+(C^(x|~R))+P[11]+3174756917&4294967295,M=x+(D<<10&4294967295|D>>>22),D=R+(x^(M|~C))+P[2]+718787259&4294967295,R=M+(D<<15&4294967295|D>>>17),D=C+(M^(R|~x))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+M&4294967295}r.prototype.v=function(A,x){x===void 0&&(x=A.length);const C=x-this.blockSize,P=this.C;let R=this.h,M=0;for(;M<x;){if(R==0)for(;M<=C;)i(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<x;)if(P[R++]=A.charCodeAt(M++),R==this.blockSize){i(this,P),R=0;break}}else for(;M<x;)if(P[R++]=A[M++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=x},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;x=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=x&255,x/=256;for(this.v(A),A=Array(16),x=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)A[x++]=this.g[C]>>>P&255;return A};function a(A,x){var C=o;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=x(A)}function s(A,x){this.h=x;const C=[];let P=!0;for(let R=A.length-1;R>=0;R--){const M=A[R]|0;P&&M==x||(C[R]=M,P=!1)}this.g=C}var o={};function l(A){return-128<=A&&A<128?a(A,function(x){return new s([x|0],x<0?-1:0)}):new s([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return w(u(-A));const x=[];let C=1;for(let P=0;A>=C;P++)x[P]=A/C|0,C*=4294967296;return new s(x,0)}function c(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return w(c(A.substring(1),x));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(x,8));let P=h;for(let M=0;M<A.length;M+=8){var R=Math.min(8,A.length-M);const D=parseInt(A.substring(M,M+R),x);R<8?(R=u(Math.pow(x,R)),P=P.j(R).add(u(D))):(P=P.j(C),P=P.add(u(D)))}return P}var h=l(0),d=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-w(this).m();let A=0,x=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);A+=(P>=0?P:4294967296+P)*x,x*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(y(this))return"-"+w(this).toString(A);const x=u(Math.pow(A,6));var C=this;let P="";for(;;){const R=O(C,x).g;C=v(C,R.j(x));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=R,g(C))return M+P;for(;M.length<6;)M="0"+M;P=M+P}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(let x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=v(this,A),y(A)?-1:g(A)?0:1};function w(A){const x=A.g.length,C=[];for(let P=0;P<x;P++)C[P]=~A.g[P];return new s(C,~A.h).add(d)}t.abs=function(){return y(this)?w(this):this},t.add=function(A){const x=Math.max(this.g.length,A.g.length),C=[];let P=0;for(let R=0;R<=x;R++){let M=P+(this.i(R)&65535)+(A.i(R)&65535),D=(M>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);P=D>>>16,M&=65535,D&=65535,C[R]=D<<16|M}return new s(C,C[C.length-1]&-2147483648?-1:0)};function v(A,x){return A.add(w(x))}t.j=function(A){if(g(this)||g(A))return h;if(y(this))return y(A)?w(this).j(w(A)):w(w(this).j(A));if(y(A))return w(this.j(w(A)));if(this.l(m)<0&&A.l(m)<0)return u(this.m()*A.m());const x=this.g.length+A.g.length,C=[];for(var P=0;P<2*x;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let R=0;R<A.g.length;R++){const M=this.i(P)>>>16,D=this.i(P)&65535,Z=A.i(R)>>>16,q=A.i(R)&65535;C[2*P+2*R]+=D*q,E(C,2*P+2*R),C[2*P+2*R+1]+=M*q,E(C,2*P+2*R+1),C[2*P+2*R+1]+=D*Z,E(C,2*P+2*R+1),C[2*P+2*R+2]+=M*Z,E(C,2*P+2*R+2)}for(A=0;A<x;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=x;A<2*x;A++)C[A]=0;return new s(C,0)};function E(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function S(A,x){this.g=A,this.h=x}function O(A,x){if(g(x))throw Error("division by zero");if(g(A))return new S(h,h);if(y(A))return x=O(w(A),x),new S(w(x.g),w(x.h));if(y(x))return x=O(A,w(x)),new S(w(x.g),x.h);if(A.g.length>30){if(y(A)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var C=d,P=x;P.l(A)<=0;)C=N(C),P=N(P);var R=k(C,1),M=k(P,1);for(P=k(P,2),C=k(C,2);!g(P);){var D=M.add(P);D.l(A)<=0&&(R=R.add(C),M=D),P=k(P,1),C=k(C,1)}return x=v(A,R.j(x)),new S(R,x)}for(R=h;A.l(x)>=0;){for(C=Math.max(1,Math.floor(A.m()/x.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),M=u(C),D=M.j(x);y(D)||D.l(A)>0;)C-=P,M=u(C),D=M.j(x);g(M)&&(M=d),R=R.add(M),A=v(A,D)}return new S(R,A)}t.B=function(A){return O(this,A).h},t.and=function(A){const x=Math.max(this.g.length,A.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)&A.i(P);return new s(C,this.h&A.h)},t.or=function(A){const x=Math.max(this.g.length,A.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)|A.i(P);return new s(C,this.h|A.h)},t.xor=function(A){const x=Math.max(this.g.length,A.g.length),C=[];for(let P=0;P<x;P++)C[P]=this.i(P)^A.i(P);return new s(C,this.h^A.h)};function N(A){const x=A.g.length+1,C=[];for(let P=0;P<x;P++)C[P]=A.i(P)<<1|A.i(P-1)>>>31;return new s(C,A.h)}function k(A,x){const C=x>>5;x%=32;const P=A.g.length-C,R=[];for(let M=0;M<P;M++)R[M]=x>0?A.i(M+C)>>>x|A.i(M+C+1)<<32-x:A.i(M+C);return new s(R,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ED=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Ya=s}).apply(typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wD,ac,TD,Rd,h_,SD,AD,xD;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var p=0;p<f.length;++p){var b=f[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function i(f,p){if(p)e:{var b=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var j=f[I];if(!(j in b))break e;b=b[j]}f=f[f.length-1],I=b[f],p=p(I),p!=I&&p!=null&&e(b,f,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(p){var b=[],I;for(I in p)Object.prototype.hasOwnProperty.call(p,I)&&b.push([I,p[I]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(f){var p=typeof f;return p=="object"&&f!=null||p=="function"}function l(f,p,b){return f.call.apply(f.bind,arguments)}function u(f,p,b){return u=l,u.apply(null,arguments)}function c(f,p){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function h(f,p){function b(){}b.prototype=p.prototype,f.Z=p.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(I,j,V){for(var G=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)G[ue-2]=arguments[ue];return p.prototype[j].apply(I,G)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function m(f){const p=f.length;if(p>0){const b=Array(p);for(let I=0;I<p;I++)b[I]=f[I];return b}return[]}function g(f,p){for(let I=1;I<arguments.length;I++){const j=arguments[I];var b=typeof j;if(b=b!="object"?b:j?Array.isArray(j)?"array":b:"null",b=="array"||b=="object"&&typeof j.length=="number"){b=f.length||0;const V=j.length||0;f.length=b+V;for(let G=0;G<V;G++)f[b+G]=j[G]}else f.push(j)}}class y{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(f){s.setTimeout(()=>{throw f},0)}function v(){var f=A;let p=null;return f.g&&(p=f.g,f.g=f.g.next,f.g||(f.h=null),p.next=null),p}class E{constructor(){this.h=this.g=null}add(p,b){const I=S.get();I.set(p,b),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new y(()=>new O,f=>f.reset());class O{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let N,k=!1,A=new E,x=()=>{const f=Promise.resolve(void 0);N=()=>{f.then(C)}};function C(){for(var f;f=v();){try{f.h.call(f.g)}catch(b){w(b)}var p=S;p.j(f),p.h<100&&(p.h++,f.next=p.g,p.g=f)}k=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(f,p){this.type=f,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,p=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};s.addEventListener("test",b,p),s.removeEventListener("test",b,p)}catch{}return f}();function D(f){return/^[\s\xa0]*$/.test(f)}function Z(f,p){R.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,p)}h(Z,R),Z.prototype.init=function(f,p){const b=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=p,p=f.relatedTarget,p||(b=="mouseover"?p=f.fromElement:b=="mouseout"&&(p=f.toElement)),this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),U=0;function Y(f,p,b,I,j){this.listener=f,this.proxy=null,this.src=p,this.type=b,this.capture=!!I,this.ha=j,this.key=++U,this.da=this.fa=!1}function K(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function J(f,p,b){for(const I in f)p.call(b,f[I],I,f)}function _e(f,p){for(const b in f)p.call(void 0,f[b],b,f)}function pt(f){const p={};for(const b in f)p[b]=f[b];return p}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mn(f,p){let b,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(b in I)f[b]=I[b];for(let V=0;V<gt.length;V++)b=gt[V],Object.prototype.hasOwnProperty.call(I,b)&&(f[b]=I[b])}}function ee(f){this.src=f,this.g={},this.h=0}ee.prototype.add=function(f,p,b,I,j){const V=f.toString();f=this.g[V],f||(f=this.g[V]=[],this.h++);const G=xr(f,p,I,j);return G>-1?(p=f[G],b||(p.fa=!1)):(p=new Y(p,this.src,V,!!I,j),p.fa=b,f.push(p)),p};function Ae(f,p){const b=p.type;if(b in f.g){var I=f.g[b],j=Array.prototype.indexOf.call(I,p,void 0),V;(V=j>=0)&&Array.prototype.splice.call(I,j,1),V&&(K(p),f.g[b].length==0&&(delete f.g[b],f.h--))}}function xr(f,p,b,I){for(let j=0;j<f.length;++j){const V=f[j];if(!V.da&&V.listener==p&&V.capture==!!b&&V.ha==I)return j}return-1}var Ts="closure_lm_"+(Math.random()*1e6|0),Ss={};function F(f,p,b,I,j){if(Array.isArray(p)){for(let V=0;V<p.length;V++)F(f,p[V],b,I,j);return null}return b=bu(b),f&&f[q]?f.J(p,b,o(I)?!!I.capture:!1,j):fe(f,p,b,!1,I,j)}function fe(f,p,b,I,j,V){if(!p)throw Error("Invalid event type");const G=o(j)?!!j.capture:!!j;let ue=Gt(f);if(ue||(f[Ts]=ue=new ee(f)),b=ue.add(p,b,I,G,V),b.proxy)return b;if(I=Ee(),b.proxy=I,I.src=f,I.listener=b,f.addEventListener)M||(j=G),j===void 0&&(j=!1),f.addEventListener(p.toString(),I,j);else if(f.attachEvent)f.attachEvent(Ie(p.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ee(){function f(b){return p.call(f.src,f.listener,b)}const p=pn;return f}function H(f,p,b,I,j){if(Array.isArray(p))for(var V=0;V<p.length;V++)H(f,p[V],b,I,j);else I=o(I)?!!I.capture:!!I,b=bu(b),f&&f[q]?(f=f.i,V=String(p).toString(),V in f.g&&(p=f.g[V],b=xr(p,b,I,j),b>-1&&(K(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete f.g[V],f.h--)))):f&&(f=Gt(f))&&(p=f.g[p.toString()],f=-1,p&&(f=xr(p,b,I,j)),(b=f>-1?p[f]:null)&&kt(b))}function kt(f){if(typeof f!="number"&&f&&!f.da){var p=f.src;if(p&&p[q])Ae(p.i,f);else{var b=f.type,I=f.proxy;p.removeEventListener?p.removeEventListener(b,I,f.capture):p.detachEvent?p.detachEvent(Ie(b),I):p.addListener&&p.removeListener&&p.removeListener(I),(b=Gt(p))?(Ae(b,f),b.h==0&&(b.src=null,p[Ts]=null)):K(f)}}}function Ie(f){return f in Ss?Ss[f]:Ss[f]="on"+f}function pn(f,p){if(f.da)f=!0;else{p=new Z(p,this);const b=f.listener,I=f.ha||f.src;f.fa&&kt(f),f=b.call(I,p)}return f}function Gt(f){return f=f[Ts],f instanceof ee?f:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function bu(f){return typeof f=="function"?f:(f[Cr]||(f[Cr]=function(p){return f.handleEvent(p)}),f[Cr])}function sn(){P.call(this),this.i=new ee(this),this.M=this,this.G=null}h(sn,P),sn.prototype[q]=!0,sn.prototype.removeEventListener=function(f,p,b,I){H(this,f,p,b,I)};function gn(f,p){var b,I=f.G;if(I)for(b=[];I;I=I.G)b.push(I);if(f=f.M,I=p.type||p,typeof p=="string")p=new R(p,f);else if(p instanceof R)p.target=p.target||f;else{var j=p;p=new R(I,f),mn(p,j)}j=!0;let V,G;if(b)for(G=b.length-1;G>=0;G--)V=p.g=b[G],j=gh(V,I,!0,p)&&j;if(V=p.g=f,j=gh(V,I,!0,p)&&j,j=gh(V,I,!1,p)&&j,b)for(G=0;G<b.length;G++)V=p.g=b[G],j=gh(V,I,!1,p)&&j}sn.prototype.N=function(){if(sn.Z.N.call(this),this.i){var f=this.i;for(const p in f.g){const b=f.g[p];for(let I=0;I<b.length;I++)K(b[I]);delete f.g[p],f.h--}}this.G=null},sn.prototype.J=function(f,p,b,I){return this.i.add(String(f),p,!1,b,I)},sn.prototype.K=function(f,p,b,I){return this.i.add(String(f),p,!0,b,I)};function gh(f,p,b,I){if(p=f.i.g[String(p)],!p)return!0;p=p.concat();let j=!0;for(let V=0;V<p.length;++V){const G=p[V];if(G&&!G.da&&G.capture==b){const ue=G.listener,xt=G.ha||G.src;G.fa&&Ae(f.i,G),j=ue.call(xt,I)!==!1&&j}}return j&&!I.defaultPrevented}function g3(f,p){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:s.setTimeout(f,p||0)}function o1(f){f.g=g3(()=>{f.g=null,f.i&&(f.i=!1,o1(f))},f.l);const p=f.h;f.h=null,f.m.apply(null,p)}class v3 extends P{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:o1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eu(f){P.call(this),this.h=f,this.g={}}h(Eu,P);var l1=[];function u1(f){J(f.g,function(p,b){this.g.hasOwnProperty(b)&&kt(p)},f),f.g={}}Eu.prototype.N=function(){Eu.Z.N.call(this),u1(this)},Eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ev=s.JSON.stringify,y3=s.JSON.parse,_3=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function c1(){}function f1(){}var wu={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wv(){R.call(this,"d")}h(wv,R);function Tv(){R.call(this,"c")}h(Tv,R);var As={},h1=null;function vh(){return h1=h1||new sn}As.Ia="serverreachability";function d1(f){R.call(this,As.Ia,f)}h(d1,R);function Tu(f){const p=vh();gn(p,new d1(p))}As.STAT_EVENT="statevent";function m1(f,p){R.call(this,As.STAT_EVENT,f),this.stat=p}h(m1,R);function vn(f){const p=vh();gn(p,new m1(p,f))}As.Ja="timingevent";function p1(f,p){R.call(this,As.Ja,f),this.size=p}h(p1,R);function Su(f,p){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},p)}function Au(){this.g=!0}Au.prototype.ua=function(){this.g=!1};function b3(f,p,b,I,j,V){f.info(function(){if(f.g)if(V){var G="",ue=V.split("&");for(let ke=0;ke<ue.length;ke++){var xt=ue[ke].split("=");if(xt.length>1){const jt=xt[0];xt=xt[1];const $r=jt.split("_");G=$r.length>=2&&$r[1]=="type"?G+(jt+"="+xt+"&"):G+(jt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+p+`
`+b+`
`+G})}function E3(f,p,b,I,j,V,G){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+p+`
`+b+`
`+V+" "+G})}function No(f,p,b,I){f.info(function(){return"XMLHTTP TEXT ("+p+"): "+T3(f,b)+(I?" "+I:"")})}function w3(f,p){f.info(function(){return"TIMEOUT: "+p})}Au.prototype.info=function(){};function T3(f,p){if(!f.g)return p;if(!p)return null;try{const V=JSON.parse(p);if(V){for(f=0;f<V.length;f++)if(Array.isArray(V[f])){var b=V[f];if(!(b.length<2)){var I=b[1];if(Array.isArray(I)&&!(I.length<1)){var j=I[0];if(j!="noop"&&j!="stop"&&j!="close")for(let G=1;G<I.length;G++)I[G]=""}}}}return Ev(V)}catch{return p}}var yh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},g1={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},v1;function Sv(){}h(Sv,c1),Sv.prototype.g=function(){return new XMLHttpRequest},v1=new Sv;function xu(f){return encodeURIComponent(String(f))}function S3(f){var p=1;f=f.split(":");const b=[];for(;p>0&&f.length;)b.push(f.shift()),p--;return f.length&&b.push(f.join(":")),b}function la(f,p,b,I){this.j=f,this.i=p,this.l=b,this.S=I||1,this.V=new Eu(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new y1}function y1(){this.i=null,this.g="",this.h=!1}var _1={},Av={};function xv(f,p,b){f.M=1,f.A=bh(Br(p)),f.u=b,f.R=!0,b1(f,null)}function b1(f,p){f.F=Date.now(),_h(f),f.B=Br(f.A);var b=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),D1(b.i,"t",I),f.C=0,b=f.j.L,f.h=new y1,f.g=Q1(f.j,b?p:null,!f.u),f.P>0&&(f.O=new v3(u(f.Y,f,f.g),f.P)),p=f.V,b=f.g,I=f.ba;var j="readystatechange";Array.isArray(j)||(j&&(l1[0]=j.toString()),j=l1);for(let V=0;V<j.length;V++){const G=F(b,j[V],I||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=f.J?pt(f.J):{},f.u?(f.v||(f.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,p)):(f.v="GET",f.g.ea(f.B,f.v,null,p)),Tu(),b3(f.i,f.v,f.B,f.l,f.S,f.u)}la.prototype.ba=function(f){f=f.target;const p=this.O;p&&fa(f)==3?p.j():this.Y(f)},la.prototype.Y=function(f){try{if(f==this.g)e:{const ue=fa(this.g),xt=this.g.ya(),ke=this.g.ca();if(!(ue<3)&&(ue!=3||this.g&&(this.h.h||this.g.la()||z1(this.g)))){this.K||ue!=4||xt==7||(xt==8||ke<=0?Tu(3):Tu(2)),Cv(this);var p=this.g.ca();this.X=p;var b=A3(this);if(this.o=p==200,E3(this.i,this.v,this.B,this.l,this.S,ue,p),this.o){if(this.U&&!this.L){t:{if(this.g){var I,j=this.g;if((I=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(I)){var V=I;break t}}V=null}if(f=V)No(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ov(this,f);else{this.o=!1,this.m=3,vn(12),xs(this),Cu(this);break e}}if(this.R){f=!0;let jt;for(;!this.K&&this.C<b.length;)if(jt=x3(this,b),jt==Av){ue==4&&(this.m=4,vn(14),f=!1),No(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==_1){this.m=4,vn(15),No(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else No(this.i,this.l,jt,null),Ov(this,jt);if(E1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||b.length!=0||this.h.h||(this.m=1,vn(16),f=!1),this.o=this.o&&f,!f)No(this.i,this.l,b,"[Invalid Chunked Response]"),xs(this),Cu(this);else if(b.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),jv(G),G.P=!0,vn(11))}}else No(this.i,this.l,b,null),Ov(this,b);ue==4&&xs(this),this.o&&!this.K&&(ue==4?K1(this.j,this):(this.o=!1,_h(this)))}else z3(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,vn(12)):(this.m=0,vn(13)),xs(this),Cu(this)}}}catch{}finally{}};function A3(f){if(!E1(f))return f.g.la();const p=z1(f.g);if(p==="")return"";let b="";const I=p.length,j=fa(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return xs(f),Cu(f),"";f.h.i=new s.TextDecoder}for(let V=0;V<I;V++)f.h.h=!0,b+=f.h.i.decode(p[V],{stream:!(j&&V==I-1)});return p.length=0,f.h.g+=b,f.C=0,f.h.g}function E1(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function x3(f,p){var b=f.C,I=p.indexOf(`
`,b);return I==-1?Av:(b=Number(p.substring(b,I)),isNaN(b)?_1:(I+=1,I+b>p.length?Av:(p=p.slice(I,I+b),f.C=I+b,p)))}la.prototype.cancel=function(){this.K=!0,xs(this)};function _h(f){f.T=Date.now()+f.H,w1(f,f.H)}function w1(f,p){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Su(u(f.aa,f),p)}function Cv(f){f.D&&(s.clearTimeout(f.D),f.D=null)}la.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(w3(this.i,this.B),this.M!=2&&(Tu(),vn(17)),xs(this),this.m=2,Cu(this)):w1(this,this.T-f)};function Cu(f){f.j.I==0||f.K||K1(f.j,f)}function xs(f){Cv(f);var p=f.O;p&&typeof p.dispose=="function"&&p.dispose(),f.O=null,u1(f.V),f.g&&(p=f.g,f.g=null,p.abort(),p.dispose())}function Ov(f,p){try{var b=f.j;if(b.I!=0&&(b.g==f||Iv(b.h,f))){if(!f.L&&Iv(b.h,f)&&b.I==3){try{var I=b.Ba.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Ah(b),Th(b);else break e;kv(b),vn(18)}}else b.xa=j[1],0<b.xa-b.K&&j[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Su(u(b.Va,b),6e3));A1(b.h)<=1&&b.ta&&(b.ta=void 0)}else Os(b,11)}else if((f.L||b.g==f)&&Ah(b),!D(p))for(j=b.Ba.g.parse(p),p=0;p<j.length;p++){let ke=j[p];const jt=ke[0];if(!(jt<=b.K))if(b.K=jt,ke=ke[1],b.I==2)if(ke[0]=="c"){b.M=ke[1],b.ba=ke[2];const $r=ke[3];$r!=null&&(b.ka=$r,b.j.info("VER="+b.ka));const Is=ke[4];Is!=null&&(b.za=Is,b.j.info("SVER="+b.za));const ha=ke[5];ha!=null&&typeof ha=="number"&&ha>0&&(I=1.5*ha,b.O=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const da=f.g;if(da){const Ch=da.g?da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ch){var V=I.h;V.g||Ch.indexOf("spdy")==-1&&Ch.indexOf("quic")==-1&&Ch.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Rv(V,V.h),V.h=null))}if(I.G){const Lv=da.g?da.g.getResponseHeader("X-HTTP-Session-Id"):null;Lv&&(I.wa=Lv,$e(I.J,I.G,Lv))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),I=b;var G=f;if(I.na=X1(I,I.L?I.ba:null,I.W),G.L){x1(I.h,G);var ue=G,xt=I.O;xt&&(ue.H=xt),ue.D&&(Cv(ue),_h(ue)),I.g=G}else q1(I);b.i.length>0&&Sh(b)}else ke[0]!="stop"&&ke[0]!="close"||Os(b,7);else b.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Os(b,7):Mv(b):ke[0]!="noop"&&b.l&&b.l.qa(ke),b.A=0)}}Tu(4)}catch{}}var C3=class{constructor(f,p){this.g=f,this.map=p}};function T1(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function S1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function A1(f){return f.h?1:f.g?f.g.size:0}function Iv(f,p){return f.h?f.h==p:f.g?f.g.has(p):!1}function Rv(f,p){f.g?f.g.add(p):f.h=p}function x1(f,p){f.h&&f.h==p?f.h=null:f.g&&f.g.has(p)&&f.g.delete(p)}T1.prototype.cancel=function(){if(this.i=C1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function C1(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let p=f.i;for(const b of f.g.values())p=p.concat(b.G);return p}return m(f.i)}var O1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O3(f,p){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const I=f[b].indexOf("=");let j,V=null;I>=0?(j=f[b].substring(0,I),V=f[b].substring(I+1)):j=f[b],p(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ua(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;f instanceof ua?(this.l=f.l,Ou(this,f.j),this.o=f.o,this.g=f.g,Iu(this,f.u),this.h=f.h,Pv(this,M1(f.i)),this.m=f.m):f&&(p=String(f).match(O1))?(this.l=!1,Ou(this,p[1]||"",!0),this.o=Ru(p[2]||""),this.g=Ru(p[3]||"",!0),Iu(this,p[4]),this.h=Ru(p[5]||"",!0),Pv(this,p[6]||"",!0),this.m=Ru(p[7]||"")):(this.l=!1,this.i=new Nu(null,this.l))}ua.prototype.toString=function(){const f=[];var p=this.j;p&&f.push(Pu(p,I1,!0),":");var b=this.g;return(b||p=="file")&&(f.push("//"),(p=this.o)&&f.push(Pu(p,I1,!0),"@"),f.push(xu(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Pu(b,b.charAt(0)=="/"?P3:R3,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Pu(b,D3)),f.join("")},ua.prototype.resolve=function(f){const p=Br(this);let b=!!f.j;b?Ou(p,f.j):b=!!f.o,b?p.o=f.o:b=!!f.g,b?p.g=f.g:b=f.u!=null;var I=f.h;if(b)Iu(p,f.u);else if(b=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var j=p.h.lastIndexOf("/");j!=-1&&(I=p.h.slice(0,j+1)+I)}if(j=I,j==".."||j==".")I="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){I=j.lastIndexOf("/",0)==0,j=j.split("/");const V=[];for(let G=0;G<j.length;){const ue=j[G++];ue=="."?I&&G==j.length&&V.push(""):ue==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),I&&G==j.length&&V.push("")):(V.push(ue),I=!0)}I=V.join("/")}else I=j}return b?p.h=I:b=f.i.toString()!=="",b?Pv(p,M1(f.i)):b=!!f.m,b&&(p.m=f.m),p};function Br(f){return new ua(f)}function Ou(f,p,b){f.j=b?Ru(p,!0):p,f.j&&(f.j=f.j.replace(/:$/,""))}function Iu(f,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);f.u=p}else f.u=null}function Pv(f,p,b){p instanceof Nu?(f.i=p,M3(f.i,f.l)):(b||(p=Pu(p,N3)),f.i=new Nu(p,f.l))}function $e(f,p,b){f.i.set(p,b)}function bh(f){return $e(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ru(f,p){return f?p?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pu(f,p,b){return typeof f=="string"?(f=encodeURI(f).replace(p,I3),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function I3(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var I1=/[#\/\?@]/g,R3=/[#\?:]/g,P3=/[#\?]/g,N3=/[#\?@]/g,D3=/#/g;function Nu(f,p){this.h=this.g=null,this.i=f||null,this.j=!!p}function Cs(f){f.g||(f.g=new Map,f.h=0,f.i&&O3(f.i,function(p,b){f.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}t=Nu.prototype,t.add=function(f,p){Cs(this),this.i=null,f=Do(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(p),this.h+=1,this};function R1(f,p){Cs(f),p=Do(f,p),f.g.has(p)&&(f.i=null,f.h-=f.g.get(p).length,f.g.delete(p))}function P1(f,p){return Cs(f),p=Do(f,p),f.g.has(p)}t.forEach=function(f,p){Cs(this),this.g.forEach(function(b,I){b.forEach(function(j){f.call(p,j,I,this)},this)},this)};function N1(f,p){Cs(f);let b=[];if(typeof p=="string")P1(f,p)&&(b=b.concat(f.g.get(Do(f,p))));else for(f=Array.from(f.g.values()),p=0;p<f.length;p++)b=b.concat(f[p]);return b}t.set=function(f,p){return Cs(this),this.i=null,f=Do(this,f),P1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[p]),this.h+=1,this},t.get=function(f,p){return f?(f=N1(this,f),f.length>0?String(f[0]):p):p};function D1(f,p,b){R1(f,p),b.length>0&&(f.i=null,f.g.set(Do(f,p),m(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],p=Array.from(this.g.keys());for(let I=0;I<p.length;I++){var b=p[I];const j=xu(b);b=N1(this,b);for(let V=0;V<b.length;V++){let G=j;b[V]!==""&&(G+="="+xu(b[V])),f.push(G)}}return this.i=f.join("&")};function M1(f){const p=new Nu;return p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),p}function Do(f,p){return p=String(p),f.j&&(p=p.toLowerCase()),p}function M3(f,p){p&&!f.j&&(Cs(f),f.i=null,f.g.forEach(function(b,I){const j=I.toLowerCase();I!=j&&(R1(this,I),D1(this,j,b))},f)),f.j=p}function k3(f,p){const b=new Au;if(s.Image){const I=new Image;I.onload=c(ca,b,"TestLoadImage: loaded",!0,p,I),I.onerror=c(ca,b,"TestLoadImage: error",!1,p,I),I.onabort=c(ca,b,"TestLoadImage: abort",!1,p,I),I.ontimeout=c(ca,b,"TestLoadImage: timeout",!1,p,I),s.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else p(!1)}function j3(f,p){const b=new Au,I=new AbortController,j=setTimeout(()=>{I.abort(),ca(b,"TestPingServer: timeout",!1,p)},1e4);fetch(f,{signal:I.signal}).then(V=>{clearTimeout(j),V.ok?ca(b,"TestPingServer: ok",!0,p):ca(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),ca(b,"TestPingServer: error",!1,p)})}function ca(f,p,b,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(b)}catch{}}function L3(){this.g=new _3}function Nv(f){this.i=f.Sb||null,this.h=f.ab||!1}h(Nv,c1),Nv.prototype.g=function(){return new Eh(this.i,this.h)};function Eh(f,p){sn.call(this),this.H=f,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Eh,sn),t=Eh.prototype,t.open=function(f,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=p,this.readyState=1,Mu(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(p.body=f),(this.H||s).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Du(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Mu(this)),this.g&&(this.readyState=3,Mu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;k1(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function k1(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var p=f.value?f.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!f.done}))&&(this.response=this.responseText+=p)}f.done?Du(this):Mu(this),this.readyState==3&&k1(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Du(this))},t.Na=function(f){this.g&&(this.response=f,Du(this))},t.ga=function(){this.g&&Du(this)};function Du(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Mu(f)}t.setRequestHeader=function(f,p){this.A.append(f,p)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=p.next();return f.join(`\r
`)};function Mu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function j1(f){let p="";return J(f,function(b,I){p+=I,p+=":",p+=b,p+=`\r
`}),p}function Dv(f,p,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=j1(b),typeof f=="string"?b!=null&&xu(b):$e(f,p,b))}function rt(f){sn.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(rt,sn);var V3=/^https?$/i,U3=["POST","PUT"];t=rt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,p,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);p=p?p.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():v1.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(f),!0),this.B=!1}catch(V){L1(this,V);return}if(f=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)b.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())b.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(V=>V.toLowerCase()=="content-type"),j=s.FormData&&f instanceof s.FormData,!(Array.prototype.indexOf.call(U3,p,void 0)>=0)||I||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of b)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(V){L1(this,V)}};function L1(f,p){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=p,f.o=5,V1(f),wh(f)}function V1(f){f.A||(f.A=!0,gn(f,"complete"),gn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,gn(this,"complete"),gn(this,"abort"),wh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wh(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?U1(this):this.Xa())},t.Xa=function(){U1(this)};function U1(f){if(f.h&&typeof a<"u"){if(f.v&&fa(f)==4)setTimeout(f.Ca.bind(f),0);else if(gn(f,"readystatechange"),fa(f)==4){f.h=!1;try{const V=f.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var I;if(I=V===0){let G=String(f.D).match(O1)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),I=!V3.test(G?G.toLowerCase():"")}b=I}if(b)gn(f,"complete"),gn(f,"success");else{f.o=6;try{var j=fa(f)>2?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.ca()+"]",V1(f)}}finally{wh(f)}}}}function wh(f,p){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,p||gn(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fa(f){return f.g?f.g.readyState:0}t.ca=function(){try{return fa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var p=this.g.responseText;return f&&p.indexOf(f)==0&&(p=p.substring(f.length)),y3(p)}};function z1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function z3(f){const p={};f=(f.g&&fa(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(D(f[I]))continue;var b=S3(f[I]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const V=p[j]||[];p[j]=V,V.push(b)}_e(p,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ku(f,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||p}function B1(f){this.za=0,this.i=[],this.j=new Au,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ku("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ku("baseRetryDelayMs",5e3,f),this.Za=ku("retryDelaySeedMs",1e4,f),this.Ta=ku("forwardChannelMaxRetries",2,f),this.va=ku("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new T1(f&&f.concurrentRequestLimit),this.Ba=new L3,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=B1.prototype,t.ka=8,t.I=1,t.connect=function(f,p,b,I){vn(0),this.W=f,this.H=p||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.J=X1(this,null,this.W),Sh(this)};function Mv(f){if($1(f),f.I==3){var p=f.V++,b=Br(f.J);if($e(b,"SID",f.M),$e(b,"RID",p),$e(b,"TYPE","terminate"),ju(f,b),p=new la(f,f.j,p),p.M=2,p.A=bh(Br(b)),b=!1,s.navigator&&s.navigator.sendBeacon)try{b=s.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&s.Image&&(new Image().src=p.A,b=!0),b||(p.g=Q1(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_h(p)}W1(f)}function Th(f){f.g&&(jv(f),f.g.cancel(),f.g=null)}function $1(f){Th(f),f.v&&(s.clearTimeout(f.v),f.v=null),Ah(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&s.clearTimeout(f.m),f.m=null)}function Sh(f){if(!S1(f.h)&&!f.m){f.m=!0;var p=f.Ea;N||x(),k||(N(),k=!0),A.add(p,f),f.D=0}}function B3(f,p){return A1(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=p.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Su(u(f.Ea,f,p),Y1(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const j=new la(this,this.j,f);let V=this.o;if(this.U&&(V?(V=pt(V),mn(V,this.U)):V=this.U),this.u!==null||this.R||(j.J=V,V=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=H1(this,j,p),b=Br(this.J),$e(b,"RID",f),$e(b,"CVER",22),this.G&&$e(b,"X-HTTP-Session-Id",this.G),ju(this,b),V&&(this.R?p="headers="+xu(j1(V))+"&"+p:this.u&&Dv(b,this.u,V)),Rv(this.h,j),this.Ra&&$e(b,"TYPE","init"),this.S?($e(b,"$req",p),$e(b,"SID","null"),j.U=!0,xv(j,b,null)):xv(j,b,p),this.I=2}}else this.I==3&&(f?F1(this,f):this.i.length==0||S1(this.h)||F1(this))};function F1(f,p){var b;p?b=p.l:b=f.V++;const I=Br(f.J);$e(I,"SID",f.M),$e(I,"RID",b),$e(I,"AID",f.K),ju(f,I),f.u&&f.o&&Dv(I,f.u,f.o),b=new la(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),p&&(f.i=p.G.concat(f.i)),p=H1(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Rv(f.h,b),xv(b,I,p)}function ju(f,p){f.H&&J(f.H,function(b,I){$e(p,I,b)}),f.l&&J({},function(b,I){$e(p,I,b)})}function H1(f,p,b){b=Math.min(f.i.length,b);const I=f.l?u(f.l.Ka,f.l,f):null;e:{var j=f.i;let ue=-1;for(;;){const xt=["count="+b];ue==-1?b>0?(ue=j[0].g,xt.push("ofs="+ue)):ue=0:xt.push("ofs="+ue);let ke=!0;for(let jt=0;jt<b;jt++){var V=j[jt].g;const $r=j[jt].map;if(V-=ue,V<0)ue=Math.max(0,j[jt].g-100),ke=!1;else try{V="req"+V+"_"||"";try{var G=$r instanceof Map?$r:Object.entries($r);for(const[Is,ha]of G){let da=ha;o(ha)&&(da=Ev(ha)),xt.push(V+Is+"="+encodeURIComponent(da))}}catch(Is){throw xt.push(V+"type="+encodeURIComponent("_badmap")),Is}}catch{I&&I($r)}}if(ke){G=xt.join("&");break e}}G=void 0}return f=f.i.splice(0,b),p.G=f,G}function q1(f){if(!f.g&&!f.v){f.Y=1;var p=f.Da;N||x(),k||(N(),k=!0),A.add(p,f),f.A=0}}function kv(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Su(u(f.Da,f),Y1(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,G1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Su(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vn(10),Th(this),G1(this))};function jv(f){f.B!=null&&(s.clearTimeout(f.B),f.B=null)}function G1(f){f.g=new la(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var p=Br(f.na);$e(p,"RID","rpc"),$e(p,"SID",f.M),$e(p,"AID",f.K),$e(p,"CI",f.F?"0":"1"),!f.F&&f.ia&&$e(p,"TO",f.ia),$e(p,"TYPE","xmlhttp"),ju(f,p),f.u&&f.o&&Dv(p,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=bh(Br(p)),b.u=null,b.R=!0,b1(b,f)}t.Va=function(){this.C!=null&&(this.C=null,Th(this),kv(this),vn(19))};function Ah(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function K1(f,p){var b=null;if(f.g==p){Ah(f),jv(f),f.g=null;var I=2}else if(Iv(f.h,p))b=p.G,x1(f.h,p),I=1;else return;if(f.I!=0){if(p.o)if(I==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var j=f.D;I=vh(),gn(I,new p1(I,b)),Sh(f)}else q1(f);else if(j=p.m,j==3||j==0&&p.X>0||!(I==1&&B3(f,p)||I==2&&kv(f)))switch(b&&b.length>0&&(p=f.h,p.i=p.i.concat(b)),j){case 1:Os(f,5);break;case 4:Os(f,10);break;case 3:Os(f,6);break;default:Os(f,2)}}}function Y1(f,p){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*p}function Os(f,p){if(f.j.info("Error code "+p),p==2){var b=u(f.bb,f),I=f.Ua;const j=!I;I=new ua(I||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ou(I,"https"),bh(I),j?k3(I.toString(),b):j3(I.toString(),b)}else vn(2);f.I=0,f.l&&f.l.pa(p),W1(f),$1(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function W1(f){if(f.I=0,f.ja=[],f.l){const p=C1(f.h);(p.length!=0||f.i.length!=0)&&(g(f.ja,p),g(f.ja,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.oa()}}function X1(f,p,b){var I=b instanceof ua?Br(b):new ua(b);if(I.g!="")p&&(I.g=p+"."+I.g),Iu(I,I.u);else{var j=s.location;I=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;const V=new ua(null);I&&Ou(V,I),p&&(V.g=p),j&&Iu(V,j),b&&(V.h=b),I=V}return b=f.G,p=f.wa,b&&p&&$e(I,b,p),$e(I,"VER",f.ka),ju(f,I),I}function Q1(f,p,b){if(p&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=f.Aa&&!f.ma?new rt(new Nv({ab:b})):new rt(f.ma),p.Fa(f.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z1(){}t=Z1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xh(){}xh.prototype.g=function(f,p){return new jn(f,p)};function jn(f,p){sn.call(this),this.g=new B1(p),this.l=f,this.h=p&&p.messageUrlParams||null,f=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(f?f["X-WebChannel-Content-Type"]=p.messageContentType:f={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(f?f["X-WebChannel-Client-Profile"]=p.sa:f={"X-WebChannel-Client-Profile":p.sa}),this.g.U=f,(f=p&&p.Qb)&&!D(f)&&(this.g.u=f),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!D(p)&&(this.g.G=p,f=this.h,f!==null&&p in f&&(f=this.h,p in f&&delete f[p])),this.j=new Mo(this)}h(jn,sn),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Mv(this.g)},jn.prototype.o=function(f){var p=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Ev(f),f=b);p.i.push(new C3(p.Ya++,f)),p.I==3&&Sh(p)},jn.prototype.N=function(){this.g.l=null,delete this.j,Mv(this.g),delete this.g,jn.Z.N.call(this)};function J1(f){wv.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var p=f.__sm__;if(p){e:{for(const b in p){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,p=p!==null&&f in p?p[f]:void 0),this.data=p}else this.data=f}h(J1,wv);function eS(){Tv.call(this),this.status=1}h(eS,Tv);function Mo(f){this.g=f}h(Mo,Z1),Mo.prototype.ra=function(){gn(this.g,"a")},Mo.prototype.qa=function(f){gn(this.g,new J1(f))},Mo.prototype.pa=function(f){gn(this.g,new eS)},Mo.prototype.oa=function(){gn(this.g,"b")},xh.prototype.createWebChannel=xh.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,xD=function(){return new xh},AD=function(){return vh()},SD=As,h_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yh.NO_ERROR=0,yh.TIMEOUT=8,yh.HTTP_ERROR=6,Rd=yh,g1.COMPLETE="complete",TD=g1,f1.EventType=wu,wu.OPEN="a",wu.CLOSE="b",wu.ERROR="c",wu.MESSAGE="d",sn.prototype.listen=sn.prototype.J,ac=f1,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,wD=rt}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const sx="@firebase/firestore",ox="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new xE("@firebase/firestore");function Fo(){return lo.logLevel}function X(t,...e){if(lo.logLevel<=pe.DEBUG){const n=e.map(UE);lo.debug(`Firestore (${ou}): ${t}`,...n)}}function $i(t,...e){if(lo.logLevel<=pe.ERROR){const n=e.map(UE);lo.error(`Firestore (${ou}): ${t}`,...n)}}function Dl(t,...e){if(lo.logLevel<=pe.WARN){const n=e.map(UE);lo.warn(`Firestore (${ou}): ${t}`,...n)}}function UE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CD(t,r,n)}function CD(t,e,n){let r=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $i(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||CD(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class q8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G8{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Wa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new OD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class K8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=a=>{a.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X8(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function d_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Iy(i)===Iy(a)?ge(i,a):Iy(i)?1:-1}return ge(t.length,e.length)}const Q8=55296,Z8=57343;function Iy(t){const e=t.charCodeAt(0);return e>=Q8&&e<=Z8}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__name__";class Hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Hr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ge(e.length,n.length)}static compareSegments(e,n){const r=Hr.isNumericId(e),i=Hr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):d_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ya.fromString(e.substring(4,e.length-2))}}class ze extends Hr{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const J8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Hr{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return J8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ux}static keyField(){return new Jt([ux])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new W(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new W(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new W(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ze.fromString(e))}static fromName(e){return new te(ze.fromString(e).popFirst(5))}static empty(){return new te(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e,n){if(!n)throw new W(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e$(t,e,n,r){if(e===!0&&r===!0)throw new W(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cx(t){if(!te.isDocumentKey(t))throw new W(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fx(t){if(te.isDocumentKey(t))throw new W(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(t);throw new W(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lf(t,e){if(!RD(t))throw new W(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new W(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=-62135596800,dx=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dx);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hx)throw new W(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dx}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lf(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:St("string",Ge._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Ge(0,0))}static max(){return new ae(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function t$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new ns(i,te.empty(),e)}function n$(t){return new ns(t.readTime,t.key,Xc)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(ae.min(),te.empty(),Xc)}static max(){return new ns(ae.max(),te.empty(),Xc)}}function r$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==i$)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function s$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=-1;function Jp(t){return t==null}function xm(t){return t===0&&1/t==-1/0}function o$(t){return typeof t=="number"&&Number.isInteger(t)&&!xm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="";function l$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mx(e)),e=u$(t.get(n),e);return mx(e)}function u$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case PD:n+="";break;default:n+=a}}return n}function mx(t){return t+PD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ND(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gx(this.data.getIterator())}getIteratorFrom(e){return new gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Rt(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DD("Invalid base64 string: "+a):a}}(e);return new rn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const c$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=c$.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="server_timestamp",kD="__type__",jD="__previous_value__",LD="__local_write_time__";function $E(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kD])==null?void 0:r.stringValue)===MD}function eg(t){const e=t.mapValue.fields[jD];return $E(e)?eg(e):e}function Qc(t){const e=rs(t.mapValue.fields[LD].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r,i,a,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Cm="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Cm}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Cm}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="__type__",h$="__max__",Kh={mapValue:{}},UD="__vector__",Om="value";function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$E(t)?4:m$(t)?9007199254740991:d$(t)?10:11:re(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=rs(i.timestampValue),o=rs(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return is(i.bytesValue).isEqual(is(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ct(i.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ct(i.integerValue)===ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ct(i.doubleValue),o=ct(a.doubleValue);return s===o?xm(s)===xm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(px(s)!==px(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ni(s[l],o[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=as(t),r=as(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ct(a.integerValue||a.doubleValue),l=ct(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return vx(t.timestampValue,e.timestampValue);case 4:return vx(Qc(t),Qc(e));case 5:return d_(t.stringValue,e.stringValue);case 6:return function(a,s){const o=is(a),l=is(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ge(o[u],l[u]);if(c!==0)return c}return ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ge(ct(a.latitude),ct(s.latitude));return o!==0?o:ge(ct(a.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yx(t.arrayValue,e.arrayValue);case 10:return function(a,s){var d,m,g,y;const o=a.fields||{},l=s.fields||{},u=(d=o[Om])==null?void 0:d.arrayValue,c=(m=l[Om])==null?void 0:m.arrayValue,h=ge(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return h!==0?h:yx(u,c)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Kh.mapValue&&s===Kh.mapValue)return 0;if(a===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=d_(l[h],c[h]);if(d!==0)return d;const m=kl(o[l[h]],u[c[h]]);if(m!==0)return m}return ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function vx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=rs(t),r=rs(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function yx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=kl(n[i],r[i]);if(a)return a}return ge(n.length,r.length)}function jl(t){return m_(t)}function m_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=m_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${m_(n.fields[s])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function Pd(t){switch(as(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Pd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return vs(r.fields,(a,s)=>{i+=a.length+Pd(s)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function _x(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p_(t){return!!t&&"integerValue"in t}function FE(t){return!!t&&"arrayValue"in t}function bx(t){return!!t&&"nullValue"in t}function Ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function d$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VD])==null?void 0:r.stringValue)===UD}function Oc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return{...t}}function m$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Oc(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Rn(Oc(this.value))}}function zD(t){const e=[];return vs(t.fields,(n,r)=>{const i=new Jt([n]);if(Nd(r)){const a=zD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new cn(e,0,ae.min(),ae.min(),ae.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,ae.min(),ae.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,ae.min(),ae.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.position=e,this.inclusive=n}}function wx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=kl(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function p$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class wt extends BD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v$(e,n,r):n==="array-contains"?new b$(e,r):n==="in"?new E$(e,r):n==="not-in"?new w$(e,r):n==="array-contains-any"?new T$(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y$(e,r):new _$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends BD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jr(e,n)}matches(e){return $D(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $D(t){return t.op==="and"}function FD(t){return g$(t)&&$D(t)}function g$(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function g_(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(FD(t))return t.filters.map(e=>g_(e)).join(",");{const e=t.filters.map(n=>g_(n)).join(",");return`${t.op}(${e})`}}function HD(t,e){return t instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&HD(s,i.filters[o]),!0):!1}(t,e):void re(19439)}function qD(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(qD).join(" ,")+"}"}(t):"Filter"}class v$ extends wt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class y$ extends wt{constructor(e,n){super(e,"in",n),this.keys=GD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _$ extends wt{constructor(e,n){super(e,"not-in",n),this.keys=GD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class b$ extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return FE(n)&&Jc(n.arrayValue,this.value)}}class E$ extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class w$ extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class T$ extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!FE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function Sx(t,e=null,n=[],r=[],i=null,a=null,s=null){return new S$(t,e,n,r,i,a,s)}function HE(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>g_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.Te=n}return e.Te}function qE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tx(t.startAt,e.startAt)&&Tx(t.endAt,e.endAt)}function v_(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A$(t,e,n,r,i,a,s,o){return new cu(t,e,n,r,i,a,s,o)}function GE(t){return new cu(t)}function Ax(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KD(t){return t.collectionGroup!==null}function Ic(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Rt(Jt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ef(a,r))}),n.has(Jt.keyField().canonicalString())||e.Ie.push(new ef(Jt.keyField(),r))}return e.Ie}function Qr(t){const e=se(t);return e.Ee||(e.Ee=x$(e,Ic(t))),e.Ee}function x$(t,e){if(t.limitType==="F")return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ef(i.field,a)});const n=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y_(t,e){const n=t.filters.concat([e]);return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function __(t,e,n){return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tg(t,e){return qE(Qr(t),Qr(e))&&t.limitType===e.limitType}function YD(t){return`${HE(Qr(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qD(i)).join(", ")}]`),Jp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function ng(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Ic(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=wx(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,Ic(r),i)||r.endAt&&!function(s,o,l){const u=wx(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,Ic(r),i))}(t,e)}function C$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WD(t){return(e,n)=>{let r=!1;for(const i of Ic(t)){const a=O$(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function O$(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?kl(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return ND(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=new et(te.comparator);function Fi(){return I$}const XD=new et(te.comparator);function sc(...t){let e=XD;for(const n of t)e=e.insert(n.key,n);return e}function QD(t){let e=XD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zs(){return Rc()}function ZD(){return Rc()}function Rc(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const R$=new et(te.comparator),P$=new Rt(te.comparator);function ve(...t){let e=P$;for(const n of t)e=e.add(n);return e}const N$=new Rt(ge);function D$(){return N$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(e)?"-0":e}}function JD(t){return{integerValue:""+t}}function M$(t,e){return o$(e)?JD(e):KE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this._=void 0}}function k$(t,e,n){return t instanceof tf?function(i,a){const s={fields:{[kD]:{stringValue:MD},[LD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&$E(a)&&(a=eg(a)),a&&(s.fields[jD]=a),{mapValue:s}}(n,e):t instanceof nf?tM(t,e):t instanceof rf?nM(t,e):function(i,a){const s=eM(i,a),o=xx(s)+xx(i.Ae);return p_(s)&&p_(i.Ae)?JD(o):KE(i.serializer,o)}(t,e)}function j$(t,e,n){return t instanceof nf?tM(t,e):t instanceof rf?nM(t,e):n}function eM(t,e){return t instanceof Rm?function(r){return p_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class tf extends rg{}class nf extends rg{constructor(e){super(),this.elements=e}}function tM(t,e){const n=rM(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class rf extends rg{constructor(e){super(),this.elements=e}}function nM(t,e){let n=rM(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Rm extends rg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xx(t){return ct(t.integerValue||t.doubleValue)}function rM(t){return FE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n){this.field=e,this.transform=n}}function V$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nf&&i instanceof nf||r instanceof rf&&i instanceof rf?Ml(r.elements,i.elements,ni):r instanceof Rm&&i instanceof Rm?ni(r.Ae,i.Ae):r instanceof tf&&i instanceof tf}(t.transform,e.transform)}class U${constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ig{}function iM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YE(t.key,vr.none()):new Vf(t.key,t.data,vr.none());{const n=t.data,r=Rn.empty();let i=new Rt(Jt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new ys(t.key,r,new Hn(i.toArray()),vr.none())}}function z$(t,e,n){t instanceof Vf?function(i,a,s){const o=i.value.clone(),l=Ox(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(i,a,s){if(!Dd(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=Ox(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(aM(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Pc(t,e,n,r){return t instanceof Vf?function(a,s,o,l){if(!Dd(a.precondition,s))return o;const u=a.value.clone(),c=Ix(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(a,s,o,l){if(!Dd(a.precondition,s))return o;const u=Ix(a.fieldTransforms,l,s),c=s.data;return c.setAll(aM(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,s,o){return Dd(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function B$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=eM(r.transform,i||null);a!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,a))}return n||null}function Cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(a,s)=>V$(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends ig{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ys extends ig{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ox(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,j$(s,o,n[i]))}return r}function Ix(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,k$(a,s,e))}return r}class YE extends ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $$ extends ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&z$(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=iM(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>Cx(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>Cx(n,r))}}class WE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return R$}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new WE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,we;function G$(t){switch(t){case z.OK:return re(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function sM(t){if(t===void 0)return $i("GRPC error has no .code"),z.UNKNOWN;switch(t){case vt.OK:return z.OK;case vt.CANCELLED:return z.CANCELLED;case vt.UNKNOWN:return z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return z.INTERNAL;case vt.UNAVAILABLE:return z.UNAVAILABLE;case vt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case vt.NOT_FOUND:return z.NOT_FOUND;case vt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case vt.ABORTED:return z.ABORTED;case vt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case vt.DATA_LOSS:return z.DATA_LOSS;default:return re(39323,{code:t})}}(we=vt||(vt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new Ya([4294967295,4294967295],0);function Rx(t){const e=K$().encode(t),n=new ED;return n.update(e),new Uint8Array(n.digest())}function Px(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ya([n,r],0),new Ya([i,a],0)]}class XE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ya.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ya.fromNumber(r)));return i.compare(Y$)===1&&(i=new Ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rx(e),[r,i]=Px(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new XE(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=Rx(e),[r,i]=Px(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ag(ae.min(),i,new et(ge),Fi(),ve())}}class Uf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uf(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class oM{constructor(e,n){this.targetId=e,this.Ce=n}}class lM{constructor(e,n,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Nx{constructor(){this.ve=0,this.Fe=Dx(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:a})}}),new Uf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Dx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class W${constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.Je=Yh(),this.He=Yh(),this.Ye=new et(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(v_(a))if(r===0){const s=new te(a.path);this.et(n,s,cn.newNoDocument(s,ae.min()))}else Oe(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=is(r).toUint8Array()}catch(l){if(l instanceof DD)return Dl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new XE(s,i,a)}catch(l){return Dl(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&v_(o.target)){const l=new te(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,cn.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=ve();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new ag(e,n,this.Ye,this.je,r);return this.je=Fi(),this.Je=Yh(),this.He=Yh(),this.Ye=new et(ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yh(){return new et(te.comparator)}function Dx(){return new et(te.comparator)}const X$={asc:"ASCENDING",desc:"DESCENDING"},Q$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z$={and:"AND",or:"OR"};class J${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b_(t,e){return t.useProto3Json||Jp(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eF(t,e){return Pm(t,e.toTimestamp())}function Zr(t){return Oe(!!t,49232),ae.fromTimestamp(function(n){const r=rs(n);return new Ge(r.seconds,r.nanos)}(t))}function QE(t,e){return E_(t,e).canonicalString()}function E_(t,e){const n=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cM(t){const e=ze.fromString(t);return Oe(pM(e),10190,{key:e.toString()}),e}function w_(t,e){return QE(t.databaseId,e.path)}function Ry(t,e){const n=cM(e);if(n.get(1)!==t.databaseId.projectId)throw new W(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(hM(n))}function fM(t,e){return QE(t.databaseId,e)}function tF(t){const e=cM(t);return e.length===4?ze.emptyPath():hM(e)}function T_(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hM(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mx(t,e,n){return{name:w_(t,e),fields:n.value.mapValue.fields}}function nF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Oe(c===void 0||typeof c=="string",58123),rn.fromBase64String(c||"")):(Oe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),rn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const c=u.code===void 0?z.UNKNOWN:sM(u.code);return new W(c,u.message||"")}(s);n=new lM(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ry(t,r.document.name),a=Zr(r.document.updateTime),s=r.document.createTime?Zr(r.document.createTime):ae.min(),o=new Rn({mapValue:{fields:r.document.fields}}),l=cn.newFoundDocument(i,a,s,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Md(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ry(t,r.document),a=r.readTime?Zr(r.readTime):ae.min(),s=cn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Md([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ry(t,r.document),a=r.removedTargetIds||[];n=new Md([],a,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new q$(i,a),o=r.targetId;n=new oM(o,s)}}return n}function rF(t,e){let n;if(e instanceof Vf)n={update:Mx(t,e.key,e.value)};else if(e instanceof YE)n={delete:w_(t,e.key)};else if(e instanceof ys)n={update:Mx(t,e.key,e.data),updateMask:hF(e.fieldMask)};else{if(!(e instanceof $$))return re(16599,{Vt:e.type});n={verify:w_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof tf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof rf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rm)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:re(27497)}(t,e.precondition)),n}function iF(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Zr(i.updateTime):Zr(a);return s.isEqual(ae.min())&&(s=Zr(a)),new U$(s,i.transformResults||[])}(n,e))):[]}function aF(t,e){return{documents:[fM(t,e.path)]}}function sF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fM(t,i);const a=function(u){if(u.length!==0)return mM(jr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:qo(d.field),direction:uF(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=b_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function oF(t){let e=tF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(h){const d=dM(h);return d instanceof jr&&FD(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(g){return new ef(Go(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Jp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new Im(m,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,m=h.values||[];return new Im(m,d)}(n.endAt)),A$(e,i,s,a,o,"F",l,u)}function lF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Go(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(n.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Go(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return wt.create(Go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>dM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function uF(t){return X$[t]}function cF(t){return Q$[t]}function fF(t){return Z$[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Go(t){return Jt.fromServerFormat(t.fieldPath)}function mM(t){return t instanceof wt?function(n){if(n.op==="=="){if(Ex(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(bx(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ex(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(bx(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:cF(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(i=>mM(i));return r.length===1?r[0]:{compositeFilter:{op:fF(n.op),filters:r}}}(t):re(54877,{filter:t})}function hF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r,i,a=ae.min(),s=ae.min(),o=rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.yt=e}}function mF(t){const e=oF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?__(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.Cn=new gF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ns.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class gF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(ze.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gM=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(gM,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ll(0)}static cr(){return new Ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="LruGarbageCollector",vF=1048576;function Lx([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class yF{constructor(e){this.Ir=e,this.buffer=new Rt(Lx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Lx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _F{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(jx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uu(n)?X(jx,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Vr(3e5)})}}class bF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Zp.ce);const r=new yF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(kx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kx):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Fo()<=pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function EF(t,e){return new bF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.changes=new Ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pc(r.mutation,i,Hn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=sc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Fi();const s=Rc(),o=function(){return Rc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ys)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Pc(c.mutation,u,c.mutation.getFieldMask(),Ge.now())):s.set(u.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new TF(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Rc();let i=new et((s,o)=>s-o),a=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Hn.empty();c=o.applyToLocalView(u,c),r.set(l,c);const h=(i.get(o.batchId)||ve()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,h=ZD();c.forEach(d=>{if(!a.has(d)){const m=iM(n.get(d),r.get(d));m!==null&&h.set(d,m),a=a.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):$.resolve(zs());let o=Xc,l=a;return s.next(u=>$.forEach(u,(c,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,ve())).next(c=>({batchId:o,changes:QD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=sc();return this.indexManager.getCollectionParents(e,a).next(o=>$.forEach(o,l=>{const u=function(h,d){return new cu(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,cn.newInvalidDocument(c)))});let o=sc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Pc(c.mutation,u,Hn.empty(),Ge.now()),ng(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:mF(i.bundledQuery),readTime:Zr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.overlays=new et(te.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zs();return $.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=zs(),a=n.length+1,s=new te(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new et((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=zs(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=zs(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return $.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new H$(n,r));let a=this.qr.get(n);a===void 0&&(a=ve(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.Qr=new Rt(Vt.$r),this.Ur=new Rt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new ze([])),r=new Vt(n,e),i=new Vt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new ze([])),r=new Vt(n,e),i=new Vt(n,e+1);let a=ve();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Vt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new F$(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Vt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return $.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?BE:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),$.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(ge);return n.forEach(i=>{const a=new Vt(i,0),s=new Vt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;te.isDocumentKey(a)||(a=a.child(""));const s=new Vt(new te(a),0);let o=new Rt(ge);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),$.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,i=>{const a=new Vt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Vt(n,0),i=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.ri=e,this.docs=function(){return new et(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Fi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Fi();const s=n.path,o=new te(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||r$(n$(c),r)<=0||(i.has(c.key)||ng(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return $.resolve(a)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RF(this)}getSize(e){return $.resolve(this.size)}}class RF extends wF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.persistence=e,this.si=new Ao(n=>HE(n),qE),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new ZE,this.targetCount=0,this.ai=Ll.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ll(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),$.waitFor(a).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zp(0),this.li=!1,this.li=!0,this.hi=new CF,this.referenceDelegate=e(this),this.Pi=new PF(this),this.indexManager=new pF,this.remoteDocumentCache=function(i){return new IF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new dF(n),this.Ii=new AF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new OF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new NF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class NF extends a${constructor(e){super(),this.currentSequenceNumber=e}}class JE{constructor(e){this.persistence=e,this.Ri=new ZE,this.Vi=null}static mi(e){return new JE(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const i=te.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nm{constructor(e,n){this.persistence=e,this.pi=new Ao(r=>l$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=EF(this,n)}static mi(e,n){return new Nm(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ve(),i=ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ew(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return l5()?8:s$(dn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new DF;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fo()<=pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Fo()<=pe.DEBUG&&X("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fo()<=pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):$.resolve())}ys(e,n){if(Ax(n))return $.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=__(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ve(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,s,l.readTime)?this.ys(e,__(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Ax(n)||i.isEqual(ae.min())?$.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?$.resolve(null):(Fo()<=pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.vs(e,s,n,t$(i,Xc)).next(o=>o))})}Ds(e,n){let r=new Rt(WD(e));return n.forEach((i,a)=>{ng(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Fo()<=pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="LocalStore",kF=3e8;class jF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new et(ge),this.xs=new Ao(a=>HE(a),qE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function LF(t,e,n,r){return new jF(t,e,n,r)}async function yM(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function VF(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const h=u.batch,d=h.keys();let m=$.resolve();return d.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(y=>{const w=u.docVersions.get(g);Oe(w!==null,48541),y.version.compareTo(w)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ve();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _M(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function UF(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;o.push(n.Pi.removeMatchingKeys(a,c.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,c.addedDocuments,h)));let m=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(rn.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(y,w,v){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=kF?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,m,c)&&o.push(n.Pi.updateTargetData(a,m))});let l=Fi(),u=ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(zF(a,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(ae.min())){const c=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(c)}return $.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function zF(t,e,n){let r=ve(),i=ve();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Fi();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):X(tw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function BF(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=BE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $F(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,$.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Ma(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function S_(t,e,n){const r=se(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!uu(s))throw s;X(tw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Vx(t,e,n){const r=se(t);let i=ae.min(),a=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=se(l),d=h.xs.get(c);return d!==void 0?$.resolve(h.Ms.get(d)):h.Pi.getTargetData(u,c)}(r,s,Qr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?a:ve())).next(o=>(FF(r,C$(e),o),{documents:o,Qs:a})))}function FF(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class Ux{constructor(){this.activeTargetIds=D$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HF{constructor(){this.Mo=new Ux,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ux,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="ConnectivityMonitor";class Bx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(zx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(zx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function A_(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="RestConnection",GF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Cm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=A_(),o=this.zo(e,n.toUriEncodedString());X(Py,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),c=ru(u);return this.Jo(e,o,l,r,c).then(h=>(X(Py,`Received RPC '${e}' ${s}: `,h),h),h=>{throw Dl(Py,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=GF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class WF extends KF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=A_();return new Promise((o,l)=>{const u=new wD;u.setWithCredentials(!0),u.listenOnce(TD.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rd.NO_ERROR:const h=u.getResponseJson();X(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Rd.TIMEOUT:X(on,`RPC '${e}' ${s} timed out`),l(new W(z.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const d=u.getStatus();if(X(on,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const y=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(E)>=0?E:z.UNKNOWN}(g.status);l(new W(y,g.message))}else l(new W(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new W(z.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(on,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=A_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xD(),o=AD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");X(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);this.I_(h);let d=!1,m=!1;const g=new YF({Yo:w=>{m?X(on,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(X(on,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),X(on,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Zo:()=>h.close()}),y=(w,v,E)=>{w.listen(v,S=>{try{E(S)}catch(O){setTimeout(()=>{throw O},0)}})};return y(h,ac.EventType.OPEN,()=>{m||(X(on,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),y(h,ac.EventType.CLOSE,()=>{m||(m=!0,X(on,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(h))}),y(h,ac.EventType.ERROR,w=>{m||(m=!0,Dl(on,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),g.a_(new W(z.UNAVAILABLE,"The operation could not be completed")))}),y(h,ac.EventType.MESSAGE,w=>{var v;if(!m){const E=w.data[0];Oe(!!E,16349);const S=E,O=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(O){X(on,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let k=function(C){const P=vt[C];if(P!==void 0)return sM(P)}(N),A=O.message;k===void 0&&(k=z.INTERNAL,A="Unknown error status: "+N+" with message "+O.message),m=!0,g.a_(new W(k,A)),h.close()}else X(on,`RPC '${e}' stream ${i} received:`,E),g.u_(E)}}),y(o,SD.STAT_EVENT,w=>{w.stat===h_.PROXY?X(on,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===h_.NOPROXY&&X(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){return new J$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="PersistentStream";class EM{constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new W(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X($x,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X($x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XF extends EM{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nF(this.serializer,e),r=function(a){if(!("targetChange"in a))return ae.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Zr(s.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=T_(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=v_(l)?{documents:aF(a,l)}:{query:sF(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=uM(a,s.resumeToken);const u=b_(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=Pm(a,s.snapshotVersion.toTimestamp());const u=b_(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=lF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=T_(this.serializer),n.removeTarget=e,this.q_(n)}}class QF extends EM{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iF(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=T_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{}class JF extends ZF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new W(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,E_(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new W(z.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,E_(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class e7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class t7{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{xo(this)&&(X(uo,"Restarting streams for network reachability change."),await async function(l){const u=se(l);u.Ea.add(4),await zf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await og(u)}(this))})}),this.Ra=new e7(r,i)}}async function og(t){if(xo(t))for(const e of t.da)await e(!0)}async function zf(t){for(const e of t.da)await e(!1)}function wM(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),aw(n)?iw(n):fu(n).O_()&&rw(n,e))}function nw(t,e){const n=se(t),r=fu(n);n.Ia.delete(e),r.O_()&&TM(n,e),n.Ia.size===0&&(r.O_()?r.L_():xo(n)&&n.Ra.set("Unknown"))}function rw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fu(t).Y_(e)}function TM(t,e){t.Va.Ue(e),fu(t).Z_(e)}function iw(t){t.Va=new W$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fu(t).start(),t.Ra.ua()}function aw(t){return xo(t)&&!fu(t).x_()&&t.Ia.size>0}function xo(t){return se(t).Ea.size===0}function SM(t){t.Va=void 0}async function n7(t){t.Ra.set("Online")}async function r7(t){t.Ia.forEach((e,n)=>{rw(t,e)})}async function i7(t,e){SM(t),aw(t)?(t.Ra.ha(e),iw(t)):t.Ra.set("Unknown")}async function a7(t,e,n){if(t.Ra.set("Online"),e instanceof lM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){X(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dm(t,r)}else if(e instanceof Md?t.Va.Ze(e):e instanceof oM?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await _M(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.Ia.get(u);c&&a.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.Ia.get(l);if(!c)return;a.Ia.set(l,c.withResumeToken(rn.EMPTY_BYTE_STRING,c.snapshotVersion)),TM(a,l);const h=new Ma(c.target,l,u,c.sequenceNumber);rw(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X(uo,"Failed to raise snapshot:",r),await Dm(t,r)}}async function Dm(t,e,n){if(!uu(e))throw e;t.Ea.add(1),await zf(t),t.Ra.set("Offline"),n||(n=()=>_M(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(uo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await og(t)})}function AM(t,e){return e().catch(n=>Dm(t,n,e))}async function lg(t){const e=se(t),n=ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:BE;for(;s7(e);)try{const i=await BF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,o7(e,i)}catch(i){await Dm(e,i)}xM(e)&&CM(e)}function s7(t){return xo(t)&&t.Ta.length<10}function o7(t,e){t.Ta.push(e);const n=ss(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xM(t){return xo(t)&&!ss(t).x_()&&t.Ta.length>0}function CM(t){ss(t).start()}async function l7(t){ss(t).ra()}async function u7(t){const e=ss(t);for(const n of t.Ta)e.ea(n.mutations)}async function c7(t,e,n){const r=t.Ta.shift(),i=WE.from(r,e,n);await AM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lg(t)}async function f7(t,e){e&&ss(t).X_&&await async function(r,i){if(function(s){return G$(s)&&s!==z.ABORTED}(i.code)){const a=r.Ta.shift();ss(r).B_(),await AM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await lg(r)}}(t,e),xM(t)&&CM(t)}async function Fx(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),X(uo,"RemoteStore received new credentials");const r=xo(n);n.Ea.add(3),await zf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await og(n)}async function h7(t,e){const n=se(t);e?(n.Ea.delete(2),await og(n)):e||(n.Ea.add(2),await zf(n),n.Ra.set("Unknown"))}function fu(t){return t.ma||(t.ma=function(n,r,i){const a=se(n);return a.sa(),new XF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:n7.bind(null,t),t_:r7.bind(null,t),r_:i7.bind(null,t),H_:a7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),aw(t)?iw(t):t.Ra.set("Unknown")):(await t.ma.stop(),SM(t))})),t.ma}function ss(t){return t.fa||(t.fa=function(n,r,i){const a=se(n);return a.sa(),new QF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:l7.bind(null,t),r_:f7.bind(null,t),ta:u7.bind(null,t),na:c7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await lg(t)):(await t.fa.stop(),t.Ta.length>0&&(X(uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new sw(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ow(t,e){if($i("AsyncQueue",`${e}: ${t}`),uu(t))return new W(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.ga=new et(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vl{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Vl(e,n,yl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class m7{constructor(){this.queries=qx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),a=i.queries;i.queries=qx(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new W(z.ABORTED,"Firestore shutting down"))}}function qx(){return new Ao(t=>YD(t),tg)}async function OM(t,e){const n=se(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new d7,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=ow(s,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&lw(n)}async function IM(t,e){const n=se(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p7(t,e){const n=se(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&lw(n)}function g7(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function lw(t){t.Ca.forEach(e=>{e.next()})}var x_,Gx;(Gx=x_||(x_={})).Ma="default",Gx.Cache="cache";class RM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.key=e}}class NM{constructor(e){this.key=e}}class v7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=WD(e),this.tu=new yl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Hx,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),m=ng(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;d&&m?d.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),w=!0):this.su(d,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!d&&m?(r.track({type:0,doc:m}),w=!0):d&&!m&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(o=!0)),w&&(m?(s=s.add(m),a=y?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,h)=>function(m,g){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:w})}};return y(m)-y(g)}(c.type,h.type)||this.eu(c.doc,h.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Vl(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new NM(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new PM(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uw="SyncEngine";class y7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _7{constructor(e){this.key=e,this.hu=!1}}class b7{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ao(o=>YD(o),tg),this.Iu=new Map,this.Eu=new Set,this.du=new et(te.comparator),this.Au=new Map,this.Ru=new ZE,this.Vu={},this.mu=new Map,this.fu=Ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E7(t,e,n=!0){const r=VM(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await DM(r,e,n,!0),i}async function w7(t,e){const n=VM(t);await DM(n,e,!0,!1)}async function DM(t,e,n,r){const i=await $F(t.localStore,Qr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await T7(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&wM(t.remoteStore,i),o}async function T7(t,e,n,r,i){t.pu=(h,d,m)=>async function(y,w,v,E){let S=w.view.ru(v);S.Cs&&(S=await Vx(y.localStore,w.query,!1).then(({documents:A})=>w.view.ru(A,S)));const O=E&&E.targetChanges.get(w.targetId),N=E&&E.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(S,y.isPrimaryClient,O,N);return Yx(y,w.targetId,k.au),k.snapshot}(t,h,d,m);const a=await Vx(t.localStore,e,!0),s=new v7(e,a.Qs),o=s.ru(a.documents),l=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);Yx(t,n,u.au);const c=new y7(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function S7(t,e,n){const r=se(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!tg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await S_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nw(r.remoteStore,i.targetId),C_(r,i.targetId)}).catch(lu)):(C_(r,i.targetId),await S_(r.localStore,i.targetId,!0))}async function A7(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nw(n.remoteStore,r.targetId))}async function x7(t,e,n){const r=D7(t);try{const i=await function(s,o){const l=se(s),u=Ge.now(),c=o.reduce((m,g)=>m.add(g.key),ve());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Fi(),y=ve();return l.Ns.getEntries(m,c).next(w=>{g=w,g.forEach((v,E)=>{E.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(w=>{h=w;const v=[];for(const E of o){const S=B$(E,h.get(E.key).overlayedDocument);S!=null&&v.push(new ys(E.key,S,zD(S.value.mapValue),vr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,v,o)}).next(w=>{d=w;const v=w.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,w.batchId,v)})}).then(()=>({batchId:d.batchId,changes:QD(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new et(ge)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await Bf(r,i.changes),await lg(r.remoteStore)}catch(i){const a=ow(i,"Failed to persist write");n.reject(a)}}async function MM(t,e){const n=se(t);try{const r=await UF(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Oe(s.hu,14607):i.removedDocuments.size>0&&(Oe(s.hu,42227),s.hu=!1))}),await Bf(n,r,e)}catch(r){await lu(r)}}function Kx(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=se(s);l.onlineState=o;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Sa)d.va(o)&&(u=!0)}),u&&lw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C7(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new et(te.comparator);s=s.insert(a,cn.newNoDocument(a,ae.min()));const o=ve().add(a),l=new ag(ae.min(),new Map,new et(ge),s,o);await MM(r,l),r.du=r.du.remove(a),r.Au.delete(e),cw(r)}else await S_(r.localStore,e,!1).then(()=>C_(r,e,n)).catch(lu)}async function O7(t,e){const n=se(t),r=e.batch.batchId;try{const i=await VF(n.localStore,e);jM(n,r,null),kM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bf(n,i)}catch(i){await lu(i)}}async function I7(t,e,n){const r=se(t);try{const i=await function(s,o){const l=se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Oe(h!==null,37113),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);jM(r,e,n),kM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bf(r,i)}catch(i){await lu(i)}}function kM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jM(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function C_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||LM(t,r)})}function LM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(nw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),cw(t))}function Yx(t,e,n){for(const r of n)r instanceof PM?(t.Ru.addReference(r.key,e),R7(t,r)):r instanceof NM?(X(uw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||LM(t,r.key)):re(19791,{wu:r})}function R7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(uw,"New document in limbo: "+n),t.Eu.add(r),cw(t))}function cw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(ze.fromString(e)),r=t.fu.next();t.Au.set(r,new _7(n)),t.du=t.du.insert(n,r),wM(t.remoteStore,new Ma(Qr(GE(n.path)),r,"TargetPurposeLimboResolution",Zp.ce))}}async function Bf(t,e,n){const r=se(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=ew.As(l.targetId,u);a.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,d=>$.forEach(d.Es,m=>c.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>$.forEach(d.ds,m=>c.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!uu(h))throw h;X(tw,"Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const m=c.Ms.get(d),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(d,y)}}}(r.localStore,a))}async function P7(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){X(uw,"User change. New user:",e.toKey());const r=await yM(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new W(z.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bf(n,r.Ls)}}function N7(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let i=ve();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function VM(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C7.bind(null,e),e.Pu.H_=p7.bind(null,e.eventManager),e.Pu.yu=g7.bind(null,e.eventManager),e}function D7(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I7.bind(null,e),e}class Mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LF(this.persistence,new MF,e.initialUser,this.serializer)}Cu(e){return new vM(JE.mi,this.serializer)}Du(e){return new HF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mm.provider={build:()=>new Mm};class M7 extends Mm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _F(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new vM(r=>Nm.mi(r,n),this.serializer)}}class O_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P7.bind(null,this.syncEngine),await h7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m7}()}createDatastore(e){const n=sg(e.databaseInfo.databaseId),r=function(a){return new WF(a)}(e.databaseInfo);return function(a,s,o,l){return new JF(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new t7(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Kx(this.syncEngine,n,0),function(){return Bx.v()?new Bx:new qF}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,c){const h=new b7(i,a,s,o,l,u);return c&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=se(i);X(uo,"RemoteStore shutting down."),a.Ea.add(5),await zf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class k7{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=zE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{X(os,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X(os,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ow(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),X(os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j7(t);X(os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Fx(e.remoteStore,i)),t._onlineComponents=e}async function j7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(os,"Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await Dy(t,new Mm)}}else X(os,"Using default OfflineComponentProvider"),await Dy(t,new M7(void 0));return t._offlineComponents}async function zM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(os,"Using user provided OnlineComponentProvider"),await Wx(t,t._uninitializedComponentsProvider._online)):(X(os,"Using default OnlineComponentProvider"),await Wx(t,new O_))),t._onlineComponents}function L7(t){return zM(t).then(e=>e.syncEngine)}async function I_(t){const e=await zM(t),n=e.eventManager;return n.onListen=E7.bind(null,e.syncEngine),n.onUnlisten=S7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A7.bind(null,e.syncEngine),n}function V7(t,e,n={}){const r=new Wa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new UM({next:d=>{c.Nu(),s.enqueueAndForget(()=>IM(a,h)),d.fromCache&&l.source==="server"?u.reject(new W(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new RM(o,c,{includeMetadataChanges:!0,qa:!0});return OM(a,h)}(await I_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="firestore.googleapis.com",Qx=!0;class Zx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$M,this.ssl=Qx}else this.host=e.host,this.ssl=e.ssl??Qx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vF)throw new W(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BM(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H8;switch(r.type){case"firstParty":return new Y8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xx.get(n);r&&(X("ComponentProvider","Removing Datastore"),Xx.delete(n),r.terminate())}(this),Promise.resolve()}}function U7(t,e,n,r={}){var u;t=gr(t,ug);const i=ru(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(M2(`https://${o}`),k2("Firestore",!0)),a.host!==$M&&a.host!==o&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!ao(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=un.MOCK_USER;else{c=Jz(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new W(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new un(d)}t._authCredentials=new q8(new OD(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lf(n,ht._jsonSchema))return new ht(e,r||null,new te(ze.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:St("string",ht._jsonSchemaVersion),referencePath:St("string")};class Xa extends _s{constructor(e,n,r){super(e,n,GE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new te(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function $f(t,e,...n){if(t=Nt(t),ID("collection","path",e),t instanceof ug){const r=ze.fromString(e,...n);return fx(r),new Xa(t,null,r)}{if(!(t instanceof ht||t instanceof Xa))throw new W(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return fx(r),new Xa(t.firestore,null,r)}}function ea(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=zE.newId()),ID("doc","path",e),t instanceof ug){const r=ze.fromString(e,...n);return cx(r),new ht(t,null,new te(r))}{if(!(t instanceof ht||t instanceof Xa))throw new W(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return cx(r),new ht(t.firestore,t instanceof Xa?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="AsyncQueue";class eC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bM(this,"async_queue_retry"),this._c=()=>{const r=Ny();r&&X(Jx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uu(e))throw e;X(Jx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",tC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=sw.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:tC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ls extends ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eC(e),this._firestoreClient=void 0,await e}}}function z7(t,e){const n=typeof t=="object"?t:U2(),r=typeof t=="string"?t:Cm,i=OE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Qz("firestore");a&&U7(i,...a)}return i}function fw(t){if(t._terminated)throw new W(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B7(t),t._firestoreClient}function B7(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,u,c){return new f$(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,BM(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new k7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(rn.fromBase64String(e))}catch(n){throw new W(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lf(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:St("string",hr._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(Lf(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:St("string",Jr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lf(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ei(e.vectorValues);throw new W(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:St("string",ei._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=/^__.*__$/;class F7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}class FM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class hw{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return km(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HM(this.Ac)&&$7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sg(e)}Cc(e,n,r,i=!1){return new hw({Ac:e,methodName:n,Dc:r,path:Jt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(t){const e=t._freezeSettings(),n=sg(t._databaseId);return new H7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qM(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);mw("Data must be an object, but it was:",s,r);const o=GM(r,s);let l,u;if(a.merge)l=new Hn(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const h of a.mergeFields){const d=R_(e,h,n);if(!s.contains(d))throw new W(z.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);YM(c,d)||c.push(d)}l=new Hn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new F7(new Rn(o),l,u)}class dg extends fg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dg}}class dw extends fg{_toFieldTransform(e){return new L$(e.path,new tf)}isEqual(e){return e instanceof dw}}function q7(t,e,n,r){const i=t.Cc(1,e,n);mw("Data must be an object, but it was:",i,r);const a=[],s=Rn.empty();vs(r,(l,u)=>{const c=pw(e,l,n);u=Nt(u);const h=i.yc(c);if(u instanceof dg)a.push(c);else{const d=Ff(u,h);d!=null&&(a.push(c),s.set(c,d))}});const o=new Hn(a);return new FM(s,o,i.fieldTransforms)}function G7(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[R_(e,r,n)],l=[i];if(a.length%2!=0)throw new W(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)o.push(R_(e,a[d])),l.push(a[d+1]);const u=[],c=Rn.empty();for(let d=o.length-1;d>=0;--d)if(!YM(u,o[d])){const m=o[d];let g=l[d];g=Nt(g);const y=s.yc(m);if(g instanceof dg)u.push(m);else{const w=Ff(g,y);w!=null&&(u.push(m),c.set(m,w))}}const h=new Hn(u);return new FM(c,h,s.fieldTransforms)}function K7(t,e,n,r=!1){return Ff(n,t.Cc(r?4:3,e))}function Ff(t,e){if(KM(t=Nt(t)))return mw("Unsupported field value:",e,t),GM(t,e);if(t instanceof fg)return function(r,i){if(!HM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Ff(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ge.fromDate(r);return{timestampValue:Pm(i.serializer,a)}}if(r instanceof Ge){const a=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(i.serializer,a)}}if(r instanceof Jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hr)return{bytesValue:uM(i.serializer,r._byteString)};if(r instanceof ht){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:QE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ei)return function(s,o){return{mapValue:{fields:{[VD]:{stringValue:UD},[Om]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return KE(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Qp(r)}`)}(t,e)}function GM(t,e){const n={};return ND(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{const a=Ff(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function KM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Jr||t instanceof hr||t instanceof ht||t instanceof fg||t instanceof ei)}function mw(t,e,n){if(!KM(n)||!RD(n)){const r=Qp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function R_(t,e,n){if((e=Nt(e))instanceof cg)return e._internalPath;if(typeof e=="string")return pw(t,e);throw km("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y7=new RegExp("[~\\*/\\[\\]]");function pw(t,e,n){if(e.search(Y7)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cg(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function km(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new W(z.INVALID_ARGUMENT,o+t+l)}function YM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W7 extends WM{data(){return super.data()}}function mg(t,e){return typeof e=="string"?pw(t,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gw{}class QM extends gw{}function af(t,e,...n){let r=[];e instanceof gw&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof vw).length,o=a.filter(l=>l instanceof pg).length;if(s>1||s>0&&o>0)throw new W(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class pg extends QM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=this._parse(e);return ZM(e._query,n),new _s(e.firestore,e.converter,y_(e._query,n))}_parse(e){const n=hg(e.firestore);return function(a,s,o,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new W(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){iC(h,c);const g=[];for(const y of h)g.push(rC(l,a,y));d={arrayValue:{values:g}}}else d=rC(l,a,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||iC(h,c),d=K7(o,s,h,c==="in"||c==="not-in");return wt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function P_(t,e,n){const r=e,i=mg("where",t);return pg._create(i,r,n)}class vw extends gw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)ZM(s,l),s=y_(s,l)}(e._query,n),new _s(e.firestore,e.converter,y_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yw extends QM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yw(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new W(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ef(a,s)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new cu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function jm(t,e="asc"){const n=e,r=mg("orderBy",t);return yw._create(r,n)}function rC(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new W(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KD(e)&&n.indexOf("/")!==-1)throw new W(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!te.isDocumentKey(r))throw new W(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _x(t,new te(r))}if(n instanceof ht)return _x(t,n._key);throw new W(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(n)}.`)}function iC(t,e){if(!Array.isArray(t)||t.length===0)throw new W(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZM(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class X7{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Om].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ct(s.doubleValue));return new ei(n)}convertGeoPoint(e){return new Jr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Oe(pM(r),9688,{name:e});const i=new Zc(r.get(1),r.get(3)),a=new te(r.popFirst(5));return i.isEqual(n)||$i(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends WM{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:St("string",Ws._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class kd extends Ws{data(e={}){return super.data(e)}}class Xs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new kd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new kd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Q7(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}Xs._jsonSchemaVersion="firestore/querySnapshot/1.0",Xs._jsonSchema={type:St("string",Xs._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class _w extends X7{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function jd(t){t=gr(t,_s);const e=gr(t.firestore,ls),n=fw(e),r=new _w(e);return XM(t._query),V7(n,t._query).then(i=>new Xs(e,r,t,i))}function ek(t,e,n){t=gr(t,ht);const r=gr(t.firestore,ls),i=JM(t.converter,e,n);return gg(r,[qM(hg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vr.none())])}function tk(t,e,n,...r){t=gr(t,ht);const i=gr(t.firestore,ls),a=hg(i);let s;return s=typeof(e=Nt(e))=="string"||e instanceof cg?G7(a,"updateDoc",t._key,e,n,r):q7(a,"updateDoc",t._key,e),gg(i,[s.toMutation(t._key,vr.exists(!0))])}function nk(t){return gg(gr(t.firestore,ls),[new YE(t._key,vr.none())])}function bw(t,e){const n=gr(t.firestore,ls),r=ea(t),i=JM(t.converter,e);return gg(n,[qM(hg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function Hf(t,...e){var l,u,c;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nC(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(c=h.complete)==null?void 0:c.bind(h)}let a,s,o;if(t instanceof ht)s=gr(t.firestore,ls),o=GE(t._key.path),a={next:h=>{e[r]&&e[r](Z7(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=gr(t,_s);s=gr(h.firestore,ls),o=h._query;const d=new _w(s);a={next:m=>{e[r]&&e[r](new Xs(s,d,h,m))},error:e[r+1],complete:e[r+2]},XM(t._query)}return function(d,m,g,y){const w=new UM(y),v=new RM(m,w,g);return d.asyncQueue.enqueueAndForget(async()=>OM(await I_(d),v)),()=>{w.Nu(),d.asyncQueue.enqueueAndForget(async()=>IM(await I_(d),v))}}(fw(s),o,i,a)}function gg(t,e){return function(r,i){const a=new Wa;return r.asyncQueue.enqueueAndForget(async()=>x7(await L7(r),i,a)),a.promise}(fw(t),e)}function Z7(t,e,n){const r=n.docs.get(e._key),i=new _w(t);return new Ws(t,i,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function qf(){return new dw("serverTimestamp")}(function(e,n=!0){(function(i){ou=i})(iu),Nl(new so("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new ls(new G8(r.getProvider("auth-internal")),new W8(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new W(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(u.options.projectId,c)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Ka(sx,ox,e),Ka(sx,ox,"esm2020")})();const J7={apiKey:"AIzaSyDzgAl-gxgXsOFSIWe1taG7cQwM8QbiwJA",authDomain:"focus-time-9e35a.firebaseapp.com",projectId:"focus-time-9e35a",storageBucket:"focus-time-9e35a.firebasestorage.app",messagingSenderId:"680509956762",appId:"1:680509956762:web:7073e003a3c4990e44b523",measurementId:"G-3V0Q0M23CM"},rk=V2(J7),er=z7(rk),Gf=z8(rk),eH=new _i,tH=new yi,nH=new Cc("apple.com"),rH=(t,e)=>SB(Gf,t,e).then(n=>n.user),iH=()=>IB(Gf),aH=(t,e)=>AB(Gf,t,e).then(n=>n.user),sH=t=>OB(Gf,e=>{t(e)}),ik=async t=>{let e;switch(t){case"google":e=eH;break;case"facebook":e=tH;break;case"apple":e=nH;break;default:throw new Error("Unsupported provider")}try{return(await WB(Gf,e)).user}catch(n){throw n}},ak=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(!0);return _.useEffect(()=>{const i=sH(a=>{e(a),r(!1)});return typeof i=="function"?i:()=>{}},[]),{user:t,loading:n,isAuthenticated:!!t}},Kf=_.createContext({user:null,loading:!0}),oH=({children:t})=>{const e=ak();return T.jsx(Kf.Provider,{value:e,children:t})},lH="/assets/logo-UgJrA68m.png";function uH({onNavigate:t,currentView:e,theme:n,setTheme:r}){const[i,a]=_.useState(!1),s=()=>a(!i),o=()=>a(!1);return T.jsxs(T.Fragment,{children:[T.jsx("button",{className:`hamburger ${i?"is-active":""}`,onClick:s,children:T.jsx("span",{className:"hamburger-box",children:i?"":""})}),T.jsxs("aside",{className:`sidebar ${i?"open":""}`,children:[T.jsxs("div",{className:"sidebar-top",children:[T.jsxs("div",{className:"logo-section",children:[T.jsx("img",{src:lH,alt:"FocusTime Logo",className:"focustime-logo"}),T.jsx("h2",{className:"logo-text",children:"FocusTime"})]}),T.jsxs("nav",{className:"sidebar-nav",children:[T.jsx(ga,{id:"home",icon:"",label:"Home",active:e==="home",onClick:t}),T.jsx(ga,{id:"pomodoro",icon:"",label:"Focus Session",active:e==="pomodoro",onClick:t}),T.jsx(ga,{id:"tasks",icon:"",label:"Todo",active:e==="tasks",onClick:t}),T.jsx(ga,{id:"focuspad",icon:"",label:"FocusPad",active:e==="focuspad",onClick:t}),T.jsx(ga,{id:"youtube",icon:"",label:"YouTube",onClick:t}),T.jsx(ga,{id:"progress",icon:"",label:"Progress",active:e==="progress",onClick:t}),T.jsx(ga,{id:"profile",icon:"",label:"Profile",active:e==="profile",onClick:t}),T.jsx(ga,{id:"mentora",icon:"",label:"Mentora",onClick:t})]})]}),T.jsxs("div",{className:"sidebar-footer",children:[T.jsxs("div",{className:"theme-toggle-container",onClick:()=>r(n==="light"?"dark":"light"),children:[T.jsx("span",{className:"nav-icon",children:n==="light"?"":""}),T.jsx("span",{className:"nav-text",children:"Theme"})]}),T.jsxs("div",{className:"nav-item logout",onClick:()=>iH(),children:[T.jsx("span",{className:"nav-icon",children:""}),T.jsx("span",{className:"nav-text",children:"Logout"})]})]})]}),i&&T.jsx("div",{className:"sidebar-overlay",onClick:o})]})}function ga({id:t,icon:e,label:n,active:r,onClick:i}){return T.jsxs("div",{className:`nav-item ${r?"active":""}`,onClick:()=>i(t),children:[T.jsx("span",{className:"nav-icon",children:e}),T.jsx("span",{className:"nav-text",children:n})]})}const cH=(t,e)=>{if(!t)return console.error("No userId provided to syncUserProgress"),null;const n=ea(er,"userStats",t);return Hf(n,r=>{r.exists()?e({id:r.id,...r.data()}):(console.warn("No progress document found for this user."),e(null))},r=>{console.error("Error syncing user progress:",r)})},Ew=()=>{const{user:t}=_.useContext(Kf),[e,n]=_.useState(null),[r,i]=_.useState(!0),[a,s]=_.useState(null);return _.useEffect(()=>{if(!(t!=null&&t.uid)){i(!1);return}let o=null,l=!0;return(async()=>{try{i(!0),s(null);const c={hoursSpent:0,dailyGoal:8,streak:0,completedTasks:0,totalTasks:0,weeklyData:[{day:"M",value:0},{day:"T",value:0},{day:"W",value:0},{day:"T",value:0},{day:"F",value:0},{day:"S",value:0},{day:"S",value:0}],assignments:[],achievements:[]};o=cH(t.uid,h=>{l&&(h&&(c.hoursSpent=typeof h.hoursSpent=="number"?h.hoursSpent:0,c.dailyGoal=typeof h.dailyGoal=="number"?h.dailyGoal:8,c.streak=typeof h.streak=="number"?h.streak:0,c.assignments=Array.isArray(h.assignments)?h.assignments:[],c.achievements=Array.isArray(h.achievements)?h.achievements:[],h.weeklyData&&Array.isArray(h.weeklyData)&&(c.weeklyData=hH(h.weeklyData))),fH(t.uid,c).then(async d=>{if(!l)return;const m=await pH(d);l&&(n({hoursSpent:m.hoursSpent||0,dailyGoal:m.dailyGoal||8,streak:m.streak||0,completedTasks:m.completedTasks||0,totalTasks:m.totalTasks||0,weeklyData:Array.isArray(m.weeklyData)?m.weeklyData:c.weeklyData,assignments:Array.isArray(m.assignments)?m.assignments:[],achievements:Array.isArray(m.achievements)?m.achievements:[]}),i(!1))}))})}catch(c){if(!l)return;((c==null?void 0:c.code)==="permission-denied"||(c==null?void 0:c.code)==="unavailable")&&s("Unable to load analytics. Please check your connection."),n({hoursSpent:0,dailyGoal:8,streak:0,completedTasks:0,totalTasks:0,weeklyData:[{day:"M",value:0},{day:"T",value:0},{day:"W",value:0},{day:"T",value:0},{day:"F",value:0},{day:"S",value:0},{day:"S",value:0}],assignments:[],achievements:[]}),i(!1)}})(),()=>{l=!1,typeof o=="function"&&o()}},[t==null?void 0:t.uid]),{data:e,loading:r,error:a}},fH=async(t,e)=>{try{const n=$f(er,"users",t,"sessions");let r,i=[],a=0;try{const l=af(n,P_("mode","==","focus"),P_("status","==","completed"),jm("timestamp","desc"));r=await jd(l)}catch{try{const l=af(n,jm("timestamp","desc"));r=await jd(l)}catch{r=await jd(n)}}r.forEach(l=>{const u={id:l.id,...l.data()};u.mode==="focus"&&u.status==="completed"&&(i.push(u),u.duration&&(a+=u.duration/3600))}),e.hoursSpent||(e.hoursSpent=a);const s=dH(i);s.some(l=>l.value>0)&&(e.weeklyData=s);const o=mH(i);return(!e.streak||e.streak===0)&&(e.streak=o),e}catch{return e}},hH=t=>{const e=["M","T","W","T","F","S","S"],n=e.map(r=>({day:r,value:0}));return Array.isArray(t)&&t.forEach((r,i)=>{i<7&&typeof(r==null?void 0:r.value)=="number"&&(n[i]={day:r.day||e[i],value:r.value})}),n},dH=t=>{const n=["M","T","W","T","F","S","S"].map(a=>({day:a,value:0})),r=new Date,i=new Date(r);return i.setDate(r.getDate()-(r.getDay()+6)%7),i.setHours(0,0,0,0),t.forEach(a=>{if(!a.timestamp)return;const s=typeof a.timestamp.toDate=="function"?a.timestamp.toDate():new Date(a.timestamp.seconds*1e3);if(s>=i){const o=(s.getDay()+6)%7;n[o].value+=(a.duration||0)/60}}),n},mH=t=>{try{if(!Array.isArray(t)||t.length===0)return 0;const e=u=>{const c=new Date(u);c.setHours(0,0,0,0);const h=c.getFullYear(),d=c.getMonth()+1,m=c.getDate();return`${h}-${d}-${m}`},n=new Set;t.forEach(u=>{let c;try{u.timestamp&&typeof u.timestamp.toDate=="function"?c=u.timestamp.toDate():u.timestamp&&u.timestamp.seconds?c=new Date(u.timestamp.seconds*1e3):u.timestamp instanceof Date?c=u.timestamp:c=new Date(u.timestamp)}catch{c=null}c&&(u.mode!=="focus"||u.status!=="completed"||n.add(e(c)))});const r=new Date;r.setHours(0,0,0,0);const i=new Date(r);i.setDate(r.getDate()-1);const a=n.has(e(r)),s=n.has(e(i));if(!a&&!s)return 0;let o=a?new Date(r):new Date(i),l=0;for(;;){const u=e(o);if(!n.has(u))break;l+=1,o.setDate(o.getDate()-1)}return l}catch{return 0}},pH=async t=>{try{const e=af($f(er,"tasks"),jm("createdAt","desc")),r=(await jd(e)).docs.map(i=>({id:i.id,...i.data()}));return t.totalTasks=r.length,t.completedTasks=r.filter(i=>i.status==="Done"||i.completed===!0).length,t.assignments.length||(t.assignments=r.slice(0,10).map(i=>({title:i.title||i.name||"Untitled Task",completed:i.status==="Done"||i.completed===!0}))),t}catch{return t}},gH=({title:t="To-Do"})=>{const{data:e}=Ew();return e!=null&&e.streak,T.jsx("header",{className:"top-navbar",children:T.jsxs("div",{className:"navbar-content",children:[T.jsx("h2",{className:"page-title",children:t}),T.jsxs("div",{className:"navbar-actions",children:[T.jsx("button",{className:"icon-btn-small",children:""}),T.jsxs("div",{className:"user-profile-badge",children:[T.jsxs("div",{className:"user-text",children:[T.jsx("span",{className:"user-name",children:"User Name"}),T.jsxs("span",{className:"user-streak",children:[" ",(e==null?void 0:e.streak)||0," Days Streak"]})]}),T.jsx("div",{className:"user-avatar"})]})]})]})})},vH="/assets/hero-img-mov6wwbg.png";function yH({onNavigate:t,notifications:e,focusMinutes:n}){return T.jsx("div",{className:"home-container fade-in",children:T.jsxs("div",{className:"home-grid",children:[T.jsxs("div",{className:"home-left",children:[T.jsx("h1",{className:"home-title",children:"FocusTime"}),T.jsx("p",{className:"home-tagline",children:"Your Time. Your Focus. Your Growth."}),T.jsxs("p",{className:"focus-today",children:["Todays Focus: ",T.jsxs("strong",{children:[n," minutes"]})]}),T.jsxs("div",{className:"home-actions",children:[T.jsx("button",{className:"primary-btn",onClick:()=>t("pomodoro"),children:"Start Focus"}),T.jsx("button",{className:"secondary-btn",onClick:()=>t("progress"),children:"View Progress"})]}),T.jsxs("div",{className:"card notifications-card",children:[T.jsx("h3",{children:"Notifications"}),e.length===0?T.jsx("p",{className:"empty-text",children:"No notifications"}):e.map((r,i)=>T.jsx("div",{className:"notification-item",children:r},i))]})]}),T.jsxs("div",{className:"home-right",children:[T.jsx("img",{src:vH,className:"image-placeholder",alt:"FocusTime Hero"}),T.jsxs("div",{className:"card about-card",children:[T.jsx("h3",{children:"About"}),T.jsx("p",{children:"FocusTime helps you build productive habits using focus sessions, task management, and progress tracking."})]})]})]})})}const sk=$f(er,"task"),_H=async(t,e)=>{if(!t)throw new Error("addTask: Missing userId");const n={...e,userId:t,createdAt:qf()};return await bw(sk,n)},bH=(t,e)=>{if(!t)return()=>{};const n=af(sk,P_("userId","==",t));return Hf(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})},My=async(t,e,n)=>{if(!e)throw new Error("updateTask: Missing id");const r=ea(er,"task",e);return await tk(r,n)},EH=async(t,e)=>{if(!e)throw new Error("deleteTask: Missing id");const n=ea(er,"task",e);return await nk(n)};function wH(){const[t,e]=_.useState([]),[n]=_.useState(["To-Do","In Progress","Done"]),[r,i]=_.useState({}),{user:a}=_.useContext(Kf);return _.useEffect(()=>{if(!(a!=null&&a.uid))return;const m=bH(a.uid,g=>{const y=[...g||[]].sort((w,v)=>{var O,N;const E=(O=w==null?void 0:w.createdAt)!=null&&O.toMillis?w.createdAt.toMillis():0;return((N=v==null?void 0:v.createdAt)!=null&&N.toMillis?v.createdAt.toMillis():0)-E});e(y)});return()=>m()},[a==null?void 0:a.uid]),{tasks:t,stages:n,saving:r,addTask:async m=>{try{console.log("Hook: addTask called with",m,"userId:",a==null?void 0:a.uid),await _H(a==null?void 0:a.uid,{...m,status:"todo",completed:!1}),console.log("Hook: addTask success")}catch(g){throw console.error("Hook: Failed to add task:",g),alert("Error adding task. Check your console."),g}},editTask:async(m,g)=>{try{console.log(`Hook: editTask called for ${m}`,g),await My(a==null?void 0:a.uid,m,g),console.log("Hook: editTask success")}catch(y){console.error("Hook: Failed to edit task:",y)}},deleteTask:async m=>{try{console.log(`Hook: deleteTask called for ${m}`),await EH(a==null?void 0:a.uid,m),console.log("Hook: deleteTask success")}catch(g){console.error("Hook: Failed to delete task:",g)}},moveTask:async(m,g)=>{try{console.log(`Hook: moveTask called for ${m} to ${g}`),await My(a==null?void 0:a.uid,m,{status:g}),console.log("Hook: moveTask success")}catch(y){console.error("Hook: Failed to move task:",y)}},addStage:m=>console.log("Add stage logic needed for Firebase"),removeStage:m=>console.log("Remove stage logic needed for Firebase"),updateTaskStatus:async(m,g)=>{var w;const y=(w=t.find(v=>v.id===m))==null?void 0:w.status;i(v=>({...v,[m]:!0})),e(v=>v.map(E=>E.id===m?{...E,status:g}:E));try{console.log(`Hook: updateTaskStatus ${m} -> ${g}`),await My(a==null?void 0:a.uid,m,{status:g}),console.log("Hook: updateTaskStatus success")}catch(v){console.error("Hook: Failed to update task status:",v),e(E=>E.map(S=>S.id===m?{...S,status:y}:S))}finally{i(v=>{const E={...v};return delete E[m],E})}}}}function ky({task:t,onEdit:e,onDelete:n,onStatusChange:r,isSaving:i}){const a=t.status==="done"||t.status==="Done",s=t.status==="todo"?"To-Do":t.status==="in-progress"?"In Progress":t.status==="done"?"Done":t.status||"To-Do",o=l=>{l.stopPropagation();const u=a?"todo":"done";r(t.id,u)};return T.jsxs("div",{className:`task-card ${a?"completed":""}`,draggable:!0,onDragStart:l=>l.dataTransfer.setData("taskId",t.id),children:[T.jsxs("div",{className:"task-card-header",children:[T.jsxs("div",{className:"task-status-toggle",children:[T.jsx("input",{type:"checkbox",checked:a,onChange:o,disabled:!!i,className:"status-checkbox",title:a?"Mark as To-Do":"Mark as Done"}),T.jsx("span",{className:`task-badge ${t.type}`,children:t.type})]}),T.jsxs("div",{className:"task-actions",children:[T.jsx("button",{className:"action-btn edit",onClick:()=>e(t),children:""}),T.jsx("button",{className:"action-btn delete",onClick:()=>n(t.id),children:""})]})]}),T.jsx("h4",{className:a?"text-strike":"",children:t.title}),T.jsx("p",{className:"task-desc",children:t.description}),T.jsxs("div",{className:"task-footer",children:[T.jsx("span",{children:t.dueDate?` ${t.dueDate}`:"No deadline"}),T.jsx("span",{className:"status-label",children:s})]})]})}function TH(){const{tasks:t,stages:e,loading:n,error:r,saving:i,addTask:a,editTask:s,deleteTask:o,moveTask:l,updateTaskStatus:u,addStage:c,removeStage:h}=wH(),[d,m]=_.useState(""),[g,y]=_.useState(""),[w,v]=_.useState("general"),[E,S]=_.useState(""),[O,N]=_.useState(null),[k,A]=_.useState(!1),[x,C]=_.useState(null),[P,R]=_.useState(""),[M,D]=_.useState(""),[Z,q]=_.useState(null);_.useEffect(()=>{if(P||x||r){const ee=setTimeout(()=>{R(""),C(null)},3e3);return()=>clearTimeout(ee)}},[P,x,r]);const U=[{code:"todo",label:"To-Do"},{code:"in-progress",label:"In Progress"},{code:"done",label:"Done"}],Y=t.filter(ee=>ee.type==="general"),K=t.filter(ee=>ee.type==="assignment"),J=t.filter(ee=>ee.type==="exam"),_e=async()=>{if(!d.trim()){C("Task title is required!");return}A(!0),C(null);try{await a({title:d,description:g,type:w,dueDate:E}),m(""),y(""),v("general"),S(""),console.log("UI: Task creation flow completed. Awaiting Firestore sync for UI update.")}catch{C("Failed to add task.")}finally{A(!1)}},pt=()=>{M.trim()&&(c?(c(M),D("")):console.error("addStage function not found in useTaskBoard hook"))},gt=(ee,Ae)=>{const xr=ee.dataTransfer.getData("taskId");l(xr,Ae)},mn=ee=>{ee.preventDefault();const Ae=new FormData(ee.target),xr={title:Ae.get("title"),description:Ae.get("description"),dueDate:Ae.get("dueDate")};s(O.id,xr),N(null)};return n?T.jsx("div",{className:"dashboard-layout",children:T.jsx("div",{className:"loading-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:T.jsx("h2",{children:"Loading tasks..."})})}):T.jsxs("div",{className:"dashboard-layout",children:[(P||x||r)&&T.jsx("div",{className:`fp-banner ${x||r?"error":"success"}`,style:{position:"fixed",top:"20px",right:"20px",padding:"10px 20px",backgroundColor:x||r?"#ffdddd":"#ddffdd",color:x||r?"#d8000c":"#4f8a10",borderRadius:"4px",zIndex:1e3,boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:x||r||P}),T.jsxs("main",{className:"taskboard-main",children:[T.jsx("section",{className:"main-todo-card",children:T.jsxs("div",{className:"page-container",children:[T.jsx("h2",{children:"Task Board"}),T.jsxs("div",{className:"task-form-container",children:[T.jsxs("div",{className:"task-form-row",children:[T.jsx("input",{className:"form-input flex-2",placeholder:"Task Title",value:d,onChange:ee=>m(ee.target.value),disabled:k}),T.jsxs("select",{className:"form-select flex-1",value:w,onChange:ee=>v(ee.target.value),disabled:k,children:[T.jsx("option",{value:"general",children:"General"}),T.jsx("option",{value:"assignment",children:"Assignment"}),T.jsx("option",{value:"exam",children:"Exam"})]})]}),T.jsxs("div",{className:"task-form-row",children:[T.jsx("input",{type:"date",style:{flex:1},className:"form-input flex-1",value:E,onChange:ee=>S(ee.target.value),disabled:k}),T.jsx("input",{className:"form-input flex-2",placeholder:"Description",value:g,onChange:ee=>y(ee.target.value),disabled:k})]}),T.jsx("button",{className:"btn btn-primary",onClick:_e,disabled:k,children:k?"Creating...":`Create ${w.charAt(0).toUpperCase()+w.slice(1)}`})]}),T.jsxs("div",{className:"add-stage-row",children:[T.jsx("input",{className:"form-input",placeholder:"New Column Name...",value:M,onChange:ee=>D(ee.target.value),style:{maxWidth:"250px"}}),T.jsx("button",{className:"btn btn-primary",onClick:pt,children:"+ Add Column"})]}),T.jsx("div",{className:"task-board-container",children:U.map(ee=>T.jsxs("div",{className:"kanban-column",onDragOver:Ae=>Ae.preventDefault(),onDrop:Ae=>gt(Ae,ee.code),children:[T.jsxs("div",{className:"kanban-header",children:[T.jsx("h3",{style:{margin:0},children:ee.label}),!["To-Do","In Progress","Done"].includes(ee.label)&&T.jsx("button",{onClick:()=>{q(ee.label)},className:"delete-column-btn",title:"Delete Column",children:""})]}),Y.filter(Ae=>Ae.status===ee.code||Ae.status===ee.label).map(Ae=>T.jsx(ky,{task:Ae,onEdit:N,onDelete:o,onMove:l,onStatusChange:u,isSaving:!!(i!=null&&i[Ae.id]),stages:e},Ae.id))]},ee.code))})]})}),T.jsxs("div",{className:"bottom-sections-grid",children:[T.jsxs("div",{className:"side-card",children:[T.jsx("h3",{children:" Assignments"}),T.jsx("div",{className:"side-list",children:K.map(ee=>T.jsx(ky,{task:ee,onEdit:N,onDelete:o,onMove:l,onStatusChange:u,isSaving:!!(i!=null&&i[ee.id]),stages:e},ee.id))})]}),T.jsxs("div",{className:"side-card",children:[T.jsx("h3",{children:" Upcoming Exams"}),T.jsx("div",{className:"side-list",children:J.map(ee=>T.jsx(ky,{task:ee,onEdit:N,onDelete:o,onMove:l,onStatusChange:u,isSaving:!!(i!=null&&i[ee.id]),stages:e},ee.id))})]})]}),O&&T.jsx("div",{className:"modal-overlay",onClick:()=>N(null),children:T.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),children:[T.jsx("h3",{children:"Edit Task"}),T.jsxs("form",{onSubmit:mn,children:[T.jsxs("div",{style:{marginBottom:"15px"},children:[T.jsx("label",{className:"label-style",children:"Title"}),T.jsx("input",{name:"title",className:"form-input",defaultValue:O.title,required:!0})]}),T.jsxs("div",{style:{marginBottom:"15px"},children:[T.jsx("label",{className:"label-style",children:"Due Date"}),T.jsx("input",{name:"dueDate",type:"date",className:"form-input",defaultValue:O.dueDate})]}),T.jsxs("div",{style:{marginBottom:"15px"},children:[T.jsx("label",{className:"label-style",children:"Description"}),T.jsx("textarea",{name:"description",className:"form-input",defaultValue:O.description,rows:"4"})]}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{type:"button",className:"btn",onClick:()=>N(null),children:"Cancel"}),T.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})]})}),Z&&T.jsx("div",{className:"modal-overlay",onClick:()=>q(null),children:T.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),children:[T.jsx("h3",{children:"Delete Column"}),T.jsxs("p",{style:{marginBottom:"20px",color:"#4b5563"},children:["Are you sure you want to delete the"," ",T.jsx("strong",{children:Z})," column? This action cannot be undone."]}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{type:"button",className:"btn",onClick:()=>q(null),children:"Cancel"}),T.jsx("button",{className:"btn danger",onClick:()=>{h(Z),q(null)},children:"Delete Column"})]})]})})]})]})}const ok=({onSocialLogin:t,title:e="Sign in with"})=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{style:Hu.divider,children:["Or ",e]}),T.jsxs("div",{style:Hu.socialButtons,children:[T.jsx("button",{className:"btn",style:Hu.socialBtn,onClick:t("google"),children:"Google"}),T.jsx("button",{className:"btn",style:Hu.socialBtn,onClick:t("apple"),children:"Apple ID"}),T.jsx("button",{className:"btn",style:Hu.socialBtn,onClick:t("facebook"),children:"Facebook"})]})]}),Hu={divider:{textAlign:"center",margin:"20px 0",color:"#666",fontSize:"0.85rem"},socialButtons:{display:"flex",gap:"10px"},socialBtn:{flex:1,border:"1px solid #ddd",background:"white",cursor:"pointer",padding:"8px",borderRadius:"4px"}},SH=({onNavigate:t})=>{const[e,n]=_.useState(""),[r,i]=_.useState(""),[a,s]=_.useState(null),o=c=>h=>{c(h.target.value),a&&s(null)},l=async c=>{c.preventDefault(),s(null);try{await aH(e,r)}catch(h){s(h.message)}},u=c=>async()=>{s(null);try{await ik(c)}catch(h){s(h.message)}};return T.jsxs("div",{style:va.container,children:[T.jsx("div",{style:va.imagePanel,children:T.jsxs("div",{style:va.placeholderContent,children:[T.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"FocusTime"}),T.jsx("p",{style:{fontSize:"1.2rem",opacity:.8},children:"Master your productivity flow."})]})}),T.jsx("div",{style:va.formPanel,children:T.jsxs("div",{style:va.formWrapper,children:[T.jsx("h2",{style:{marginBottom:"0.5rem",fontSize:"2rem"},children:"Login"}),T.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"2rem"},children:"Enter your details to get started"}),a&&T.jsxs("div",{style:va.errorBadge,children:[T.jsx("span",{style:{marginRight:"8px"}}),a]}),T.jsxs("form",{onSubmit:l,children:[T.jsxs("div",{style:{marginBottom:"1rem"},children:[T.jsx("label",{style:va.label,children:"Email"}),T.jsx("input",{type:"email",className:"form-input",placeholder:"name@gmail.com",value:e,onChange:o(n),required:!0})]}),T.jsxs("div",{style:{marginBottom:"1rem"},children:[T.jsx("label",{style:va.label,children:"Password"}),T.jsx("input",{type:"password",className:"form-input",placeholder:"",value:r,onChange:o(i),required:!0})]}),T.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",padding:"10px"},children:"LOGIN"})]}),T.jsx(ok,{onSocialLogin:u,mode:"in"}),T.jsxs("p",{style:{textAlign:"center",marginTop:"1.5rem",fontSize:"0.9rem"},children:["Don't have an account?"," ",T.jsx("span",{onClick:()=>t("register"),style:{color:"#3b82f6",cursor:"pointer",fontWeight:"600"},children:"Register Now"})]})]})})]})},va={container:{display:"flex",height:"100vh",width:"100vw",backgroundColor:"white"},imagePanel:{flex:1,backgroundColor:"#3b82f6",alignItems:"center",justifyContent:"center",color:"white",borderTopRightRadius:"40px",borderBottomRightRadius:"40px",position:"relative",overflow:"hidden",display:window.innerWidth<768?"none":"flex"},placeholderContent:{textAlign:"center",zIndex:2},formPanel:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},formWrapper:{width:"100%",maxWidth:"400px"},label:{display:"block",marginBottom:"6px",fontSize:"0.9rem",fontWeight:"500",color:"#333"},errorBadge:{display:"flex",alignItems:"center",backgroundColor:"#fef2f2",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"1.5rem",fontSize:"0.9rem",fontWeight:"500",border:"1px solid #fee2e2",transition:"all 0.2s ease-in-out"}},AH=({onNavigate:t})=>{const[e,n]=_.useState({email:"",password:"",confirmPassword:""}),[r,i]=_.useState(null),a=l=>{n({...e,[l.target.name]:l.target.value}),r&&i(null)},s=l=>async()=>{i(null);try{await ik(l)}catch(u){i(u.message)}},o=async l=>{if(l.preventDefault(),i(null),e.password!==e.confirmPassword){i("Passwords do not match");return}try{await rH(e.email,e.password)}catch(u){i(u.message)}};return T.jsxs("div",{style:hi.container,children:[T.jsx("div",{style:hi.imagePanel,children:T.jsxs("div",{style:hi.placeholderContent,children:[T.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"Join Us"}),T.jsx("p",{style:{fontSize:"1.2rem",opacity:.8},children:"Start your productivity journey today."})]})}),T.jsx("div",{style:hi.formPanel,children:T.jsxs("div",{style:hi.formWrapper,children:[T.jsx("h2",{style:{marginBottom:"0.5rem",fontSize:"2rem"},children:"Register"}),T.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"2rem"},children:"Create an account to continue"}),r&&T.jsxs("div",{style:hi.errorBadge,children:[T.jsx("span",{style:{marginRight:"8px"}}),r]}),T.jsxs("form",{onSubmit:o,children:[T.jsxs("div",{style:{marginBottom:"1rem"},children:[T.jsx("label",{style:hi.label,children:"Email"}),T.jsx("input",{type:"email",name:"email",className:"form-input",placeholder:"name@gmail.com",value:e.email,onChange:a,required:!0})]}),T.jsxs("div",{style:{marginBottom:"1rem"},children:[T.jsx("label",{style:hi.label,children:"Password"}),T.jsx("input",{type:"password",name:"password",className:"form-input",placeholder:"At least 8 characters",value:e.password,onChange:a,required:!0})]}),T.jsxs("div",{style:{marginBottom:"1rem"},children:[T.jsx("label",{style:hi.label,children:"Confirm Password"}),T.jsx("input",{type:"password",name:"confirmPassword",className:"form-input",placeholder:"Repeat password",value:e.confirmPassword,onChange:a,required:!0})]}),T.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",padding:"10px"},children:"SIGN UP"})]}),T.jsx(ok,{onSocialLogin:s,mode:"in"}),T.jsxs("p",{style:{textAlign:"center",marginTop:"1.5rem",fontSize:"0.9rem"},children:["Already have an account?"," ",T.jsx("span",{onClick:()=>t("login"),style:{color:"#3b82f6",cursor:"pointer",fontWeight:"600"},children:"Login"})]})]})})]})},hi={container:{display:"flex",height:"100vh",width:"100vw",backgroundColor:"white"},imagePanel:{flex:1,backgroundColor:"#3b82f6",display:window.innerWidth<768?"none":"flex",alignItems:"center",justifyContent:"center",color:"white",borderTopRightRadius:"40px",borderBottomRightRadius:"40px"},placeholderContent:{textAlign:"center"},formPanel:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},formWrapper:{width:"100%",maxWidth:"400px"},label:{display:"block",marginBottom:"6px",fontSize:"0.9rem",fontWeight:"500",color:"#333"},errorBadge:{display:"flex",alignItems:"center",backgroundColor:"#fef2f2",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"1.5rem",fontSize:"0.9rem",fontWeight:"500",border:"1px solid #fee2e2",transition:"all 0.2s ease-in-out"}},xH=async(t,e)=>{if(!t){console.error("AuthService: Cannot update profile without a User ID.");return}const n=ea(er,"users",t);return console.log("AuthService: Writing to Firestore for user:",t),await ek(n,{...e,lastUpdated:new Date},{merge:!0})},CH=(t,e)=>{if(!t)return()=>{};const n=ea(er,"users",t);return Hf(n,r=>{e(r.exists()?r.data():null)})},OH=()=>{const{user:t}=ak(),[e,n]=_.useState({firstName:"",lastName:"",email:"",phone:"",bestStudyTime:"Morning"}),[r,i]=_.useState(!0);return _.useEffect(()=>{if(!(t!=null&&t.uid)){i(!1);return}console.log("Personal Info Hook: Establishing link for UID:",t.uid);const s=CH(t.uid,o=>{o?(console.log("Personal Info Hook: Data loaded from Firestore",o),n(o)):console.log("Personal Info Hook: No profile found, using defaults."),i(!1)});return()=>s()},[t==null?void 0:t.uid]),{personalInfo:e,setPersonalInfo:n,loading:r,updateInfo:async s=>{if(!(t!=null&&t.uid)){console.error("Personal Info Hook: Cannot save, user not authenticated.");return}try{await xH(t.uid,s),console.log("Personal Info Hook: Cloud update successful!")}catch(o){throw console.error("Personal Info Hook: Cloud update failed:",o),o}}}},IH=()=>{const{personalInfo:t,loading:e,updateInfo:n}=OH(),{data:r}=Ew();r!=null&&r.streak;const[i,a]=_.useState({firstName:"",lastName:"",email:"",phone:"",bestStudyTime:"Morning"});_.useEffect(()=>{t&&a(t)},[t]);const s=l=>{const{name:u,value:c}=l.target;a(h=>({...h,[u]:c}))},o=async l=>{l.preventDefault();try{await n(i),alert("Profile Updated! Your streak has increased and data saved to cloud.")}catch{alert("Failed to save profile. Check console.")}};return e?T.jsx("div",{className:"dashboard-layout",children:"Loading Profile..."}):T.jsx("div",{className:"profile-container",children:T.jsxs("div",{className:"profile-grid",children:[T.jsxs("aside",{className:"profile-card",children:[T.jsxs("div",{className:"avatar-section",children:[T.jsx("div",{className:"avatar-circle",children:""}),T.jsx("h3",{style:{margin:"10px 0 5px"},children:i.firstName||"User Name"}),T.jsx("p",{style:{color:"var(--text-muted)"},children:i.email||"@user_handle"})]}),T.jsxs("div",{className:"side-list",children:[T.jsx("button",{className:"btn btn-primary",style:{width:"100%"},children:"Edit Avatar"}),T.jsxs("div",{className:"streak-badge",children:[T.jsx("span",{children:"Daily Streak"}),T.jsxs("span",{className:"streak-count",children:[" ",(r==null?void 0:r.streak)||0," Days"]})]})]})]}),T.jsxs("main",{className:"profile-card",children:[T.jsx("h3",{style:{marginBottom:"25px"},children:"Personal Information"}),T.jsxs("form",{onSubmit:o,children:[T.jsxs("div",{className:"profile-input-grid profile-form-group",children:[T.jsxs("div",{children:[T.jsx("label",{className:"profile-label",children:"First Name"}),T.jsx("input",{type:"text",name:"firstName",className:"profile-input",value:i.firstName,onChange:s,placeholder:"First Name"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"profile-label",children:"Last Name"}),T.jsx("input",{type:"text",name:"lastName",className:"profile-input",value:i.lastName,onChange:s,placeholder:"Last Name"})]})]}),T.jsxs("div",{className:"profile-form-group",children:[T.jsx("label",{className:"profile-label",children:"Email Address"}),T.jsx("input",{type:"email",name:"email",className:"profile-input",value:i.email,onChange:s})]}),T.jsxs("div",{className:"profile-form-group",children:[T.jsx("label",{className:"profile-label",children:"Phone Number"}),T.jsx("input",{type:"tel",name:"phone",className:"profile-input",value:i.phone,onChange:s})]}),T.jsxs("div",{className:"profile-form-group",children:[T.jsx("label",{className:"profile-label",children:"Best Study Time"}),T.jsxs("select",{name:"bestStudyTime",className:"profile-select",value:i.bestStudyTime,onChange:s,children:[T.jsx("option",{value:"Morning",children:"Morning"}),T.jsx("option",{value:"Afternoon",children:"Afternoon"}),T.jsx("option",{value:"Evening",children:"Evening"})]})]}),T.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"30px"},children:[T.jsx("button",{type:"button",className:"btn",style:{border:"1px solid var(--border)"},children:"Cancel"}),T.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})]})]})})};function RH({title:t="Leave Focus Mode?",message:e="Your current focus session will pause.",onCancel:n,onConfirm:r}){return T.jsx("div",{className:"exit-overlay",children:T.jsxs("div",{className:"exit-card",children:[T.jsx("h3",{children:t}),T.jsx("p",{children:e}),T.jsxs("div",{className:"exit-actions",children:[T.jsx("button",{className:"secondary",onClick:n,children:"Stay Focused"}),T.jsx("button",{className:"primary",onClick:r,children:"Exit"})]})]})})}const jy=async(t,e)=>{if(!t||e.duration<10)return;const n=$f(er,"users",t,"sessions");await bw(n,{...e,timestamp:qf()})},Xh=async(t,e)=>{if(!t)return;const n=ea(er,"users",t,"state","active");await ek(n,{...e,updatedAt:qf()},{merge:!0})},PH=(t,e)=>{const n=ea(er,"users",t,"state","active");return Hf(n,r=>{r.exists()&&e(r.data())})};function NH({time:t}){const e=String(Math.floor(t/60)).padStart(2,"0"),n=String(t%60).padStart(2,"0");return T.jsxs("div",{className:"flip-clock",children:[T.jsx(aC,{value:e,label:"MIN"}),T.jsx("span",{className:"colon",children:":"}),T.jsx(aC,{value:n,label:"SEC"})]})}function aC({value:t,label:e}){return T.jsxs("div",{className:"flip-card",children:[T.jsx("div",{className:"flip-number",children:t},t),T.jsx("span",{className:"label",children:e})]})}function DH({isRunning:t,onStart:e,onPause:n,onReset:r}){return T.jsxs("div",{className:"controls",children:[t?T.jsx("button",{className:"primary",onClick:n,children:"Pause"}):T.jsx("button",{className:"primary",onClick:e,children:"Start"}),T.jsx("button",{className:"primary",onClick:r,children:" Reset"})]})}const di={focus:25*60,short:5*60,long:15*60};function MH({onFocusComplete:t}){const{user:e}=_.useContext(Kf),[n,r]=_.useState("focus"),[i,a]=_.useState(di.focus),[s,o]=_.useState(!1),[l,u]=_.useState(!1),[c,h]=_.useState(!1),d=_.useRef(di.focus);_.useEffect(()=>{if(!e)return;const S=PH(e.uid,O=>{if(r(O.mode),o(O.isRunning),d.current=O.segmentStartValue??di[O.mode],O.isRunning&&O.expiresAt){const N=O.expiresAt.toMillis(),k=Math.max(0,Math.floor((N-Date.now())/1e3));a(k)}else a(O.timeLeftAtPause??di[O.mode])});return()=>S()},[e]),_.useEffect(()=>{if(!s)return;const S=setInterval(()=>{a(O=>O<=1?(o(!1),y(),0):O-1)},1e3);return()=>clearInterval(S)},[s]);const m=async()=>{try{document.fullscreenElement||await document.documentElement.requestFullscreen(),u(!0)}catch(S){console.error("Fullscreen failed:",S)}},g=async()=>{try{document.fullscreenElement&&await document.exitFullscreen()}finally{u(!1),h(!1)}};_.useEffect(()=>{const S=()=>{document.fullscreenElement||u(!1)};return document.addEventListener("fullscreenchange",S),()=>document.removeEventListener("fullscreenchange",S)},[]);const y=async()=>{const S=d.current;await jy(e.uid,{mode:n,duration:S,status:"completed"}),n==="focus"&&t&&t(Math.floor(S/60)),await Xh(e.uid,{isRunning:!1,expiresAt:null,timeLeftAtPause:di[n],segmentStartValue:di[n]})},w=()=>{const S=new Date(Date.now()+i*1e3);Xh(e.uid,{isRunning:!0,expiresAt:S,mode:n,segmentStartValue:i,timeLeftAtPause:null})},v=async()=>{const S=d.current-i;S>=10&&await jy(e.uid,{mode:n,duration:S,status:"paused"}),await Xh(e.uid,{isRunning:!1,expiresAt:null,timeLeftAtPause:i,segmentStartValue:i,mode:n})},E=async S=>{const O=d.current-i;O>=10&&await jy(e.uid,{mode:n,duration:O,status:"switched"}),await Xh(e.uid,{isRunning:!1,expiresAt:null,timeLeftAtPause:di[S],segmentStartValue:di[S],mode:S})};return T.jsxs("div",{className:`pomodoro-container ${l?"focus-mode-active":""}`,children:[T.jsx("h1",{children:n==="focus"?"Focus Time":"Break Time"}),T.jsx(NH,{time:i}),T.jsx(DH,{isRunning:s,onStart:w,onPause:v,onReset:()=>E(n)}),T.jsx("div",{className:"mode-buttons",children:Object.keys(di).map(S=>T.jsx("button",{className:n===S?"selected":"",onClick:()=>E(S),children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),n==="focus"&&(l?T.jsx("button",{className:"focus-btn exit",onClick:()=>h(!0),children:"Exit Focus Mode"}):T.jsx("button",{className:"focus-btn",onClick:m,children:"Enter Focus Mode"})),c&&T.jsx(RH,{title:"Exit Focus Mode?",message:"Your focus session will be interrupted.",onCancel:()=>h(!1),onConfirm:g})]})}function lk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lk(t))&&(r&&(r+=" "),r+=e);return r}var kH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ww(t){if(typeof t!="string")return!1;var e=kH;return e.includes(t)}var jH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LH=new Set(jH);function uk(t){return typeof t!="string"?!1:LH.has(t)}function ck(t){return typeof t=="string"&&t.startsWith("data-")}function ri(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(uk(n)||ck(n))&&(e[n]=t[n]);return e}function Lm(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ri(e)}return typeof t=="object"&&!Array.isArray(t)?ri(t):null}function Lr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(uk(n)||ck(n)||ww(n))&&(e[n]=t[n]);return e}var VH=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(null,arguments)}function UH(t,e){if(t==null)return{};var n,r,i=zH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fk=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=t,c=UH(t,VH),h=a||{width:r,height:i,x:0,y:0},d=lt("recharts-surface",s);return _.createElement("svg",N_({},Lr(c),{className:d,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),_.createElement("title",null,l),_.createElement("desc",null,u),n)}),BH=["children","className"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(null,arguments)}function $H(t,e){if(t==null)return{};var n,r,i=FH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wn=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$H(t,BH),a=lt("recharts-layer",r);return _.createElement("g",D_({className:a},Lr(i),{ref:e}),n)}),HH=_.createContext(null);function Ue(t){return function(){return t}}const hk=Math.cos,Vm=Math.sin,zr=Math.sqrt,Um=Math.PI,vg=2*Um,M_=Math.PI,k_=2*M_,js=1e-6,qH=k_-js;function dk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function GH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dk;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class KH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dk:GH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,u=i-n,c=s-e,h=o-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>js)if(!(Math.abs(h*l-u*c)>js)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,g=i-o,y=l*l+u*u,w=m*m+g*g,v=Math.sqrt(y),E=Math.sqrt(d),S=a*Math.tan((M_-Math.acos((y+d-w)/(2*v*E)))/2),O=S/E,N=S/v;Math.abs(O-1)>js&&this._append`L${e+O*c},${n+O*h}`,this._append`A${a},${a},0,0,${+(h*m>c*g)},${this._x1=e+N*l},${this._y1=n+N*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,h=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>js||Math.abs(this._y1-c)>js)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%k_+k_),d>qH?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>js&&this._append`A${r},${r},0,${+(d>=M_)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Tw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KH(e)}function Sw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mk(t){this._context=t}mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yg(t){return new mk(t)}function pk(t){return t[0]}function gk(t){return t[1]}function vk(t,e){var n=Ue(!0),r=null,i=yg,a=null,s=Tw(o);t=typeof t=="function"?t:t===void 0?pk:Ue(t),e=typeof e=="function"?e:e===void 0?gk:Ue(e);function o(l){var u,c=(l=Sw(l)).length,h,d=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,u,l),+e(h,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ue(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ue(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ue(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Qh(t,e,n){var r=null,i=Ue(!0),a=null,s=yg,o=null,l=Tw(u);t=typeof t=="function"?t:t===void 0?pk:Ue(+t),e=typeof e=="function"?e:Ue(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gk:Ue(+n);function u(h){var d,m,g,y=(h=Sw(h)).length,w,v=!1,E,S=new Array(y),O=new Array(y);for(a==null&&(o=s(E=l())),d=0;d<=y;++d){if(!(d<y&&i(w=h[d],d,h))===v)if(v=!v)m=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=d-1;g>=m;--g)o.point(S[g],O[g]);o.lineEnd(),o.areaEnd()}v&&(S[d]=+t(w,d,h),O[d]=+e(w,d,h),o.point(r?+r(w,d,h):S[d],n?+n(w,d,h):O[d]))}if(E)return o=null,E+""||null}function c(){return vk().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ue(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ue(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ue(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ue(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ue(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ue(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ue(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class yk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YH(t){return new yk(t,!0)}function WH(t){return new yk(t,!1)}const Aw={draw(t,e){const n=zr(e/Um);t.moveTo(n,0),t.arc(0,0,n,0,vg)}},XH={draw(t,e){const n=zr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_k=zr(1/3),QH=_k*2,ZH={draw(t,e){const n=zr(e/QH),r=n*_k;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},JH={draw(t,e){const n=zr(e),r=-n/2;t.rect(r,r,n,n)}},eq=.8908130915292852,bk=Vm(Um/10)/Vm(7*Um/10),tq=Vm(vg/10)*bk,nq=-hk(vg/10)*bk,rq={draw(t,e){const n=zr(e*eq),r=tq*n,i=nq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=vg*a/5,o=hk(s),l=Vm(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Ly=zr(3),iq={draw(t,e){const n=-zr(e/(Ly*3));t.moveTo(0,n*2),t.lineTo(-Ly*n,-n),t.lineTo(Ly*n,-n),t.closePath()}},nr=-.5,rr=zr(3)/2,j_=1/zr(12),aq=(j_/2+1)*3,sq={draw(t,e){const n=zr(e/aq),r=n/2,i=n*j_,a=r,s=n*j_+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(nr*r-rr*i,rr*r+nr*i),t.lineTo(nr*a-rr*s,rr*a+nr*s),t.lineTo(nr*o-rr*l,rr*o+nr*l),t.lineTo(nr*r+rr*i,nr*i-rr*r),t.lineTo(nr*a+rr*s,nr*s-rr*a),t.lineTo(nr*o+rr*l,nr*l-rr*o),t.closePath()}};function oq(t,e){let n=null,r=Tw(i);t=typeof t=="function"?t:Ue(t||Aw),e=typeof e=="function"?e:Ue(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ue(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ue(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function zm(){}function Bm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ek(t){this._context=t}Ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lq(t){return new Ek(t)}function wk(t){this._context=t}wk.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uq(t){return new wk(t)}function Tk(t){this._context=t}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cq(t){return new Tk(t)}function Sk(t){this._context=t}Sk.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fq(t){return new Sk(t)}function sC(t){return t<0?-1:1}function oC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(sC(a)+sC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function lC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function $m(t){this._context=t}$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vy(this,this._t0,lC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vy(this,lC(this,n=oC(this,t,e)),n);break;default:Vy(this,this._t0,n=oC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ak(t){this._context=new xk(t)}(Ak.prototype=Object.create($m.prototype)).point=function(t,e){$m.prototype.point.call(this,e,t)};function xk(t){this._context=t}xk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function hq(t){return new $m(t)}function dq(t){return new Ak(t)}function Ck(t){this._context=t}Ck.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uC(t),i=uC(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mq(t){return new Ck(t)}function _g(t,e){this._context=t,this._t=e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pq(t){return new _g(t,.5)}function gq(t){return new _g(t,0)}function vq(t){return new _g(t,1)}function co(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function L_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yq(t,e){return t[e]}function _q(t){const e=[];return e.key=t,e}function bq(){var t=Ue([]),e=L_,n=co,r=yq;function i(a){var s=Array.from(t.apply(this,arguments),_q),o,l=s.length,u=-1,c;for(const h of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(h,s[o].key,u,a)]).data=h;for(o=0,c=Sw(e(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ue(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ue(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?L_:typeof a=="function"?a:Ue(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??co,i):n},i}function Eq(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}co(t,e)}}function wq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}co(t,e)}}function Tq(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=t[e[o]],h=c[r][1]||0,d=c[r-1][1]||0,m=(h-d)/2,g=0;g<o;++g){var y=t[e[g]],w=y[r][1]||0,v=y[r-1][1]||0;m+=w-v}l+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,co(t,e)}}var Ok={},Ik={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Ik);var Rk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Rk);var xw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(xw);var Cw={},Pk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Pk);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pk,n=xw;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,l+=i[o]):h===u?u="":l+=h:c?h==='"'||h==="'"?u=h:h==="]"?(c=!1,a.push(l),l=""):l+=h:h==="["?(c=!0,l&&(a.push(l),l="")):h==="."?l&&(a.push(l),l=""):l+=h,o++}return l&&a.push(l),a}t.toPath=r})(Cw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ik,n=Rk,r=xw,i=Cw;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let h=0;h<l.length;h++){if(c==null||e.isUnsafeProperty(l[h]))return u;c=c[l[h]]}return c===void 0?u:c}t.get=a})(Ok);var Sq=Ok.get;const fo=Qi(Sq);var Aq=4;function ka(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Aq,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function at(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+ka(o)+a:i+a},"")}var tn=t=>t===0?0:t>0?1:-1,ii=t=>typeof t=="number"&&t!=+t,Hi=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ce=t=>(typeof t=="number"||t instanceof Number)&&!ii(t),Ul=t=>ce(t)||typeof t=="string",xq=0,sf=t=>{var e=++xq;return"".concat(t||"").concat(e)},hn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(e)&&typeof e!="string")return r;var a;if(Hi(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return ii(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Nk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Ct(t,e,n){return ce(t)&&ce(e)?ka(t+n*(e-t)):e}function Cq(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):fo(r,e))===n)}var an=t=>t===null||typeof t>"u",Yf=t=>an(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Oq(t){return t!=null}function Wf(){}var Iq=["type","size","sizeType"];function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(null,arguments)}function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return(e=Pq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pq(t){var e=Nq(t,"string");return typeof e=="symbol"?e:e+""}function Nq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t,e){if(t==null)return{};var n,r,i=Mq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dk={symbolCircle:Aw,symbolCross:XH,symbolDiamond:ZH,symbolSquare:JH,symbolStar:rq,symbolTriangle:iq,symbolWye:sq},kq=Math.PI/180,jq=t=>{var e="symbol".concat(Yf(t));return Dk[e]||Aw},Lq=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*kq;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Vq=(t,e)=>{Dk["symbol".concat(Yf(t))]=e},Mk=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Dq(t,Iq),a=fC(fC({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var d=jq(s),m=oq().type(d).size(Lq(n,r,s)),g=m();if(g!==null)return g},{className:l,cx:u,cy:c}=a,h=Lr(a);return ce(u)&&ce(c)&&ce(n)?_.createElement("path",V_({},h,{className:lt("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};Mk.registerSymbol=Vq;var Uq=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ww(i)&&(r[i]=a=>n[i](n,a))}),r},zq=(t,e,n)=>r=>(t(e,n,r),null),bg=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];ww(i)&&typeof a=="function"&&(r||(r={}),r[i]=zq(a,e,n))}),r};function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){$q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $q(t,e,n){return(e=Fq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fq(t){var e=Hq(t,"string");return typeof e=="symbol"?e:e+""}function Hq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tr(t,e){var n=Bq({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var Ow={},kk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(kk);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kk;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Ow);var jk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(jk);var Lk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Lk);var Vk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Vk);var Uk={exports:{}},zk={},Bk={exports:{}},$k={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=_;function qq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gq=typeof Object.is=="function"?Object.is:qq,Kq=zl.useState,Yq=zl.useEffect,Wq=zl.useLayoutEffect,Xq=zl.useDebugValue;function Qq(t,e){var n=e(),r=Kq({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return Wq(function(){i.value=n,i.getSnapshot=e,Uy(i)&&a({inst:i})},[t,n,e]),Yq(function(){return Uy(i)&&a({inst:i}),t(function(){Uy(i)&&a({inst:i})})},[t]),Xq(n),n}function Uy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gq(t,n)}catch{return!0}}function Zq(t,e){return e()}var Jq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zq:Qq;$k.useSyncExternalStore=zl.useSyncExternalStore!==void 0?zl.useSyncExternalStore:Jq;Bk.exports=$k;var eG=Bk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=_,tG=eG;function nG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rG=typeof Object.is=="function"?Object.is:nG,iG=tG.useSyncExternalStore,aG=Eg.useRef,sG=Eg.useEffect,oG=Eg.useMemo,lG=Eg.useDebugValue;zk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=aG(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=oG(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return h=g}return h=m}if(g=h,rG(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,h=y)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var o=iG(t,a[0],a[1]);return sG(function(){s.hasValue=!0,s.value=o},[o]),lG(o),o};Uk.exports=zk;var uG=Uk.exports,Iw=_.createContext(null),cG=t=>t,mt=()=>{var t=_.useContext(Iw);return t?t.store.dispatch:cG},Ld=()=>{},fG=()=>Ld,hG=(t,e)=>t===e;function me(t){var e=_.useContext(Iw);return uG.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fG,e?e.store.getState:Ld,e?e.store.getState:Ld,e?t:Ld,hG)}function dG(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function mG(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pG(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var dC=t=>Array.isArray(t)?t:[t];function gG(t){const e=Array.isArray(t[0])?t[0]:t;return pG(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function vG(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yG=class{constructor(t){this.value=t}deref(){return this.value}},_G=typeof WeakRef<"u"?WeakRef:yG,bG=0,mC=1;function Zh(){return{s:bG,v:void 0,o:null,p:null}}function Fk(t,e={}){let n=Zh();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:l}=arguments;for(let d=0,m=l;d<m;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const w=y.get(g);w===void 0?(o=Zh(),y.set(g,o)):o=w}else{let y=o.p;y===null&&(o.p=y=new Map);const w=y.get(g);w===void 0?(o=Zh(),y.set(g,o)):o=w}}const u=o;let c;if(o.s===mC)c=o.v;else if(c=t.apply(null,arguments),a++,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,c)&&(c=d,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new _G(c):c}return u.s=mC,u.v=c,c}return s.clearCache=()=>{n=Zh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function EG(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),dG(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:m=Fk,argsMemoizeOptions:g=[]}=c,y=dC(d),w=dC(g),v=gG(i),E=h(function(){return a++,u.apply(null,arguments)},...y),S=m(function(){s++;const N=vG(v,arguments);return o=E.apply(null,N),o},...w);return Object.assign(S,{resultFunc:u,memoizedResultFunc:E,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var L=EG(Fk),wG=Object.assign((t,e=L)=>{mG(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>wG}),Hk={},qk={},Gk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(Gk);var Kk={},Rw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Rw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(Kk);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gk,n=Kk,r=Cw;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,g)=>{let y=m;for(let w=0;w<g.length&&y!=null;++w)y=y[g[w]];return y},c=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,h=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:h.map(g=>c(g,m))})).slice().sort((m,g)=>{for(let y=0;y<h.length;y++){const w=e.compareValues(m.criteria[y],g.criteria[y],o[y]);if(w!==0)return w}return 0}).map(m=>m.original)}t.orderBy=i})(qk);var Yk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(Yk);var Pw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vk,n=Ow,r=jk,i=Lk;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}t.isIterateeCall=a})(Pw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qk,n=Yk,r=Pw;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(Hk);var TG=Hk.sortBy;const Nw=Qi(TG);var Wk=t=>t.legend.settings,SG=t=>t.legend.size,AG=t=>t.legend.payload;L([AG,Wk],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Nw(r,n):r});function Kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xG=typeof Symbol=="function"&&Symbol.observable||"@@observable",pC=xG,zy=()=>Math.random().toString(36).substring(7).split("").join("."),CG={INIT:`@@redux/INIT${zy()}`,REPLACE:`@@redux/REPLACE${zy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zy()}`},Fm=CG;function Dw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Xk(t,e,n){if(typeof t!="function")throw new Error(Kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kt(1));return n(Xk)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((w,v)=>{s.set(v,w)}))}function c(){if(l)throw new Error(Kt(3));return i}function h(w){if(typeof w!="function")throw new Error(Kt(4));if(l)throw new Error(Kt(5));let v=!0;u();const E=o++;return s.set(E,w),function(){if(v){if(l)throw new Error(Kt(6));v=!1,u(),s.delete(E),a=null}}}function d(w){if(!Dw(w))throw new Error(Kt(7));if(typeof w.type>"u")throw new Error(Kt(8));if(typeof w.type!="string")throw new Error(Kt(17));if(l)throw new Error(Kt(9));try{l=!0,i=r(i,w)}finally{l=!1}return(a=s).forEach(E=>{E()}),w}function m(w){if(typeof w!="function")throw new Error(Kt(10));r=w,d({type:Fm.REPLACE})}function g(){const w=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Kt(11));function E(){const O=v;O.next&&O.next(c())}return E(),{unsubscribe:w(E)}},[pC](){return this}}}return d({type:Fm.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:m,[pC]:g}}function OG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fm.INIT})>"u")throw new Error(Kt(12));if(typeof n(void 0,{type:Fm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function Qk(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{OG(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],d=n[h],m=s[h],g=d(m,o);if(typeof g>"u")throw o&&o.type,new Error(Kt(14));u[h]=g,l=l||g!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Hm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function IG(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Kt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=t.map(l=>l(s));return a=Hm(...o)(i.dispatch),{...i,dispatch:a}}}function Zk(t){return Dw(t)&&"type"in t&&typeof t.type=="string"}var Jk=Symbol.for("immer-nothing"),gC=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function Rr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qn=Object,Bl=qn.getPrototypeOf,qm="constructor",wg="prototype",U_="configurable",Gm="enumerable",Vd="writable",of="value",qi=t=>!!t&&!!t[Tn];function Vr(t){var e;return t?ej(t)||Sg(t)||!!t[gC]||!!((e=t[qm])!=null&&e[gC])||Ag(t)||xg(t):!1}var RG=qn[wg][qm].toString(),vC=new WeakMap;function ej(t){if(!t||!Mw(t))return!1;const e=Bl(t);if(e===null||e===qn[wg])return!0;const n=qn.hasOwnProperty.call(e,qm)&&e[qm];if(n===Object)return!0;if(!Ko(n))return!1;let r=vC.get(n);return r===void 0&&(r=Function.toString.call(n),vC.set(n,r)),r===RG}function Tg(t,e,n=!0){Xf(t)===0?(n?Reflect.ownKeys(t):qn.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Xf(t){const e=t[Tn];return e?e.type_:Sg(t)?1:Ag(t)?2:xg(t)?3:0}var yC=(t,e,n=Xf(t))=>n===2?t.has(e):qn[wg].hasOwnProperty.call(t,e),z_=(t,e,n=Xf(t))=>n===2?t.get(e):t[e],Km=(t,e,n,r=Xf(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function PG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Sg=Array.isArray,Ag=t=>t instanceof Map,xg=t=>t instanceof Set,Mw=t=>typeof t=="object",Ko=t=>typeof t=="function",By=t=>typeof t=="boolean";function NG(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var gi=t=>t.copy_||t.base_,kw=t=>t.modified_?t.copy_:t.base_;function B_(t,e){if(Ag(t))return new Map(t);if(xg(t))return new Set(t);if(Sg(t))return Array[wg].slice.call(t);const n=ej(t);if(e===!0||e==="class_only"&&!n){const r=qn.getOwnPropertyDescriptors(t);delete r[Tn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Vd]===!1&&(o[Vd]=!0,o[U_]=!0),(o.get||o.set)&&(r[s]={[U_]:!0,[Vd]:!0,[Gm]:o[Gm],[of]:t[s]})}return qn.create(Bl(t),r)}else{const r=Bl(t);if(r!==null&&n)return{...t};const i=qn.create(r);return qn.assign(i,t)}}function jw(t,e=!1){return Cg(t)||qi(t)||!Vr(t)||(Xf(t)>1&&qn.defineProperties(t,{set:Jh,add:Jh,clear:Jh,delete:Jh}),qn.freeze(t),e&&Tg(t,(n,r)=>{jw(r,!0)},!1)),t}function DG(){Rr(2)}var Jh={[of]:DG};function Cg(t){return t===null||!Mw(t)?!0:qn.isFrozen(t)}var Ym="MapSet",$_="Patches",_C="ArrayMethods",tj={};function ho(t){const e=tj[t];return e||Rr(0,t),e}var bC=t=>!!tj[t],lf,nj=()=>lf,MG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:bC(Ym)?ho(Ym):void 0,arrayMethodsPlugin_:bC(_C)?ho(_C):void 0});function EC(t,e){e&&(t.patchPlugin_=ho($_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function F_(t){H_(t),t.drafts_.forEach(kG),t.drafts_=null}function H_(t){t===lf&&(lf=t.parent_)}var wC=t=>lf=MG(lf,t);function kG(t){const e=t[Tn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Tn].modified_&&(F_(e),Rr(4)),Vr(t)&&(t=SC(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Tn].base_,t,e)}else t=SC(e,n);return jG(e,t,!0),F_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Jk?t:void 0}function SC(t,e){if(Cg(e))return e;const n=e[Tn];if(!n)return Wm(e,t.handledSet_,t);if(!Og(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);aj(n,t)}return n.copy_}function jG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jw(e,n)}function rj(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Og=(t,e)=>t.scope_===e,LG=[];function ij(t,e,n,r){const i=gi(t),a=t.type_;if(r!==void 0&&z_(i,r,a)===e){Km(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Tg(i,(l,u)=>{if(qi(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=t.draftLocations_.get(e)??LG;for(const o of s)Km(i,o,n,a)}function VG(t,e,n){t.callbacks_.push(function(i){var o;const a=e;if(!a||!Og(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=kw(a);ij(t,a.draft_??a,s,n),aj(a,i)})}function aj(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}rj(t)}}function UG(t,e,n){const{scope_:r}=t;if(qi(n)){const i=n[Tn];Og(i,r)&&i.callbacks_.push(function(){Ud(t);const s=kw(i);ij(t,n,s,e)})}else Vr(n)&&t.callbacks_.push(function(){const a=gi(t);t.type_===3?a.has(n)&&Wm(n,r.handledSet_,r):z_(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Wm(z_(t.copy_,e,t.type_),r.handledSet_,r)})}function Wm(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||qi(t)||e.has(t)||!Vr(t)||Cg(t)||(e.add(t),Tg(t,(r,i)=>{if(qi(i)){const a=i[Tn];if(Og(a,n)){const s=kw(a);Km(t,r,s,t.type_),rj(a)}}else Vr(i)&&Wm(i,e,n)})),t}function zG(t,e){const n=Sg(t),r={type_:n?1:0,scope_:e?e.scope_:nj(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Xm;n&&(i=[r],a=uf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Xm={get(t,e){if(e===Tn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=gi(t);if(!yC(i,e,t.type_))return BG(t,i,e);const a=i[e];if(t.finalized_||!Vr(a)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&NG(e))return a;if(a===$y(t.base_,e)){Ud(t);const s=t.type_===1?+e:e,o=G_(t.scope_,a,t,s);return t.copy_[s]=o}return a},has(t,e){return e in gi(t)},ownKeys(t){return Reflect.ownKeys(gi(t))},set(t,e,n){const r=sj(gi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=$y(gi(t),e),a=i==null?void 0:i[Tn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(PG(n,i)&&(n!==void 0||yC(t.base_,e,t.type_)))return!0;Ud(t),q_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),UG(t,e,n)),!0},deleteProperty(t,e){return Ud(t),$y(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),q_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Vd]:!0,[U_]:t.type_!==1||e!=="length",[Gm]:r[Gm],[of]:n[e]}},defineProperty(){Rr(11)},getPrototypeOf(t){return Bl(t.base_)},setPrototypeOf(){Rr(12)}},uf={};for(let t in Xm){let e=Xm[t];uf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}uf.deleteProperty=function(t,e){return uf.set.call(this,t,e,void 0)};uf.set=function(t,e,n){return Xm.set.call(this,t[0],e,n,t[0])};function $y(t,e){const n=t[Tn];return(n?gi(n):t)[e]}function BG(t,e,n){var i;const r=sj(e,n);return r?of in r?r[of]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function sj(t,e){if(!(e in t))return;let n=Bl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Bl(n)}}function q_(t){t.modified_||(t.modified_=!0,t.parent_&&q_(t.parent_))}function Ud(t){t.copy_||(t.assigned_=new Map,t.copy_=B_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $G=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ko(n)&&!Ko(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,h=>r.call(this,h,...c))}}Ko(r)||Rr(6),i!==void 0&&!Ko(i)&&Rr(7);let a;if(Vr(n)){const s=wC(this),o=G_(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?F_(s):H_(s)}return EC(s,i),TC(a,s)}else if(!n||!Mw(n)){if(a=r(n),a===void 0&&(a=n),a===Jk&&(a=void 0),this.autoFreeze_&&jw(a,!0),i){const s=[],o=[];ho($_).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Rr(1,n)},this.produceWithPatches=(n,r)=>{if(Ko(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},By(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),By(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),By(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vr(e)||Rr(8),qi(e)&&(e=kr(e));const n=wC(this),r=G_(n,e,void 0);return r[Tn].isManual_=!0,H_(n),r}finishDraft(e,n){const r=e&&e[Tn];(!r||!r.isManual_)&&Rr(9);const{scope_:i}=r;return EC(i,n),TC(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ho($_).applyPatches_;return qi(e)?i(e,n):this.produce(e,a=>i(a,n))}};function G_(t,e,n,r){const[i,a]=Ag(e)?ho(Ym).proxyMap_(e,n):xg(e)?ho(Ym).proxySet_(e,n):zG(e,n);return((n==null?void 0:n.scope_)??nj()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?VG(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function kr(t){return qi(t)||Rr(10,t),oj(t)}function oj(t){if(!Vr(t)||Cg(t))return t;const e=t[Tn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=B_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=B_(t,!0);return Tg(n,(i,a)=>{Km(n,i,oj(a))},r),e&&(e.finalized_=!1),n}var FG=new $G,lj=FG.produce;function uj(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var HG=uj(),qG=uj,GG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hm:Hm.apply(null,arguments)};function br(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Zk(r)&&r.type===t,n}var cj=class uc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,uc.prototype)}static get[Symbol.species](){return uc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new uc(...e[0].concat(this)):new uc(...e.concat(this))}};function AC(t){return Vr(t)?lj(t,()=>{}):t}function ed(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function KG(t){return typeof t=="boolean"}var YG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new cj;return n&&(KG(n)?s.push(HG):s.push(qG(n.extraArgument))),s},fj="RTK_autoBatch",Qe=()=>t=>({payload:t,meta:{[fj]:!0}}),xC=t=>e=>{setTimeout(e,t)},hj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xC(10):t.type==="callback"?t.queueNotification:xC(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),d=r.subscribe(h);return o.add(c),()=>{d(),o.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[fj]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},WG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new cj(t);return r&&i.push(hj(typeof r=="object"?r:void 0)),i};function XG(t){const e=YG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Dw(n))o=Qk(n);else throw new Error(Xn(1));let l;typeof r=="function"?l=r(e):l=e();let u=Hm;i&&(u=GG({trace:!1,...typeof i=="object"&&i}));const c=IG(...l),h=WG(c);let d=typeof s=="function"?s(h):h();const m=u(...d);return Xk(o,a,m)}function dj(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Xn(28));if(o in e)throw new Error(Xn(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function QG(t){return typeof t=="function"}function ZG(t,e){let[n,r,i]=dj(e),a;if(QG(t))a=()=>AC(t());else{const o=AC(t);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(qi(c)){const m=h(c,l);return m===void 0?c:m}else{if(Vr(c))return lj(c,d=>h(d,l));{const d=h(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},o)}return s.getInitialState=a,s}var JG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eK=(t=21)=>{let e="",n=t;for(;n--;)e+=JG[Math.random()*64|0];return e},tK=Symbol.for("rtk-slice-createasyncthunk");function nK(t,e){return`${t}/${e}`}function rK({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[tK];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Xn(11));const o=(typeof i.reducers=="function"?i.reducers(aK()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(O,N){const k=typeof O=="string"?O:O.type;if(!k)throw new Error(Xn(12));if(k in u.sliceCaseReducersByType)throw new Error(Xn(13));return u.sliceCaseReducersByType[k]=N,c},addMatcher(O,N){return u.sliceMatchers.push({matcher:O,reducer:N}),c},exposeAction(O,N){return u.actionCreators[O]=N,c},exposeCaseReducer(O,N){return u.sliceCaseReducersByName[O]=N,c}};l.forEach(O=>{const N=o[O],k={reducerName:O,type:nK(a,O),createNotation:typeof i.reducers=="function"};oK(N)?uK(k,N,c,e):sK(k,N,c)});function h(){const[O={},N=[],k=void 0]=typeof i.extraReducers=="function"?dj(i.extraReducers):[i.extraReducers],A={...O,...u.sliceCaseReducersByType};return ZG(i.initialState,x=>{for(let C in A)x.addCase(C,A[C]);for(let C of u.sliceMatchers)x.addMatcher(C.matcher,C.reducer);for(let C of N)x.addMatcher(C.matcher,C.reducer);k&&x.addDefaultCase(k)})}const d=O=>O,m=new Map,g=new WeakMap;let y;function w(O,N){return y||(y=h()),y(O,N)}function v(){return y||(y=h()),y.getInitialState()}function E(O,N=!1){function k(x){let C=x[O];return typeof C>"u"&&N&&(C=ed(g,k,v)),C}function A(x=d){const C=ed(m,N,()=>new WeakMap);return ed(C,x,()=>{const P={};for(const[R,M]of Object.entries(i.selectors??{}))P[R]=iK(M,x,()=>ed(g,x,v),N);return P})}return{reducerPath:O,getSelectors:A,get selectors(){return A(k)},selectSlice:k}}const S={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...E(s),injectInto(O,{reducerPath:N,...k}={}){const A=N??s;return O.inject({reducerPath:A,reducer:w},k),{...S,...E(A,!0)}}};return S}}function iK(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var kn=rK();function aK(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sK({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!lK(r))throw new Error(Xn(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?br(t,s):br(t))}function oK(t){return t._reducerDefinitionType==="asyncThunk"}function lK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function uK({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xn(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,h=i(t,a,c);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:s||td,pending:o||td,rejected:l||td,settled:u||td})}function td(){}var cK="task",mj="listener",pj="completed",Lw="cancelled",fK=`task-${Lw}`,hK=`task-${pj}`,K_=`${mj}-${Lw}`,dK=`${mj}-${pj}`,Ig=class{constructor(t){Vv(this,"name","TaskAbortError");Vv(this,"message");this.code=t,this.message=`${cK} ${Lw} (reason: ${t})`}},Vw=(t,e)=>{if(typeof t!="function")throw new TypeError(Xn(32))},Qm=()=>{},gj=(t,e=Qm)=>(t.catch(e),t),vj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Qs=t=>{if(t.aborted)throw new Ig(t.reason)};function yj(t,e){let n=Qm;return new Promise((r,i)=>{const a=()=>i(new Ig(t.reason));if(t.aborted){a();return}n=vj(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Qm})}var mK=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ig?"cancelled":"rejected",error:n}}finally{e==null||e()}},Zm=t=>e=>gj(yj(t,e).then(n=>(Qs(t),n))),_j=t=>{const e=Zm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:_l}=Object,CC={},Rg="listenerMiddleware",pK=(t,e)=>{const n=r=>vj(t,()=>r.abort(t.reason));return(r,i)=>{Vw(r);const a=new AbortController;n(a);const s=mK(async()=>{Qs(t),Qs(a.signal);const o=await r({pause:Zm(a.signal),delay:_j(a.signal),signal:a.signal});return Qs(a.signal),o},()=>a.abort(hK));return i!=null&&i.autoJoin&&e.push(s.catch(Qm)),{result:Zm(t)(s),cancel(){a.abort(fK)}}}},gK=(t,e)=>{const n=async(r,i)=>{Qs(e);let a=()=>{};const o=[new Promise((l,u)=>{let c=t({predicate:r,effect:(h,d)=>{d.unsubscribe(),l([h,d.getState(),d.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await yj(e,Promise.race(o));return Qs(e),l}finally{a()}};return(r,i)=>gj(n(r,i))},bj=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=br(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xn(21));return Vw(a),{predicate:i,type:e,effect:a}},Ej=_l(t=>{const{type:e,predicate:n,effect:r}=bj(t);return{id:eK(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xn(22))}}},{withTypes:()=>Ej}),OC=(t,e)=>{const{type:n,effect:r,predicate:i}=bj(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Y_=t=>{t.pending.forEach(e=>{e.abort(K_)})},vK=(t,e)=>()=>{for(const n of e.keys())Y_(n);t.clear()},IC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},wj=_l(br(`${Rg}/add`),{withTypes:()=>wj}),yK=br(`${Rg}/removeAll`),Tj=_l(br(`${Rg}/remove`),{withTypes:()=>Tj}),_K=(...t)=>{console.error(`${Rg}/error`,...t)},Qf=(t={})=>{const e=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},i=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:a,onError:s=_K}=t;Vw(s);const o=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&Y_(m)}),l=m=>{const g=OC(e,m)??Ej(m);return o(g)};_l(l,{withTypes:()=>l});const u=m=>{const g=OC(e,m);return g&&(g.unsubscribe(),m.cancelActive&&Y_(g)),!!g};_l(u,{withTypes:()=>u});const c=async(m,g,y,w)=>{const v=new AbortController,E=gK(l,v.signal),S=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(g,_l({},y,{getOriginalState:w,condition:(O,N)=>E(O,N).then(Boolean),take:E,delay:_j(v.signal),pause:Zm(v.signal),extra:a,signal:v.signal,fork:pK(v.signal,S),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((O,N,k)=>{O!==v&&(O.abort(K_),k.delete(O))})},cancel:()=>{v.abort(K_),m.pending.delete(v)},throwIfCancelled:()=>{Qs(v.signal)}})))}catch(O){O instanceof Ig||IC(s,O,{raisedBy:"effect"})}finally{await Promise.all(S),v.abort(dK),i(m),m.pending.delete(v)}},h=vK(e,n);return{middleware:m=>g=>y=>{if(!Zk(y))return g(y);if(wj.match(y))return l(y.payload);if(yK.match(y)){h();return}if(Tj.match(y))return u(y.payload);let w=m.getState();const v=()=>{if(w===CC)throw new Error(Xn(23));return w};let E;try{if(E=g(y),e.size>0){const S=m.getState(),O=Array.from(e.values());for(const N of O){let k=!1;try{k=N.predicate(y,S,w)}catch(A){k=!1,IC(s,A,{raisedBy:"predicate"})}k&&c(N,y,m,v)}}}finally{w=CC}return E},startListening:l,stopListening:u,clearListeners:h}};function Xn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Sj=kn({name:"chartLayout",initialState:bK,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:EK,setLayout:wK,setChartSize:TK,setScale:SK}=Sj.actions,AK=Sj.reducer;function Aj(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function tt(t){return Number.isFinite(t)}function us(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){xK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xK(t,e,n){return(e=CK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t){var e=OK(t,"string");return typeof e=="symbol"?e:e+""}function OK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ye(t,e,n){return an(t)||an(e)?n:Ul(e)?fo(t,e,n):typeof e=="function"?e(t):n}var IK=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ce(t[a]))return sl(sl({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ce(t[s]))return sl(sl({},t),{},{[s]:t[s]+(i||0)})}return t},Co=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",PC=1e-4,RK=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-PC,a=Math.max(r[0],r[1])+PC,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},PK=(t,e)=>{if(!e||e.length!==2||!ce(e[0])||!ce(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ce(t[0])||t[0]<n)&&(i[0]=n),(!ce(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},NK=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=t[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],h=u[0],d=ii(c)?h:c;d>=0?(u[0]=a,u[1]=a+d,a=c):(u[0]=s,u[1]=s+d,s=c)}}}},DK=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=t[s],l=o==null?void 0:o[i];if(l!=null){var u=ii(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},MK={sign:NK,expand:Eq,none:co,silhouette:wq,wiggle:Tq,positive:DK},kK=(t,e,n)=>{var r,i=(r=MK[n])!==null&&r!==void 0?r:co,a=bq().keys(e).value((o,l)=>Number(Ye(o,l,0))).order(L_).offset(i),s=a(t);return s.forEach((o,l)=>{o.forEach((u,c)=>{var h=Ye(t[c],e[l],0);Array.isArray(h)&&h.length===2&&ce(h[0])&&ce(h[1])&&(u[0]=h[0],u[1]=h[1])})}),s};function jK(t){return t==null?void 0:String(t)}var NC=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var o=Ye(a,e.dataKey,e.scale.domain()[s]);return an(o)?null:e.scale(o)-i/2+r},LK=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},VK=t=>{var e=t.flat(2).filter(ce);return[Math.min(...e),Math.max(...e)]},UK=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],zK=(t,e,n)=>{if(t!=null)return UK(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=Aj(u,e,n),h=VK(c);return!tt(h[0])||!tt(h[1])?l:[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},DC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xj=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Nw(e,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function kC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return sl(sl({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Pg(t,e){if(t)return String(t);if(typeof e=="string")return e}var BK=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},$K=(t,e)=>e==="centric"?t.angle:t.radius,ta=t=>t.layout.width,na=t=>t.layout.height,FK=t=>t.layout.scale,Cj=t=>t.layout.margin,Ng=L(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Dg=L(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Oj="data-recharts-item-index",Ij="data-recharts-item-id",Zf=60;function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){HK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HK(t,e,n){return(e=qK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qK(t){var e=GK(t,"string");return typeof e=="symbol"?e:e+""}function GK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KK=t=>t.brush.height;function YK(t){var e=Dg(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Zf;return n+i}return n},0)}function WK(t){var e=Dg(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Zf;return n+i}return n},0)}function XK(t){var e=Ng(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function QK(t){var e=Ng(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ft=L([ta,na,Cj,KK,YK,WK,XK,QK,Wk,SG],(t,e,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},d=nd(nd({},h),c),m=d.bottom;d.bottom+=r,d=IK(d,l,u);var g=t-d.left-d.right,y=e-d.top-d.bottom;return nd(nd({brushBottom:m},d),{},{width:Math.max(g,0),height:Math.max(y,0)})}),ZK=L(Ft,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Rj=L(ta,na,(t,e)=>({x:0,y:0,width:t,height:e})),JK=_.createContext(null),wr=()=>_.useContext(JK)!=null,Mg=t=>t.brush,kg=L([Mg,Ft,Cj],(t,e,n)=>({height:t.height,x:ce(t.x)?t.x:e.left,y:ce(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ce(t.width)?t.width:e.width})),Pj={},Nj={},Dj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{u&&c(),y()};let d=null;const m=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,h()},r)},g=()=>{d!==null&&(clearTimeout(d),d=null)},y=()=>{g(),s=void 0,o=null},w=()=>{c()},v=function(...E){if(i!=null&&i.aborted)return;s=this,o=E;const S=d==null;m(),l&&S&&c()};return v.schedule=m,v.cancel=y,v.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),v}t.debounce=e})(Dj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dj;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,h=null;const d=e.debounce(function(...y){c=r.apply(this,y),h=null},i,{edges:u}),m=function(...y){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(c=r.apply(this,y),h=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,y),c)},g=()=>(d.flush(),c);return m.cancel=d.cancel,m.flush=g,m}t.debounce=n})(Nj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nj;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(Pj);var eY=Pj.throttle;const tY=Qi(eY);var LC=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Mj=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Hi(r)?t:Number(r),l=Hi(i)?e:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},nY={width:0,height:0,overflow:"visible"},rY={width:0,overflowX:"visible"},iY={height:0,overflowY:"visible"},aY={},sY=t=>{var{width:e,height:n}=t,r=Hi(e),i=Hi(n);return r&&i?nY:r?rY:i?iY:aY};function oY(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(null,arguments)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){lY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lY(t,e,n){return(e=uY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uY(t){var e=cY(t,"string");return typeof e=="symbol"?e:e+""}function cY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kj=_.createContext({width:-1,height:-1});function fY(t){return us(t.width)&&us(t.height)}function jj(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return fY(i)?_.createElement(kj.Provider,{value:i},e):null}var Uw=()=>_.useContext(kj),hY=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:h,className:d,onResize:m,style:g={}}=t,y=_.useRef(null),w=_.useRef();w.current=m,_.useImperativeHandle(e,()=>y.current);var[v,E]=_.useState({containerWidth:r.width,containerHeight:r.height}),S=_.useCallback((x,C)=>{E(P=>{var R=Math.round(x),M=Math.round(C);return P.containerWidth===R&&P.containerHeight===M?P:{containerWidth:R,containerHeight:M}})},[]);_.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Wf;var x=M=>{var D,{width:Z,height:q}=M[0].contentRect;S(Z,q),(D=w.current)===null||D===void 0||D.call(w,Z,q)};c>0&&(x=tY(x,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(x),{width:P,height:R}=y.current.getBoundingClientRect();return S(P,R),C.observe(y.current),()=>{C.disconnect()}},[S,c]);var{containerWidth:O,containerHeight:N}=v;LC(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:A}=Mj(O,N,{width:i,height:a,aspect:n,maxHeight:l});return LC(k!=null&&k>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,A,i,a,s,o,n),_.createElement("div",{id:h?"".concat(h):void 0,className:lt("recharts-responsive-container",d),style:UC(UC({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},_.createElement("div",{style:sY({width:i,height:a})},_.createElement(jj,{width:k,height:A},u)))}),Fy=_.forwardRef((t,e)=>{var n=Uw();if(us(n.width)&&us(n.height))return t.children;var{width:r,height:i}=oY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=Mj(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ce(a)&&ce(s)?_.createElement(jj,{width:a,height:s},t.children):_.createElement(hY,W_({},t,{width:r,height:i,ref:e}))});function Lj(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Vj=()=>{var t,e=wr(),n=me(ZK),r=me(kg),i=(t=me(Mg))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dY=()=>me(ta),mY=()=>me(na),Se=t=>t.layout.layoutType,jg=()=>me(Se),pY=()=>{var t=jg();return t!==void 0},Lg=t=>{var e=mt(),n=wr(),{width:r,height:i}=t,a=Uw(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),_.useEffect(()=>{!n&&us(s)&&us(o)&&e(TK({width:s,height:o}))},[e,n,s,o]),null},Uj=Symbol.for("immer-nothing"),zC=Symbol.for("immer-draftable"),Jn=Symbol.for("immer-state");function Pr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cf=Object.getPrototypeOf;function $l(t){return!!t&&!!t[Jn]}function mo(t){var e;return t?zj(t)||Array.isArray(t)||!!t[zC]||!!((e=t.constructor)!=null&&e[zC])||Jf(t)||Ug(t):!1}var gY=Object.prototype.constructor.toString(),BC=new WeakMap;function zj(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=BC.get(n);return r===void 0&&(r=Function.toString.call(n),BC.set(n,r)),r===gY}function Jm(t,e,n=!0){Vg(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Vg(t){const e=t[Jn];return e?e.type_:Array.isArray(t)?1:Jf(t)?2:Ug(t)?3:0}function X_(t,e){return Vg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Bj(t,e,n){const r=Vg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function vY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jf(t){return t instanceof Map}function Ug(t){return t instanceof Set}function Ls(t){return t.copy_||t.base_}function Q_(t,e){if(Jf(t))return new Map(t);if(Ug(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zj(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Jn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(cf(t),r)}else{const r=cf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zw(t,e=!1){return zg(t)||$l(t)||!mo(t)||(Vg(t)>1&&Object.defineProperties(t,{set:rd,add:rd,clear:rd,delete:rd}),Object.freeze(t),e&&Object.values(t).forEach(n=>zw(n,!0))),t}function yY(){Pr(2)}var rd={value:yY};function zg(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var _Y={};function po(t){const e=_Y[t];return e||Pr(0,t),e}var ff;function $j(){return ff}function bY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $C(t,e){e&&(po("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Z_(t){J_(t),t.drafts_.forEach(EY),t.drafts_=null}function J_(t){t===ff&&(ff=t.parent_)}function FC(t){return ff=bY(ff,t)}function EY(t){const e=t[Jn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Jn].modified_&&(Z_(e),Pr(4)),mo(t)&&(t=ep(e,t),e.parent_||tp(e,t)),e.patches_&&po("Patches").generateReplacementPatches_(n[Jn].base_,t,e.patches_,e.inversePatches_)):t=ep(e,n,[]),Z_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Uj?t:void 0}function ep(t,e,n){if(zg(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Jn];if(!i)return Jm(e,(a,s)=>qC(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return tp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Jm(s,(l,u)=>qC(t,i,a,l,u,n,o),r),tp(t,a,!1),n&&t.patches_&&po("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function qC(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=zg(i);if(!(o&&!s)){if($l(i)){const l=a&&e&&e.type_!==3&&!X_(e.assigned_,r)?a.concat(r):void 0,u=ep(t,i,l);if(Bj(n,r,u),$l(u))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(mo(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;ep(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&tp(t,i)}}}function tp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zw(e,n)}function wY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:$j(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Bw;n&&(i=[r],a=hf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Bw={get(t,e){if(e===Jn)return t;const n=Ls(t);if(!X_(n,e))return TY(t,n,e);const r=n[e];return t.finalized_||!mo(r)?r:r===Hy(t.base_,e)?(qy(t),t.copy_[e]=tb(r,t)):r},has(t,e){return e in Ls(t)},ownKeys(t){return Reflect.ownKeys(Ls(t))},set(t,e,n){const r=Fj(Ls(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Hy(Ls(t),e),a=i==null?void 0:i[Jn];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(vY(n,i)&&(n!==void 0||X_(t.base_,e)))return!0;qy(t),eb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,qy(t),eb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ls(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Pr(11)},getPrototypeOf(t){return cf(t.base_)},setPrototypeOf(){Pr(12)}},hf={};Jm(Bw,(t,e)=>{hf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hf.deleteProperty=function(t,e){return hf.set.call(this,t,e,void 0)};hf.set=function(t,e,n){return Bw.set.call(this,t[0],e,n,t[0])};function Hy(t,e){const n=t[Jn];return(n?Ls(n):t)[e]}function TY(t,e,n){var i;const r=Fj(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Fj(t,e){if(!(e in t))return;let n=cf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=cf(n)}}function eb(t){t.modified_||(t.modified_=!0,t.parent_&&eb(t.parent_))}function qy(t){t.copy_||(t.copy_=Q_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var SY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Pr(6),r!==void 0&&typeof r!="function"&&Pr(7);let i;if(mo(e)){const a=FC(this),s=tb(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Z_(a):J_(a)}return $C(a,r),HC(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Uj&&(i=void 0),this.autoFreeze_&&zw(i,!0),r){const a=[],s=[];po("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Pr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){mo(t)||Pr(8),$l(t)&&(t=AY(t));const e=FC(this),n=tb(t,void 0);return n[Jn].isManual_=!0,J_(e),n}finishDraft(t,e){const n=t&&t[Jn];(!n||!n.isManual_)&&Pr(9);const{scope_:r}=n;return $C(r,e),HC(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=po("Patches").applyPatches_;return $l(t)?r(t,e):this.produce(t,i=>r(i,e))}};function tb(t,e){const n=Jf(t)?po("MapSet").proxyMap_(t,e):Ug(t)?po("MapSet").proxySet_(t,e):wY(t,e);return(e?e.scope_:$j()).drafts_.push(n),n}function AY(t){return $l(t)||Pr(10,t),Hj(t)}function Hj(t){if(!mo(t)||zg(t))return t;const e=t[Jn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Q_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Q_(t,!0);return Jm(n,(i,a)=>{Bj(n,i,Hj(a))},r),e&&(e.finalized_=!1),n}var xY=new SY;xY.produce;var CY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qj=kn({name:"legend",initialState:CY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qe()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=kr(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qe()},removeLegendPayload:{reducer(t,e){var n=kr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qe()}}}),{setLegendSize:xoe,setLegendSettings:Coe,addLegendPayload:Gj,replaceLegendPayload:Kj,removeLegendPayload:Yj}=qj.actions,OY=qj.reducer,IY=()=>{var t;return(t=me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(null,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return(e=PY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=NY(t,"string");return typeof e=="symbol"?e:e+""}function NY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YC={curveBasisClosed:uq,curveBasisOpen:cq,curveBasis:lq,curveBumpX:YH,curveBumpY:WH,curveLinearClosed:fq,curveLinear:yg,curveMonotoneX:hq,curveMonotoneY:dq,curveNatural:mq,curveStep:pq,curveStepAfter:vq,curveStepBefore:gq},np=t=>tt(t.x)&&tt(t.y),WC=t=>t.base!=null&&np(t.base)&&np(t),qu=t=>t.x,Gu=t=>t.y,DY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Yf(t));return(n==="curveMonotone"||n==="curveBump")&&e?YC["".concat(n).concat(e==="vertical"?"Y":"X")]:YC[n]||yg},MY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=DY(e,i),o=a?n.filter(np):n,l;if(Array.isArray(r)){var u=n.map((m,g)=>KC(KC({},m),{},{base:r[g]}));i==="vertical"?l=Qh().y(Gu).x1(qu).x0(m=>m.base.x):l=Qh().x(qu).y1(Gu).y0(m=>m.base.y);var c=l.defined(WC).curve(s),h=a?u.filter(WC):u;return c(h)}i==="vertical"&&ce(r)?l=Qh().y(Gu).x1(qu).x0(r):ce(r)?l=Qh().x(qu).y1(Gu).y0(r):l=vk().x(qu).y(Gu);var d=l.defined(np).curve(s);return d(o)},Wj=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=jg();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?MY(s):r;return _.createElement("path",nb({},ri(t),Uq(t),{className:lt("recharts-curve",e),d:o===null?void 0:o,ref:i}))};function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){kY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kY(t,e,n){return(e=jY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t){var e=LY(t,"string");return typeof e=="symbol"?e:e+""}function LY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Xj=(t,e,n)=>t.map(r=>"".concat(VY(r)," ").concat(e,"ms ").concat(n)).join(","),UY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),df=(t,e)=>Object.keys(e).reduce((n,r)=>QC(QC({},n),{},{[r]:t(r,e[r])}),{});function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){zY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zY(t,e,n){return(e=BY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BY(t){var e=$Y(t,"string");return typeof e=="symbol"?e:e+""}function $Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rp=(t,e,n)=>t+(e-t)*n,rb=t=>{var{from:e,to:n}=t;return e!==n},Qj=(t,e,n)=>{var r=df((i,a)=>{if(rb(a)){var[s,o]=t(a.from,a.to,a.velocity);return Ot(Ot({},a),{},{from:s,velocity:o})}return a},e);return n<1?df((i,a)=>rb(a)&&r[i]!=null?Ot(Ot({},a),{},{velocity:rp(a.velocity,r[i].velocity,n),from:rp(a.from,r[i].from,n)}):a,e):Qj(t,r,n-1)};function FY(t,e,n,r,i,a){var s,o=r.reduce((d,m)=>Ot(Ot({},d),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>df((d,m)=>m.from,o),u=()=>!Object.values(o).filter(rb).length,c=null,h=d=>{s||(s=d);var m=d-s,g=m/n.dt;o=Qj(n,o,g),i(Ot(Ot(Ot({},t),e),l())),s=d,u()||(c=a.setTimeout(h))};return()=>(c=a.setTimeout(h),()=>{var d;(d=c)===null||d===void 0||d()})}function HY(t,e,n,r,i,a,s){var o=null,l=i.reduce((h,d)=>{var m=t[d],g=e[d];return m==null||g==null?h:Ot(Ot({},h),{},{[d]:[m,g]})},{}),u,c=h=>{u||(u=h);var d=(h-u)/r,m=df((y,w)=>rp(...w,n(d)),l);if(a(Ot(Ot(Ot({},t),e),m)),d<1)o=s.setTimeout(c);else{var g=df((y,w)=>rp(...w,n(1)),l);a(Ot(Ot(Ot({},t),e),g))}};return()=>(o=s.setTimeout(c),()=>{var h;(h=o)===null||h===void 0||h()})}const qY=(t,e,n,r,i,a)=>{var s=UY(t,e);return n==null?()=>(i(Ot(Ot({},t),e)),()=>{}):n.isStepper===!0?FY(t,e,n,s,i,a):HY(t,e,n,r,s,i,a)};var ip=1e-4,Zj=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Jj=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),JC=(t,e)=>n=>{var r=Zj(t,e);return Jj(r,n)},GY=(t,e)=>n=>{var r=Zj(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return Jj(i,n)},KY=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},YY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=KY(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},WY=(t,e,n,r)=>{var i=JC(t,n),a=JC(e,r),s=GY(t,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,h=c,d=0;d<8;++d){var m=i(h)-c,g=s(h);if(Math.abs(m-c)<ip||g<ip)return a(h);h=o(h-m/g)}return a(h)};return l.isStepper=!1,l},eO=function(){return WY(...YY(...arguments))},XY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,h=l+(u-c)*i/1e3,d=l*i/1e3+s;return Math.abs(d-o)<ip&&Math.abs(h)<ip?[o,0]:[d,h]};return a.isStepper=!0,a.dt=i,a},QY=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eO(t);case"spring":return XY();default:if(t.split("(")[0]==="cubic-bezier")return eO(t)}return typeof t=="function"?t:null};function ZY(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(a.bind(null,u),l);return}a(l),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class JY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function eW(){return ZY(new JY)}var tW=_.createContext(eW);function nW(t,e){var n=_.useContext(tW);return _.useMemo(()=>e??n(t),[t,e,n])}var rW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bg={isSsr:rW()},iW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tO={t:0},Gy={t:1};function $g(t){var e=tr(t,iW),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=e,c=n==="auto"?!Bg.isSsr:n,h=nW(e.animationId,e.animationManager),[d,m]=_.useState(c?tO:Gy),g=_.useRef(null);return _.useEffect(()=>{c||m(Gy)},[c]),_.useEffect(()=>{if(!c||!r)return Wf;var y=qY(tO,Gy,QY(a),i,m,h.getTimeoutController()),w=()=>{g.current=y()};return h.start([l,s,w,i,o]),()=>{h.stop(),g.current&&g.current(),o()}},[c,r,i,a,s,l,o,h]),u(d.t)}function Fg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(sf(e)),r=_.useRef(t);return r.current!==t&&(n.current=sf(e),r.current=t),n.current}var aW=["radius"],sW=["radius"],nO,rO,iO,aO,sO,oO,lO,uO,cO,fO;function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(null,arguments)}function mO(t,e){if(t==null)return{};var n,r,i=cW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var pO=(t,e,n,r,i)=>{var a=ka(n),s=ka(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,h;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],m=0,g=4;m<g;m++)d[m]=i[m]>o?o:i[m];h=at(nO||(nO=Fr(["M",",",""])),t,e+l*d[0]),d[0]>0&&(h+=at(rO||(rO=Fr(["A ",",",",0,0,",",",",",""])),d[0],d[0],c,t+u*d[0],e)),h+=at(iO||(iO=Fr(["L ",",",""])),t+n-u*d[1],e),d[1]>0&&(h+=at(aO||(aO=Fr(["A ",",",",0,0,",`,
        `,",",""])),d[1],d[1],c,t+n,e+l*d[1])),h+=at(sO||(sO=Fr(["L ",",",""])),t+n,e+r-l*d[2]),d[2]>0&&(h+=at(oO||(oO=Fr(["A ",",",",0,0,",`,
        `,",",""])),d[2],d[2],c,t+n-u*d[2],e+r)),h+=at(lO||(lO=Fr(["L ",",",""])),t+u*d[3],e+r),d[3]>0&&(h+=at(uO||(uO=Fr(["A ",",",",0,0,",`,
        `,",",""])),d[3],d[3],c,t,e+r-l*d[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);h=at(cO||(cO=Fr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*y,y,y,c,t+u*y,e,t+n-u*y,e,y,y,c,t+n,e+l*y,t+n,e+r-l*y,y,y,c,t+n-u*y,e+r,t+u*y,e+r,y,y,c,t,e+r-l*y)}else h=at(fO||(fO=Fr(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return h},gO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fW=t=>{var e=tr(t,gO),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=e,w=_.useRef(o),v=_.useRef(l),E=_.useRef(a),S=_.useRef(s),O=_.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),N=Fg(O,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var k=lt("recharts-rectangle",c);if(!y){var A=Lr(e),{radius:x}=A,C=mO(A,aW);return _.createElement("path",ap({},C,{x:ka(a),y:ka(s),width:ka(o),height:ka(l),radius:typeof u=="number"?u:void 0,className:k,d:pO(a,s,o,l,u)}))}var P=w.current,R=v.current,M=E.current,D=S.current,Z="0px ".concat(r===-1?1:r,"px"),q="".concat(r,"px 0px"),U=Xj(["strokeDasharray"],d,typeof h=="string"?h:gO.animationEasing);return _.createElement($g,{animationId:N,key:N,canBegin:r>0,duration:d,easing:h,isActive:y,begin:m},Y=>{var K=Ct(P,o,Y),J=Ct(R,l,Y),_e=Ct(M,a,Y),pt=Ct(D,s,Y);n.current&&(w.current=K,v.current=J,E.current=_e,S.current=pt);var gt;g?Y>0?gt={transition:U,strokeDasharray:q}:gt={strokeDasharray:Z}:gt={strokeDasharray:q};var mn=Lr(e),{radius:ee}=mn,Ae=mO(mn,sW);return _.createElement("path",ap({},Ae,{radius:typeof u=="number"?u:void 0,className:k,d:pO(_e,pt,K,J,u),ref:n,style:dO(dO({},gt),e.style)}))})};function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){hW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=mW(t,"string");return typeof e=="symbol"?e:e+""}function mW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sp=Math.PI/180,pW=t=>t*180/Math.PI,fn=(t,e,n,r)=>({x:t+Math.cos(-sp*r)*n,y:e+Math.sin(-sp*r)*n}),eL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},vW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=gW({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:pW(l),angleInRadian:l}},yW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},_W=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},bW=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=vW({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=yW(e),c=a,h;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;h=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;h=c>=u&&c<=l}return h?yO(yO({},e),{},{radius:i,angle:_W(c,e)}):null},_O,bO,EO,wO,TO,SO,AO;function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}function Bs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var EW=(t,e)=>{var n=tn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},id=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,u=o*(s?1:-1)+r,c=Math.asin(o/u)/sp,h=l?i:i+a*c,d=fn(e,n,u,h),m=fn(e,n,r,h),g=l?i-a*c:i,y=fn(e,n,u*Math.cos(c*sp),g);return{center:d,circleTangency:m,lineTangency:y,theta:c}},tL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=EW(a,s),l=a+o,u=fn(e,n,i,a),c=fn(e,n,i,l),h=at(_O||(_O=Bs(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(r>0){var d=fn(e,n,r,a),m=fn(e,n,r,l);h+=at(bO||(bO=Bs(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),d.x,d.y)}else h+=at(EO||(EO=Bs(["L ",","," Z"])),e,n);return h},wW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=t,c=tn(u-l),{circleTangency:h,lineTangency:d,theta:m}=id({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:w}=id({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-u):Math.abs(l-u)-m-w;if(v<0)return s?at(wO||(wO=Bs(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),d.x,d.y,a,a,a*2,a,a,-a*2):tL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var E=at(TO||(TO=Bs(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),d.x,d.y,a,a,+(c<0),h.x,h.y,i,i,+(v>180),+(c<0),g.x,g.y,a,a,+(c<0),y.x,y.y);if(r>0){var{circleTangency:S,lineTangency:O,theta:N}=id({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:A,theta:x}=id({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-N-x;if(C<0&&a===0)return"".concat(E,"L").concat(e,",").concat(n,"Z");E+=at(SO||(SO=Bs(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(c<0),k.x,k.y,r,r,+(C>180),+(c>0),S.x,S.y,a,a,+(c<0),O.x,O.y)}else E+=at(AO||(AO=Bs(["L",",","Z"])),e,n);return E},TW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SW=t=>{var e=tr(t,TW),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:h}=e;if(a<i||u===c)return null;var d=lt("recharts-sector",h),m=a-i,g=hn(s,m,0,!0),y;return g>0&&Math.abs(u-c)<360?y=wW({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=tL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),_.createElement("path",ib({},Lr(e),{className:d,d:y}))},nL={},rL={},iL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(iL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iL;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(rL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw,n=rL;function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}t.range=r})(nL);var AW=nL.range;const aL=Qi(AW);function Qa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $w(t){let e,n,r;t.length!==2?(e=Qa,n=(o,l)=>Qa(t(o),l),r=(o,l)=>t(o)-l):(e=t===Qa||t===xW?t:CW,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(o[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(o[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(o,l,u=0,c=o.length){const h=i(o,l,u,c-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:s,right:a}}function CW(){return 0}function sL(t){return t===null?NaN:+t}function*OW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const IW=$w(Qa),eh=IW.right;$w(sL).center;class xO extends Map{constructor(e,n=NW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CO(this,e))}has(e){return super.has(CO(this,e))}set(e,n){return super.set(RW(this,e),n)}delete(e){return super.delete(PW(this,e))}}function CO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function RW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function PW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function NW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function DW(t=Qa){if(t===Qa)return oL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function oL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const MW=Math.sqrt(50),kW=Math.sqrt(10),jW=Math.sqrt(2);function op(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=MW?10:a>=kW?5:a>=jW?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?op(t,e,n*2):[o,l,u]}function ab(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?op(e,t,n):op(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function sb(t,e,n){return e=+e,t=+t,n=+n,op(t,e,n)[2]}function ob(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sb(e,t,n):sb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function OO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?oL:DW(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/l+d)),g=Math.min(r,Math.floor(e+(l-u)*h/l+d));lL(t,e,m,g,i)}const a=t[e];let s=n,o=r;for(Ku(t,n,e),i(t[r],a)>0&&Ku(t,n,r);s<o;){for(Ku(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Ku(t,n,o):(++o,Ku(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ku(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function LW(t,e,n){if(t=Float64Array.from(OW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return IO(t);if(e>=1)return OO(t);var r,i=(r-1)*e,a=Math.floor(i),s=OO(lL(t,a).subarray(0,a+1)),o=IO(t.subarray(a+1));return s+(o-s)*(i-a)}}function VW(t,e,n=sL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function UW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ra(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lb=Symbol("implicit");function Fw(){var t=new xO,e=[],n=[],r=lb;function i(a){let s=t.get(a);if(s===void 0){if(r!==lb)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xO;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Fw(e,n).unknown(r)},Tr.apply(i,arguments),i}function Hw(){var t=Fw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,m=i<r,g=m?i:r,y=m?r:i;a=(y-g)/Math.max(1,d-l+u*2),o&&(a=Math.floor(a)),g+=(y-g-a*(d-l))*c,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var w=UW(d).map(function(v){return g+a*v});return n(m?w.reverse():w)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,h()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return Hw(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Tr.apply(h(),arguments)}function uL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uL(e())},t}function zW(){return uL(Hw.apply(null,arguments).paddingInner(1))}function qw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function th(){}var mf=.7,lp=1/mf,bl="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BW=/^#([0-9a-f]{3,8})$/,$W=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),FW=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),HW=new RegExp(`^rgba\\(${bl},${bl},${bl},${pf}\\)$`),qW=new RegExp(`^rgba\\(${ti},${ti},${ti},${pf}\\)$`),GW=new RegExp(`^hsl\\(${pf},${ti},${ti}\\)$`),KW=new RegExp(`^hsla\\(${pf},${ti},${ti},${pf}\\)$`),RO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qw(th,gf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PO,formatHex:PO,formatHex8:YW,formatHsl:WW,formatRgb:NO,toString:NO});function PO(){return this.rgb().formatHex()}function YW(){return this.rgb().formatHex8()}function WW(){return fL(this).formatHsl()}function NO(){return this.rgb().formatRgb()}function gf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=BW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?DO(e):n===3?new Pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ad(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ad(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$W.exec(t))?new Pn(e[1],e[2],e[3],1):(e=FW.exec(t))?new Pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=HW.exec(t))?ad(e[1],e[2],e[3],e[4]):(e=qW.exec(t))?ad(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=GW.exec(t))?jO(e[1],e[2]/100,e[3]/100,1):(e=KW.exec(t))?jO(e[1],e[2]/100,e[3]/100,e[4]):RO.hasOwnProperty(t)?DO(RO[t]):t==="transparent"?new Pn(NaN,NaN,NaN,0):null}function DO(t){return new Pn(t>>16&255,t>>8&255,t&255,1)}function ad(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pn(t,e,n,r)}function XW(t){return t instanceof th||(t=gf(t)),t?(t=t.rgb(),new Pn(t.r,t.g,t.b,t.opacity)):new Pn}function ub(t,e,n,r){return arguments.length===1?XW(t):new Pn(t,e,n,r??1)}function Pn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qw(Pn,ub,cL(th,{brighter(t){return t=t==null?lp:Math.pow(lp,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mf:Math.pow(mf,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pn(Zs(this.r),Zs(this.g),Zs(this.b),up(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MO,formatHex:MO,formatHex8:QW,formatRgb:kO,toString:kO}));function MO(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function QW(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function kO(){const t=up(this.opacity);return`${t===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${t===1?")":`, ${t})`}`}function up(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $s(t){return t=Zs(t),(t<16?"0":"")+t.toString(16)}function jO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nr(t,e,n,r)}function fL(t){if(t instanceof Nr)return new Nr(t.h,t.s,t.l,t.opacity);if(t instanceof th||(t=gf(t)),!t)return new Nr;if(t instanceof Nr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Nr(s,o,l,t.opacity)}function ZW(t,e,n,r){return arguments.length===1?fL(t):new Nr(t,e,n,r??1)}function Nr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qw(Nr,ZW,cL(th,{brighter(t){return t=t==null?lp:Math.pow(lp,t),new Nr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mf:Math.pow(mf,t),new Nr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pn(Ky(t>=240?t-240:t+120,i,r),Ky(t,i,r),Ky(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nr(LO(this.h),sd(this.s),sd(this.l),up(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=up(this.opacity);return`${t===1?"hsl(":"hsla("}${LO(this.h)}, ${sd(this.s)*100}%, ${sd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LO(t){return t=(t||0)%360,t<0?t+360:t}function sd(t){return Math.max(0,Math.min(1,t||0))}function Ky(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Gw=t=>()=>t;function JW(t,e){return function(n){return t+n*e}}function eX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tX(t){return(t=+t)==1?hL:function(e,n){return n-e?eX(e,n,t):Gw(isNaN(e)?n:e)}}function hL(t,e){var n=e-t;return n?JW(t,n):Gw(isNaN(t)?e:t)}const VO=function t(e){var n=tX(e);function r(i,a){var s=n((i=ub(i)).r,(a=ub(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=hL(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function nX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function rX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=hu(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function aX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yy=new RegExp(cb.source,"g");function oX(t){return function(){return t}}function lX(t){return function(e){return t(e)+""}}function uX(t,e){var n=cb.lastIndex=Yy.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=cb.exec(t))&&(i=Yy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:cp(r,i)})),n=Yy.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?lX(l[0].x):oX(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)o[(h=l[c]).i]=h.x(u);return o.join("")})}function hu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Gw(e):(n==="number"?cp:n==="string"?(r=gf(e))?(e=r,VO):uX:e instanceof gf?VO:e instanceof Date?aX:rX(e)?nX:Array.isArray(e)?iX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sX:cp)(t,e)}function Kw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cX(t,e){e===void 0&&(e=t,t=hu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function fX(t){return function(){return t}}function fp(t){return+t}var UO=[0,1];function En(t){return t}function fb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fX(isNaN(e)?NaN:.5)}function hX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dX(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=fb(i,r),a=n(s,a)):(r=fb(r,i),a=n(a,s)),function(o){return a(r(o))}}function mX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=fb(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=eh(t,o,1,r)-1;return a[l](i[l](o))}}function nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hg(){var t=UO,e=UO,n=hu,r,i,a,s=En,o,l,u;function c(){var d=Math.min(t.length,e.length);return s!==En&&(s=hX(t[0],t[d-1])),o=d>2?mX:dX,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((u||(u=o(e,t.map(r),cp)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,fp),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=Kw,c()},h.clamp=function(d){return arguments.length?(s=d?!0:En,c()):s!==En},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,m){return r=d,i=m,c()}}function Yw(){return Hg()(En,En)}function pX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fl(t){return t=hp(Math.abs(t)),t?t[1]:NaN}function gX(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function vX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var yX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vf(t){if(!(e=yX.exec(t)))throw new Error("invalid format: "+t);var e;return new Ww({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vf.prototype=Ww.prototype;function Ww(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ww.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _X(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dL;function bX(t,e){var n=hp(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(dL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+hp(t,Math.max(0,e+a-1))[0]}function zO(t,e){var n=hp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zO(t*100,e),r:zO,s:bX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $O(t){return t}var FO=Array.prototype.map,HO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EX(t){var e=t.grouping===void 0||t.thousands===void 0?$O:gX(FO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?$O:vX(FO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=vf(h);var d=h.fill,m=h.align,g=h.sign,y=h.symbol,w=h.zero,v=h.width,E=h.comma,S=h.precision,O=h.trim,N=h.type;N==="n"?(E=!0,N="g"):BO[N]||(S===void 0&&(S=12),O=!0,N="g"),(w||d==="0"&&m==="=")&&(w=!0,d="0",m="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=y==="$"?r:/[%p]/.test(N)?s:"",x=BO[N],C=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(R){var M=k,D=A,Z,q,U;if(N==="c")D=x(R)+D,R="";else{R=+R;var Y=R<0||1/R<0;if(R=isNaN(R)?l:x(Math.abs(R),S),O&&(R=_X(R)),Y&&+R==0&&g!=="+"&&(Y=!1),M=(Y?g==="("?g:o:g==="-"||g==="("?"":g)+M,D=(N==="s"?HO[8+dL/3]:"")+D+(Y&&g==="("?")":""),C){for(Z=-1,q=R.length;++Z<q;)if(U=R.charCodeAt(Z),48>U||U>57){D=(U===46?i+R.slice(Z+1):R.slice(Z))+D,R=R.slice(0,Z);break}}}E&&!w&&(R=e(R,1/0));var K=M.length+R.length+D.length,J=K<v?new Array(v-K+1).join(d):"";switch(E&&w&&(R=e(J+R,J.length?v-D.length:1/0),J=""),m){case"<":R=M+R+D+J;break;case"=":R=M+J+R+D;break;case"^":R=J.slice(0,K=J.length>>1)+M+R+D+J.slice(K);break;default:R=J+M+R+D;break}return a(R)}return P.toString=function(){return h+""},P}function c(h,d){var m=u((h=vf(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Fl(d)/3)))*3,y=Math.pow(10,-g),w=HO[8+g/3];return function(v){return m(y*v)+w}}return{format:u,formatPrefix:c}}var od,Xw,mL;wX({thousands:",",grouping:[3],currency:["$",""]});function wX(t){return od=EX(t),Xw=od.format,mL=od.formatPrefix,od}function TX(t){return Math.max(0,-Fl(Math.abs(t)))}function SX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fl(e)/3)))*3-Fl(Math.abs(t)))}function AX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fl(e)-Fl(t))+1}function pL(t,e,n,r){var i=ob(t,e,n),a;switch(r=vf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=SX(i,s))&&(r.precision=a),mL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=AX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=TX(i))&&(r.precision=a-(r.type==="%")*2);break}}return Xw(r)}function bs(t){var e=t.domain;return t.ticks=function(n){var r=e();return ab(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=sb(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function gL(){var t=Yw();return t.copy=function(){return nh(t,gL())},Tr.apply(t,arguments),bs(t)}function vL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,fp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vL(t).unknown(e)},t=arguments.length?Array.from(t,fp):[0,1],bs(n)}function yL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qO(t){return Math.log(t)}function GO(t){return Math.exp(t)}function xX(t){return-Math.log(-t)}function CX(t){return-Math.exp(-t)}function OX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function IX(t){return t===10?OX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function RX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KO(t){return(e,n)=>-t(-e,n)}function Qw(t){const e=t(qO,GO),n=e.domain;let r=10,i,a;function s(){return i=RX(r),a=IX(r),n()[0]<0?(i=KO(i),a=KO(a),t(xX,CX)):t(qO,GO),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),m=i(c),g,y;const w=o==null?10:+o;let v=[];if(!(r%1)&&m-d<w){if(d=Math.floor(d),m=Math.ceil(m),u>0){for(;d<=m;++d)for(g=1;g<r;++g)if(y=d<0?g/a(-d):g*a(d),!(y<u)){if(y>c)break;v.push(y)}}else for(;d<=m;++d)for(g=r-1;g>=1;--g)if(y=d>0?g/a(-d):g*a(d),!(y<u)){if(y>c)break;v.push(y)}v.length*2<w&&(v=ab(u,c,w))}else v=ab(d,m,Math.min(m-d,w)).map(a);return h?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=vf(l)).precision==null&&(l.trim=!0),l=Xw(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(yL(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function _L(){const t=Qw(Hg()).domain([1,10]);return t.copy=()=>nh(t,_L()).base(t.base()),Tr.apply(t,arguments),t}function YO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zw(t){var e=1,n=t(YO(e),WO(e));return n.constant=function(r){return arguments.length?t(YO(e=+r),WO(e)):e},bs(n)}function bL(){var t=Zw(Hg());return t.copy=function(){return nh(t,bL()).constant(t.constant())},Tr.apply(t,arguments)}function XO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function PX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NX(t){return t<0?-t*t:t*t}function Jw(t){var e=t(En,En),n=1;function r(){return n===1?t(En,En):n===.5?t(PX,NX):t(XO(n),XO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bs(e)}function eT(){var t=Jw(Hg());return t.copy=function(){return nh(t,eT()).exponent(t.exponent())},Tr.apply(t,arguments),t}function DX(){return eT.apply(null,arguments).exponent(.5)}function QO(t){return Math.sign(t)*t*t}function MX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EL(){var t=Yw(),e=[0,1],n=!1,r;function i(a){var s=MX(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(QO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,fp)).map(QO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return EL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Tr.apply(i,arguments),bs(i)}function wL(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=VW(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[eh(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Qa),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return wL().domain(t).range(e).unknown(r)},Tr.apply(a,arguments)}function TL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[eh(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return TL().domain([t,e]).range(i).unknown(a)},Tr.apply(bs(s),arguments)}function SL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[eh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return SL().domain(t).range(e).unknown(n)},Tr.apply(i,arguments)}const Wy=new Date,Xy=new Date;function Dt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Dt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Wy.setTime(+a),Xy.setTime(+s),t(Wy),t(Xy),Math.floor(n(Wy,Xy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const dp=Dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dp);dp.range;const Ci=1e3,dr=Ci*60,Oi=dr*60,Gi=Oi*24,tT=Gi*7,ZO=Gi*30,Qy=Gi*365,Fs=Dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getUTCSeconds());Fs.range;const nT=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ci)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getMinutes());nT.range;const rT=Dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getUTCMinutes());rT.range;const iT=Dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ci-t.getMinutes()*dr)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getHours());iT.range;const aT=Dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCHours());aT.range;const rh=Dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dr)/Gi,t=>t.getDate()-1);rh.range;const qg=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gi,t=>t.getUTCDate()-1);qg.range;const AL=Dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gi,t=>Math.floor(t/Gi));AL.range;function Oo(t){return Dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*dr)/tT)}const Gg=Oo(0),mp=Oo(1),kX=Oo(2),jX=Oo(3),Hl=Oo(4),LX=Oo(5),VX=Oo(6);Gg.range;mp.range;kX.range;jX.range;Hl.range;LX.range;VX.range;function Io(t){return Dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tT)}const Kg=Io(0),pp=Io(1),UX=Io(2),zX=Io(3),ql=Io(4),BX=Io(5),$X=Io(6);Kg.range;pp.range;UX.range;zX.range;ql.range;BX.range;$X.range;const sT=Dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sT.range;const oT=Dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());oT.range;const Ki=Dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ki.range;const Yi=Dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yi.range;function xL(t,e,n,r,i,a){const s=[[Fs,1,Ci],[Fs,5,5*Ci],[Fs,15,15*Ci],[Fs,30,30*Ci],[a,1,dr],[a,5,5*dr],[a,15,15*dr],[a,30,30*dr],[i,1,Oi],[i,3,3*Oi],[i,6,6*Oi],[i,12,12*Oi],[r,1,Gi],[r,2,2*Gi],[n,1,tT],[e,1,ZO],[e,3,3*ZO],[t,1,Qy]];function o(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const m=h&&typeof h.range=="function"?h:l(u,c,h),g=m?m.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,h){const d=Math.abs(c-u)/h,m=$w(([,,w])=>w).right(s,d);if(m===s.length)return t.every(ob(u/Qy,c/Qy,h));if(m===0)return dp.every(Math.max(ob(u,c,h),1));const[g,y]=s[d/s[m-1][2]<s[m][2]/d?m-1:m];return g.every(y)}return[o,l]}const[FX,HX]=xL(Yi,oT,Kg,AL,aT,rT),[qX,GX]=xL(Ki,sT,Gg,rh,iT,nT);function Zy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function KX(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Wu(i),c=Xu(i),h=Wu(a),d=Xu(a),m=Wu(s),g=Xu(s),y=Wu(o),w=Xu(o),v=Wu(l),E=Xu(l),S={a:Y,A:K,b:J,B:_e,c:null,d:iI,e:iI,f:gQ,g:xQ,G:OQ,H:dQ,I:mQ,j:pQ,L:CL,m:vQ,M:yQ,p:pt,q:gt,Q:oI,s:lI,S:_Q,u:bQ,U:EQ,V:wQ,w:TQ,W:SQ,x:null,X:null,y:AQ,Y:CQ,Z:IQ,"%":sI},O={a:mn,A:ee,b:Ae,B:xr,c:null,d:aI,e:aI,f:DQ,g:FQ,G:qQ,H:RQ,I:PQ,j:NQ,L:IL,m:MQ,M:kQ,p:Ts,q:Ss,Q:oI,s:lI,S:jQ,u:LQ,U:VQ,V:UQ,w:zQ,W:BQ,x:null,X:null,y:$Q,Y:HQ,Z:GQ,"%":sI},N={a:P,A:R,b:M,B:D,c:Z,d:nI,e:nI,f:uQ,g:tI,G:eI,H:rI,I:rI,j:aQ,L:lQ,m:iQ,M:sQ,p:C,q:rQ,Q:fQ,s:hQ,S:oQ,u:ZX,U:JX,V:eQ,w:QX,W:tQ,x:q,X:U,y:tI,Y:eI,Z:nQ,"%":cQ};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),O.x=k(n,O),O.X=k(r,O),O.c=k(e,O);function k(F,fe){return function(Ee){var H=[],kt=-1,Ie=0,pn=F.length,Gt,Cr,bu;for(Ee instanceof Date||(Ee=new Date(+Ee));++kt<pn;)F.charCodeAt(kt)===37&&(H.push(F.slice(Ie,kt)),(Cr=JO[Gt=F.charAt(++kt)])!=null?Gt=F.charAt(++kt):Cr=Gt==="e"?" ":"0",(bu=fe[Gt])&&(Gt=bu(Ee,Cr)),H.push(Gt),Ie=kt+1);return H.push(F.slice(Ie,kt)),H.join("")}}function A(F,fe){return function(Ee){var H=Yu(1900,void 0,1),kt=x(H,F,Ee+="",0),Ie,pn;if(kt!=Ee.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(fe&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ie=Jy(Yu(H.y,0,1)),pn=Ie.getUTCDay(),Ie=pn>4||pn===0?pp.ceil(Ie):pp(Ie),Ie=qg.offset(Ie,(H.V-1)*7),H.y=Ie.getUTCFullYear(),H.m=Ie.getUTCMonth(),H.d=Ie.getUTCDate()+(H.w+6)%7):(Ie=Zy(Yu(H.y,0,1)),pn=Ie.getDay(),Ie=pn>4||pn===0?mp.ceil(Ie):mp(Ie),Ie=rh.offset(Ie,(H.V-1)*7),H.y=Ie.getFullYear(),H.m=Ie.getMonth(),H.d=Ie.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),pn="Z"in H?Jy(Yu(H.y,0,1)).getUTCDay():Zy(Yu(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(pn+5)%7:H.w+H.U*7-(pn+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Jy(H)):Zy(H)}}function x(F,fe,Ee,H){for(var kt=0,Ie=fe.length,pn=Ee.length,Gt,Cr;kt<Ie;){if(H>=pn)return-1;if(Gt=fe.charCodeAt(kt++),Gt===37){if(Gt=fe.charAt(kt++),Cr=N[Gt in JO?fe.charAt(kt++):Gt],!Cr||(H=Cr(F,Ee,H))<0)return-1}else if(Gt!=Ee.charCodeAt(H++))return-1}return H}function C(F,fe,Ee){var H=u.exec(fe.slice(Ee));return H?(F.p=c.get(H[0].toLowerCase()),Ee+H[0].length):-1}function P(F,fe,Ee){var H=m.exec(fe.slice(Ee));return H?(F.w=g.get(H[0].toLowerCase()),Ee+H[0].length):-1}function R(F,fe,Ee){var H=h.exec(fe.slice(Ee));return H?(F.w=d.get(H[0].toLowerCase()),Ee+H[0].length):-1}function M(F,fe,Ee){var H=v.exec(fe.slice(Ee));return H?(F.m=E.get(H[0].toLowerCase()),Ee+H[0].length):-1}function D(F,fe,Ee){var H=y.exec(fe.slice(Ee));return H?(F.m=w.get(H[0].toLowerCase()),Ee+H[0].length):-1}function Z(F,fe,Ee){return x(F,e,fe,Ee)}function q(F,fe,Ee){return x(F,n,fe,Ee)}function U(F,fe,Ee){return x(F,r,fe,Ee)}function Y(F){return s[F.getDay()]}function K(F){return a[F.getDay()]}function J(F){return l[F.getMonth()]}function _e(F){return o[F.getMonth()]}function pt(F){return i[+(F.getHours()>=12)]}function gt(F){return 1+~~(F.getMonth()/3)}function mn(F){return s[F.getUTCDay()]}function ee(F){return a[F.getUTCDay()]}function Ae(F){return l[F.getUTCMonth()]}function xr(F){return o[F.getUTCMonth()]}function Ts(F){return i[+(F.getUTCHours()>=12)]}function Ss(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var fe=k(F+="",S);return fe.toString=function(){return F},fe},parse:function(F){var fe=A(F+="",!1);return fe.toString=function(){return F},fe},utcFormat:function(F){var fe=k(F+="",O);return fe.toString=function(){return F},fe},utcParse:function(F){var fe=A(F+="",!0);return fe.toString=function(){return F},fe}}}var JO={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,YX=/^%/,WX=/[\\^$*+?|[\]().{}]/g;function Te(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function XX(t){return t.replace(WX,"\\$&")}function Wu(t){return new RegExp("^(?:"+t.map(XX).join("|")+")","i")}function Xu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function QX(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ZX(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function JX(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function eQ(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tQ(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eI(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tI(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rQ(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function iQ(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nI(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function aQ(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rI(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sQ(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oQ(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lQ(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function uQ(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cQ(t,e,n){var r=YX.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fQ(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hQ(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iI(t,e){return Te(t.getDate(),e,2)}function dQ(t,e){return Te(t.getHours(),e,2)}function mQ(t,e){return Te(t.getHours()%12||12,e,2)}function pQ(t,e){return Te(1+rh.count(Ki(t),t),e,3)}function CL(t,e){return Te(t.getMilliseconds(),e,3)}function gQ(t,e){return CL(t,e)+"000"}function vQ(t,e){return Te(t.getMonth()+1,e,2)}function yQ(t,e){return Te(t.getMinutes(),e,2)}function _Q(t,e){return Te(t.getSeconds(),e,2)}function bQ(t){var e=t.getDay();return e===0?7:e}function EQ(t,e){return Te(Gg.count(Ki(t)-1,t),e,2)}function OL(t){var e=t.getDay();return e>=4||e===0?Hl(t):Hl.ceil(t)}function wQ(t,e){return t=OL(t),Te(Hl.count(Ki(t),t)+(Ki(t).getDay()===4),e,2)}function TQ(t){return t.getDay()}function SQ(t,e){return Te(mp.count(Ki(t)-1,t),e,2)}function AQ(t,e){return Te(t.getFullYear()%100,e,2)}function xQ(t,e){return t=OL(t),Te(t.getFullYear()%100,e,2)}function CQ(t,e){return Te(t.getFullYear()%1e4,e,4)}function OQ(t,e){var n=t.getDay();return t=n>=4||n===0?Hl(t):Hl.ceil(t),Te(t.getFullYear()%1e4,e,4)}function IQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Te(e/60|0,"0",2)+Te(e%60,"0",2)}function aI(t,e){return Te(t.getUTCDate(),e,2)}function RQ(t,e){return Te(t.getUTCHours(),e,2)}function PQ(t,e){return Te(t.getUTCHours()%12||12,e,2)}function NQ(t,e){return Te(1+qg.count(Yi(t),t),e,3)}function IL(t,e){return Te(t.getUTCMilliseconds(),e,3)}function DQ(t,e){return IL(t,e)+"000"}function MQ(t,e){return Te(t.getUTCMonth()+1,e,2)}function kQ(t,e){return Te(t.getUTCMinutes(),e,2)}function jQ(t,e){return Te(t.getUTCSeconds(),e,2)}function LQ(t){var e=t.getUTCDay();return e===0?7:e}function VQ(t,e){return Te(Kg.count(Yi(t)-1,t),e,2)}function RL(t){var e=t.getUTCDay();return e>=4||e===0?ql(t):ql.ceil(t)}function UQ(t,e){return t=RL(t),Te(ql.count(Yi(t),t)+(Yi(t).getUTCDay()===4),e,2)}function zQ(t){return t.getUTCDay()}function BQ(t,e){return Te(pp.count(Yi(t)-1,t),e,2)}function $Q(t,e){return Te(t.getUTCFullYear()%100,e,2)}function FQ(t,e){return t=RL(t),Te(t.getUTCFullYear()%100,e,2)}function HQ(t,e){return Te(t.getUTCFullYear()%1e4,e,4)}function qQ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ql(t):ql.ceil(t),Te(t.getUTCFullYear()%1e4,e,4)}function GQ(){return"+0000"}function sI(){return"%"}function oI(t){return+t}function lI(t){return Math.floor(+t/1e3)}var Lo,PL,NL;KQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KQ(t){return Lo=KX(t),PL=Lo.format,Lo.parse,NL=Lo.utcFormat,Lo.utcParse,Lo}function YQ(t){return new Date(t)}function WQ(t){return t instanceof Date?+t:+new Date(+t)}function lT(t,e,n,r,i,a,s,o,l,u){var c=Yw(),h=c.invert,d=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),E=u("%b %d"),S=u("%B"),O=u("%Y");function N(k){return(l(k)<k?m:o(k)<k?g:s(k)<k?y:a(k)<k?w:r(k)<k?i(k)<k?v:E:n(k)<k?S:O)(k)}return c.invert=function(k){return new Date(h(k))},c.domain=function(k){return arguments.length?d(Array.from(k,WQ)):d().map(YQ)},c.ticks=function(k){var A=d();return t(A[0],A[A.length-1],k??10)},c.tickFormat=function(k,A){return A==null?N:u(A)},c.nice=function(k){var A=d();return(!k||typeof k.range!="function")&&(k=e(A[0],A[A.length-1],k??10)),k?d(yL(A,k)):c},c.copy=function(){return nh(c,lT(t,e,n,r,i,a,s,o,l,u))},c}function XQ(){return Tr.apply(lT(qX,GX,Ki,sT,Gg,rh,iT,nT,Fs,PL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QQ(){return Tr.apply(lT(FX,HX,Yi,oT,Kg,qg,aT,rT,Fs,NL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yg(){var t=0,e=1,n,r,i,a,s=En,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function c(h){return function(d){var m,g;return arguments.length?([m,g]=d,s=h(m,g),u):[s(0),s(1)]}}return u.range=c(hu),u.rangeRound=c(Kw),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Es(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DL(){var t=bs(Yg()(En));return t.copy=function(){return Es(t,DL())},ra.apply(t,arguments)}function ML(){var t=Qw(Yg()).domain([1,10]);return t.copy=function(){return Es(t,ML()).base(t.base())},ra.apply(t,arguments)}function kL(){var t=Zw(Yg());return t.copy=function(){return Es(t,kL()).constant(t.constant())},ra.apply(t,arguments)}function uT(){var t=Jw(Yg());return t.copy=function(){return Es(t,uT()).exponent(t.exponent())},ra.apply(t,arguments)}function ZQ(){return uT.apply(null,arguments).exponent(.5)}function jL(){var t=[],e=En;function n(r){if(r!=null&&!isNaN(r=+r))return e((eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>LW(t,a/r))},n.copy=function(){return jL(e).domain(t)},ra.apply(n,arguments)}function Wg(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,u=En,c,h=!1,d;function m(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-a)*(r*y<r*a?o:l),u(h?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),a=c(e=+e),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(h=!!y,m):h},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var v,E,S;return arguments.length?([v,E,S]=w,u=cX(y,[v,E,S]),m):[u(0),u(.5),u(1)]}}return m.range=g(hu),m.rangeRound=g(Kw),m.unknown=function(y){return arguments.length?(d=y,m):d},function(y){return c=y,i=y(t),a=y(e),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function LL(){var t=bs(Wg()(En));return t.copy=function(){return Es(t,LL())},ra.apply(t,arguments)}function VL(){var t=Qw(Wg()).domain([.1,1,10]);return t.copy=function(){return Es(t,VL()).base(t.base())},ra.apply(t,arguments)}function UL(){var t=Zw(Wg());return t.copy=function(){return Es(t,UL()).constant(t.constant())},ra.apply(t,arguments)}function cT(){var t=Jw(Wg());return t.copy=function(){return Es(t,cT()).exponent(t.exponent())},ra.apply(t,arguments)}function JQ(){return cT.apply(null,arguments).exponent(.5)}const cc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hw,scaleDiverging:LL,scaleDivergingLog:VL,scaleDivergingPow:cT,scaleDivergingSqrt:JQ,scaleDivergingSymlog:UL,scaleIdentity:vL,scaleImplicit:lb,scaleLinear:gL,scaleLog:_L,scaleOrdinal:Fw,scalePoint:zW,scalePow:eT,scaleQuantile:wL,scaleQuantize:TL,scaleRadial:EL,scaleSequential:DL,scaleSequentialLog:ML,scaleSequentialPow:uT,scaleSequentialQuantile:jL,scaleSequentialSqrt:ZQ,scaleSequentialSymlog:kL,scaleSqrt:DX,scaleSymlog:bL,scaleThreshold:SL,scaleTime:XQ,scaleUtc:QQ,tickFormat:pL},Symbol.toStringTag,{value:"Module"}));var ia=t=>t.chartData,Xg=L([ia],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),zL=(t,e,n,r)=>r?Xg(t):ia(t),eZ=(t,e,n)=>n?Xg(t):ia(t);function cs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(tt(e)&&tt(n))return!0}return!1}function uI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function BL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(tt(n))i=n;else if(typeof n=="function")return;if(tt(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(cs(s))return s}}function tZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(cs(r))return uI(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ce(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&DC.test(i)){var l=DC.exec(i);if(l==null||l[1]==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(ce(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&MC.test(a)){var c=MC.exec(a);if(c==null||c[1]==null||e==null)o=void 0;else{var h=+c[1];o=e[1]+h}}else o=e==null?void 0:e[1];var d=[s,o];if(cs(d))return e==null?d:uI(d,e,n)}}}var du=1e9,nZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hT,Ze=!0,Er="[DecimalError] ",Js=Er+"Invalid argument: ",fT=Er+"Exponent out of range: ",mu=Math.floor,Vs=Math.pow,rZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Ut=1e7,He=7,$L=9007199254740991,gp=mu($L/He),Q={};Q.absoluteValue=Q.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Q.comparedTo=Q.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*He;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Q.dividedBy=Q.div=function(t){return Di(this,new this.constructor(t))};Q.dividedToIntegerBy=Q.idiv=function(t){var e=this,n=e.constructor;return je(Di(e,new n(t),0,1),n.precision)};Q.equals=Q.eq=function(t){return!this.cmp(t)};Q.exponent=function(){return At(this)};Q.greaterThan=Q.gt=function(t){return this.cmp(t)>0};Q.greaterThanOrEqualTo=Q.gte=function(t){return this.cmp(t)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(t){return this.cmp(t)<0};Q.lessThanOrEqualTo=Q.lte=function(t){return this.cmp(t)<1};Q.logarithm=Q.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($n))throw Error(Er+"NaN");if(n.s<1)throw Error(Er+(n.s?"NaN":"-Infinity"));return n.eq($n)?new r(0):(Ze=!1,e=Di(yf(n,a),yf(t,a),a),Ze=!0,je(e,i))};Q.minus=Q.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qL(e,t):FL(e,(t.s=-t.s,t))};Q.modulo=Q.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Er+"NaN");return n.s?(Ze=!1,e=Di(n,t,0,1).times(t),Ze=!0,n.minus(e)):je(new r(n),i)};Q.naturalExponential=Q.exp=function(){return HL(this)};Q.naturalLogarithm=Q.ln=function(){return yf(this)};Q.negated=Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Q.plus=Q.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):qL(e,(t.s=-t.s,t))};Q.precision=Q.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Js+t);if(e=At(i)+1,r=i.d.length-1,n=r*He+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Q.squareRoot=Q.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Er+"NaN")}for(t=At(o),Ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Yr(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Di(o,a,s+2)).times(.5),Yr(a.d).slice(0,s)===(e=Yr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(je(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Ze=!0,je(r,n)};Q.times=Q.mul=function(t){var e,n,r,i,a,s,o,l,u,c=this,h=c.constructor,d=c.d,m=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=m.length,l<u&&(a=d,d=m,m=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+m[r]*d[i-r-1]+e,a[i--]=o%Ut|0,e=o/Ut|0;a[i]=(a[i]+e)%Ut|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ze?je(t,h.precision):t};Q.toDecimalPlaces=Q.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ai(t,0,du),e===void 0?e=r.rounding:ai(e,0,8),je(n,t+At(n)+1,e))};Q.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=go(r,!0):(ai(t,0,du),e===void 0?e=i.rounding:ai(e,0,8),r=je(new i(r),t+1,e),n=go(r,!0,t+1)),n};Q.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?go(i):(ai(t,0,du),e===void 0?e=a.rounding:ai(e,0,8),r=je(new a(i),t+At(i)+1,e),n=go(r.abs(),!1,t+At(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Q.toInteger=Q.toint=function(){var t=this,e=t.constructor;return je(new e(t),At(t)+1,e.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l($n);if(o=new l(o),!o.s){if(t.s<1)throw Error(Er+"Infinity");return o}if(o.eq($n))return o;if(r=l.precision,t.eq($n))return je(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=c<0?-c:c)<=$L){for(i=new l($n),e=Math.ceil(r/He+4),Ze=!1;n%2&&(i=i.times(o),fI(i.d,e)),n=mu(n/2),n!==0;)o=o.times(o),fI(o.d,e);return Ze=!0,t.s<0?new l($n).div(i):je(i,r)}}else if(a<0)throw Error(Er+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ze=!1,i=t.times(yf(o,r+u)),Ze=!0,i=HL(i),i.s=a,i};Q.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=At(i),r=go(i,n<=a.toExpNeg||n>=a.toExpPos)):(ai(t,1,du),e===void 0?e=a.rounding:ai(e,0,8),i=je(new a(i),t,e),n=At(i),r=go(i,t<=n||n<=a.toExpNeg,t)),r};Q.toSignificantDigits=Q.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ai(t,1,du),e===void 0?e=r.rounding:ai(e,0,8)),je(new r(n),t,e)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=At(t),n=t.constructor;return go(t,e<=n.toExpNeg||e>=n.toExpPos)};function FL(t,e){var n,r,i,a,s,o,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ze?je(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(h/He),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ut|0,l[a]%=Ut;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Ze?je(e,h):e}function ai(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Js+t)}function Yr(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=He-r.length,n&&(a+=ba(n)),a+=r;s=t[e],r=s+"",n=He-r.length,n&&(a+=ba(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Di=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Ut|0,s=a/Ut|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ut+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,h,d,m,g,y,w,v,E,S,O,N,k,A,x,C=r.constructor,P=r.s==i.s?1:-1,R=r.d,M=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Er+"Division by zero");for(l=r.e-i.e,A=M.length,N=R.length,m=new C(P),g=m.d=[],u=0;M[u]==(R[u]||0);)++u;if(M[u]>(R[u]||0)&&--l,a==null?E=a=C.precision:s?E=a+(At(r)-At(i))+1:E=a,E<0)return new C(0);if(E=E/He+2|0,u=0,A==1)for(c=0,M=M[0],E++;(u<N||c)&&E--;u++)S=c*Ut+(R[u]||0),g[u]=S/M|0,c=S%M|0;else{for(c=Ut/(M[0]+1)|0,c>1&&(M=t(M,c),R=t(R,c),A=M.length,N=R.length),O=A,y=R.slice(0,A),w=y.length;w<A;)y[w++]=0;x=M.slice(),x.unshift(0),k=M[0],M[1]>=Ut/2&&++k;do c=0,o=e(M,y,A,w),o<0?(v=y[0],A!=w&&(v=v*Ut+(y[1]||0)),c=v/k|0,c>1?(c>=Ut&&(c=Ut-1),h=t(M,c),d=h.length,w=y.length,o=e(h,y,d,w),o==1&&(c--,n(h,A<d?x:M,d))):(c==0&&(o=c=1),h=M.slice()),d=h.length,d<w&&h.unshift(0),n(y,h,w),o==-1&&(w=y.length,o=e(M,y,A,w),o<1&&(c++,n(y,A<w?x:M,w))),w=y.length):o===0&&(c++,y=[0]),g[u++]=c,o&&y[0]?y[w++]=R[O]||0:(y=[R[O]],w=1);while((O++<N||y[0]!==void 0)&&E--)}return g[0]||g.shift(),m.e=l,je(m,s?a+At(m)+1:a)}}();function HL(t,e){var n,r,i,a,s,o,l=0,u=0,c=t.constructor,h=c.precision;if(At(t)>16)throw Error(fT+At(t));if(!t.s)return new c($n);for(Ze=!1,o=h,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Vs(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c($n),c.precision=o;;){if(i=je(i.times(t),o),n=n.times(++l),s=a.plus(Di(i,n,o)),Yr(s.d).slice(0,o)===Yr(a.d).slice(0,o)){for(;u--;)a=je(a.times(a),o);return c.precision=h,e==null?(Ze=!0,je(a,h)):a}a=s}}function At(t){for(var e=t.e*He,n=t.d[0];n>=10;n/=10)e++;return e}function e0(t,e,n){if(e>t.LN10.sd())throw Ze=!0,n&&(t.precision=n),Error(Er+"LN10 precision limit exceeded");return je(new t(t.LN10),e)}function ba(t){for(var e="";t--;)e+="0";return e}function yf(t,e){var n,r,i,a,s,o,l,u,c,h=1,d=10,m=t,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(Er+(m.s?"NaN":"-Infinity"));if(m.eq($n))return new y(0);if(e==null?(Ze=!1,u=w):u=e,m.eq(10))return e==null&&(Ze=!0),e0(y,u);if(u+=d,y.precision=u,n=Yr(g),r=n.charAt(0),a=At(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Yr(m.d),r=n.charAt(0),h++;a=At(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return l=e0(y,u+2,w).times(a+""),m=yf(new y(r+"."+n.slice(1)),u-d).plus(l),y.precision=w,e==null?(Ze=!0,je(m,w)):m;for(o=s=m=Di(m.minus($n),m.plus($n),u),c=je(m.times(m),u),i=3;;){if(s=je(s.times(c),u),l=o.plus(Di(s,new y(i),u)),Yr(l.d).slice(0,u)===Yr(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(e0(y,u+2,w).times(a+""))),o=Di(o,new y(h),u),y.precision=w,e==null?(Ze=!0,je(o,w)):o;o=l,i+=2}}function cI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=mu(n/He),t.d=[],r=(n+1)%He,n<0&&(r+=He),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=He;r<i;)t.d.push(+e.slice(r,r+=He));e=e.slice(r),r=He-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ze&&(t.e>gp||t.e<-gp))throw Error(fT+n)}else t.s=0,t.e=0,t.d=[0];return t}function je(t,e,n){var r,i,a,s,o,l,u,c,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=He,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/He),a=h.length,c>=a)return t;for(u=a=h[c],s=1;a>=10;a/=10)s++;r%=He,i=r-He+s}if(n!==void 0&&(a=Vs(10,s-i-1),o=u/a%10|0,l=e<0||h[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Vs(10,s-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(a=At(t),h.length=1,e=e-a-1,h[0]=Vs(10,(He-e%He)%He),t.e=mu(-e/He)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,a=1,c--):(h.length=c+1,a=Vs(10,He-r),h[c]=i>0?(u/Vs(10,s-i)%Vs(10,i)|0)*a:0),l)for(;;)if(c==0){(h[0]+=a)==Ut&&(h[0]=1,++t.e);break}else{if(h[c]+=a,h[c]!=Ut)break;h[c--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Ze&&(t.e>gp||t.e<-gp))throw Error(fT+At(t));return t}function qL(t,e){var n,r,i,a,s,o,l,u,c,h,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Ze?je(e,m):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=h.length):(n=h,r=u,o=l.length),i=Math.max(Math.ceil(m/He),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}s=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=Ut-1;--l[a],l[i]+=Ut}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ze?je(e,m):e):new d(0)}function go(t,e,n){var r,i=At(t),a=Yr(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ba(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ba(-i-1)+a,n&&(r=n-s)>0&&(a+=ba(r))):i>=s?(a+=ba(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ba(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ba(r))),t.s<0?"-"+a:a}function fI(t,e){if(t.length>e)return t.length=e,!0}function GL(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Js+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return cI(s,a.toString())}else if(typeof a!="string")throw Error(Js+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rZ.test(a))cI(s,a);else throw Error(Js+a)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GL,i.config=i.set=iZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iZ(t){if(!t||typeof t!="object")throw Error(Er+"Object expected");var e,n,r,i=["precision",1,du,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(mu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Js+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Js+n+": "+r);return this}var hT=GL(nZ);$n=new hT(1);const Pe=hT;var aZ=t=>t,KL={},YL=t=>t===KL,hI=t=>function e(){return arguments.length===0||arguments.length===1&&YL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},WL=(t,e)=>t===1?e:hI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==KL).length;return a>=t?e(...r):WL(t-a,hI(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(c=>YL(c)?o.shift():c);return e(...u,...o)}))}),sZ=t=>WL(t.length,t),hb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},oZ=sZ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),lZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return aZ;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function XL(t){var e;return t===0?e=1:e=Math.floor(new Pe(t).abs().log(10).toNumber())+1,e}function QL(t,e,n){for(var r=new Pe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var ZL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},JL=(t,e,n)=>{if(t.lte(0))return new Pe(0);var r=XL(t.toNumber()),i=new Pe(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Pe(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?new Pe(l.toNumber()):new Pe(Math.ceil(l.toNumber()))},uZ=(t,e,n)=>{var r=new Pe(1),i=new Pe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Pe(10).pow(XL(t)-1),i=new Pe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pe(Math.floor(t)))}else t===0?i=new Pe(Math.floor((e-1)/2)):n||(i=new Pe(Math.floor(t)));var s=Math.floor((e-1)/2),o=lZ(oZ(l=>i.add(new Pe(l-s).mul(r)).toNumber()),hb);return o(0,e)},e4=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var s=JL(new Pe(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Pe(0):(o=new Pe(e).add(n).div(2),o=o.sub(new Pe(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Pe(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?e4(e,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Pe(l).mul(s)),tickMax:o.add(new Pe(u).mul(s))})},cZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=ZL([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...hb(0,i-1).map(()=>1/0)]:[...hb(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return uZ(o,i,a);var{step:c,tickMin:h,tickMax:d}=e4(o,l,s,a,0),m=QL(h,d.add(new Pe(.1).mul(c)),c);return n>r?m.reverse():m},fZ=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=ZL([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=JL(new Pe(o).sub(s).div(l-1),a,0),c=[...QL(new Pe(s),new Pe(o),u),o];return a===!1&&(c=c.map(h=>Math.round(h))),r>i?c.reverse():c},t4=t=>t.rootProps.maxBarSize,hZ=t=>t.rootProps.barGap,n4=t=>t.rootProps.barCategoryGap,dZ=t=>t.rootProps.barSize,ih=t=>t.rootProps.stackOffset,r4=t=>t.rootProps.reverseStackOrder,i4=t=>t.options.chartName,a4=t=>t.rootProps.syncId,mZ=t=>t.rootProps.syncMethod,s4=t=>t.options.eventEmitter,Sr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},bi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},pZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bi.angleAxisId,includeHidden:!1,name:void 0,reversed:bi.reversed,scale:bi.scale,tick:bi.tick,tickCount:void 0,ticks:void 0,type:bi.type,unit:void 0},gZ={allowDataOverflow:Vn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vn.scale,tick:Vn.tick,tickCount:Vn.tickCount,ticks:void 0,type:Vn.type,unit:void 0},vZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bi.scale,tick:bi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yZ={allowDataOverflow:Vn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vn.scale,tick:Vn.tick,tickCount:Vn.tickCount,ticks:void 0,type:"category",unit:void 0},dT=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?vZ:pZ,mT=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?yZ:gZ,Zg=t=>t.polarOptions,pT=L([ta,na,Ft],eL),o4=L([Zg,pT],(t,e)=>{if(t!=null)return hn(t.innerRadius,e,0)}),l4=L([Zg,pT],(t,e)=>{if(t!=null)return hn(t.outerRadius,e,e*.8)}),_Z=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},u4=L([Zg],_Z);L([dT,u4],Qg);var c4=L([pT,o4,l4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});L([mT,c4],Qg);var f4=L([Se,Zg,o4,l4,ta,na],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=e;return{cx:hn(s,i,i/2),cy:hn(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Je=(t,e)=>e,ah=(t,e,n)=>n;function gT(t){return t==null?void 0:t.id}function h4(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=gT(o);u.forEach((h,d)=>{var m=a==null||i?d:String(Ye(h,a,null)),g=Ye(h,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[c]:g}),s.set(m,y)})}}),Array.from(s.values())}function Jg(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ev=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function tv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function bZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Mt=t=>{var e=Se(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},pu=t=>t.tooltip.settings.axisId;function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){EZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EZ(t,e,n){return(e=wZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=TZ(t,"string");return typeof e=="symbol"?e:e+""}function TZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var db=[0,"auto"],Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},d4=(t,e)=>t.cartesianAxis.xAxis[e],aa=(t,e)=>{var n=d4(t,e);return n??Lt},m4={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:db,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Zf},SZ=(t,e)=>t.cartesianAxis.yAxis[e],sa=(t,e)=>{var n=SZ(t,e);return n??m4},AZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vT=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??AZ},nt=(t,e,n)=>{switch(e){case"xAxis":return aa(t,n);case"yAxis":return sa(t,n);case"zAxis":return vT(t,n);case"angleAxis":return dT(t,n);case"radiusAxis":return mT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xZ=(t,e,n)=>{switch(e){case"xAxis":return aa(t,n);case"yAxis":return sa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sh=(t,e,n)=>{switch(e){case"xAxis":return aa(t,n);case"yAxis":return sa(t,n);case"angleAxis":return dT(t,n);case"radiusAxis":return mT(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},p4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function yT(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var _T=t=>t.graphicalItems.cartesianItems,CZ=L([Je,ah],yT),bT=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),oh=L([_T,nt,CZ],bT,{memoizeOptions:{resultEqualityCheck:tv}}),g4=L([oh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Jg)),v4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),OZ=L([oh],v4),ET=t=>t.map(e=>e.data).filter(Boolean).flat(1),IZ=L([oh],ET,{memoizeOptions:{resultEqualityCheck:tv}}),wT=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},TT=L([IZ,zL],wT),ST=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ye(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ye(i,r)}))):t.map(r=>({value:r})),nv=L([TT,nt,oh],ST);function y4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function zd(t){if(Ul(t)||t instanceof Date){var e=Number(t);if(tt(e))return e}}function mI(t){if(Array.isArray(t)){var e=[zd(t[0]),zd(t[1])];return cs(e)?e:void 0}var n=zd(t);if(n!=null)return[n,n]}function Wi(t){return t.map(zd).filter(Oq)}function RZ(t,e,n){return!n||typeof e!="number"||ii(e)?[]:n.length?Wi(n.flatMap(r=>{var i=Ye(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!tt(a)||!tt(s)))return[e-a,e+s]})):[]}var qt=t=>{var e=Mt(t),n=pu(t);return sh(t,e,n)},lh=L([qt],t=>t==null?void 0:t.dataKey),PZ=L([g4,zL,qt],h4),_4=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(gT);return[o,{stackedData:kK(t,c,n),graphicalItems:u}]}))},mb=L([PZ,g4,ih,r4],_4),b4=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=zK(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},NZ=L([nt],t=>t.allowDataOverflow),AT=t=>{var e;if(t==null||!("domain"in t))return db;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Wi(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:db},xT=L([nt],AT),CT=L([xT,NZ],BL),DZ=L([mb,ia,Je,CT],b4,{memoizeOptions:{resultEqualityCheck:ev}}),rv=t=>t.errorBars,MZ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>y4(n,r)),yp=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},OT=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var u,c,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(v=>y4(i,v)),d=Ye(o,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),m=RZ(o,d,h);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(a==null||g<a)&&(a=g),(s==null||y>s)&&(s=y)}var w=mI(d);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=mI(Ye(o,e.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),tt(a)&&tt(s))return[a,s]},kZ=L([TT,nt,OZ,rv,Je],OT,{memoizeOptions:{resultEqualityCheck:ev}});function jZ(t){var{value:e}=t;if(Ul(e)||e instanceof Date)return e}var LZ=(t,e,n)=>{var r=t.map(jZ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Nk(r))?aL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},E4=t=>t.referenceElements.dots,gu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),VZ=L([E4,Je,ah],gu),w4=t=>t.referenceElements.areas,UZ=L([w4,Je,ah],gu),T4=t=>t.referenceElements.lines,zZ=L([T4,Je,ah],gu),S4=(t,e)=>{if(t!=null){var n=Wi(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BZ=L(VZ,Je,S4),A4=(t,e)=>{if(t!=null){var n=Wi(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$Z=L([UZ,Je],A4);function FZ(t){var e;if(t.x!=null)return Wi([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Wi(n)}function HZ(t){var e;if(t.y!=null)return Wi([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Wi(n)}var x4=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?FZ(r):HZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qZ=L([zZ,Je],x4),GZ=L(BZ,qZ,$Z,(t,e,n)=>yp(t,n,e)),IT=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?yp(r,a,i):yp(a,i);return tZ(e,u,t.allowDataOverflow)},KZ=L([nt,xT,CT,DZ,kZ,GZ,Se,Je],IT,{memoizeOptions:{resultEqualityCheck:ev}}),YZ=[0,1],RT=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,u=Co(e,a);if(u&&o==null){var c;return aL(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?LZ(r,t,u):i==="expand"?YZ:s}},PT=L([nt,Se,TT,nv,ih,Je,KZ],RT),C4=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Yf(a));return o in cc?o:"point"}}},vu=L([nt,Se,p4,i4,Je],C4);function WZ(t){if(t!=null){if(t in cc)return cc[t]();var e="scale".concat(Yf(t));if(e in cc)return cc[e]()}}function NT(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=WZ(e);if(i!=null){var a=i.domain(n).range(r);return RK(a),a}}}var DT=(t,e,n)=>{var r=AT(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&cs(t))return cZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&cs(t))return fZ(t,e.tickCount,e.allowDecimals)}},MT=L([PT,sh,vu],DT),kT=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&cs(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},XZ=L([nt,PT,MT,Je],kT),QZ=L(nv,nt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Wi(t.map(h=>h.value))).sort((h,d)=>h-d),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),O4=L(QZ,Se,n4,Ft,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!tt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=hn(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),ZZ=(t,e,n)=>{var r=aa(t,e);return r==null||typeof r.padding!="string"?0:O4(t,"xAxis",e,n,r.padding)},JZ=(t,e,n)=>{var r=sa(t,e);return r==null||typeof r.padding!="string"?0:O4(t,"yAxis",e,n,r.padding)},eJ=L(aa,ZZ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),tJ=L(sa,JZ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),nJ=L([Ft,eJ,kg,Mg,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),rJ=L([Ft,Se,tJ,kg,Mg,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),uh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return nJ(t,n,r);case"yAxis":return rJ(t,n,r);case"zAxis":return(i=vT(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return u4(t);case"radiusAxis":return c4(t,n);default:return}},I4=L([nt,uh],Qg),iv=L([nt,vu,XZ,I4],NT);L([oh,rv,Je],MZ);function R4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var av=(t,e)=>e,sv=(t,e,n)=>n,iJ=L(Ng,av,sv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(R4)),aJ=L(Dg,av,sv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(R4)),P4=(t,e)=>({width:t.width,height:e.height}),sJ=(t,e)=>{var n=typeof e.width=="number"?e.width:Zf;return{width:n,height:t.height}},N4=L(Ft,aa,P4),oJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},lJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},uJ=L(na,Ft,iJ,av,sv,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=P4(e,o);s==null&&(s=oJ(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),cJ=L(ta,Ft,aJ,av,sv,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=sJ(e,o);s==null&&(s=lJ(e,r,t));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),fJ=(t,e)=>{var n=aa(t,e);if(n!=null)return uJ(t,n.orientation,n.mirror)},hJ=L([Ft,aa,fJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dJ=(t,e)=>{var n=sa(t,e);if(n!=null)return cJ(t,n.orientation,n.mirror)};L([Ft,sa,dJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});var mJ=L(Ft,sa,(t,e)=>{var n=typeof e.width=="number"?e.width:Zf;return{width:n,height:t.height}}),pI=(t,e,n)=>{switch(e){case"xAxis":return N4(t,n).width;case"yAxis":return mJ(t,n).height;default:return}},D4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Co(t,r),l=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&Nk(l))return l}},jT=L([Se,nv,nt,Je],D4),M4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Co(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},LT=L([Se,nv,sh,Je],M4);L([Se,xZ,vu,iv,jT,LT,uh,MT,Je],(t,e,n,r,i,a,s,o,l)=>{if(e!=null){var u=Co(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}});var pJ=(t,e,n,r,i,a,s,o,l)=>{if(!(e==null||r==null)){var u=Co(t,l),{type:c,ticks:h,tickCount:d}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/m:0;g=l==="angleAxis"&&a!=null&&a.length>=2?tn(a[0]-a[1])*2*g:g;var y=h||i;if(y){var w=y.map((v,E)=>{var S=s?s.indexOf(v):v;return{index:E,coordinate:r(S)+g,value:v,offset:g}});return w.filter(v=>tt(v.coordinate))}return u&&o?o.map((v,E)=>({coordinate:r(v)+g,value:v,index:E,offset:g})).filter(v=>tt(v.coordinate)):r.ticks?r.ticks(d).map(v=>({coordinate:r(v)+g,value:v,offset:g})):r.domain().map((v,E)=>({coordinate:r(v)+g,value:s?s[v]:v,index:E,offset:g}))}},gJ=L([Se,sh,vu,iv,MT,uh,jT,LT,Je],pJ),vJ=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Co(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?tn(r[0]-r[1])*2*u:u,o&&a?a.map((c,h)=>({coordinate:n(c)+u,value:c,index:h,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,h)=>({coordinate:n(c)+u,value:i?i[c]:c,index:h,offset:u}))}},Gl=L([Se,sh,iv,uh,jT,LT,Je],vJ),Kl=L(nt,iv,(t,e)=>{if(!(t==null||e==null))return vp(vp({},t),{},{scale:e})}),yJ=L([nt,vu,PT,I4],NT);L((t,e,n)=>vT(t,n),yJ,(t,e)=>{if(!(t==null||e==null))return vp(vp({},t),{},{scale:e})});var _J=L([Se,Ng,Dg],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),k4=t=>t.options.defaultTooltipEventType,j4=t=>t.options.validateTooltipEventTypes;function L4(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function V4(t,e){var n=k4(t),r=j4(t);return L4(e,n,r)}var U4=(t,e)=>{var n,r=Number(e);if(!(ii(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},bJ=t=>t.tooltip.settings,Oa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},EJ={itemInteraction:{click:Oa,hover:Oa},axisInteraction:{click:Oa,hover:Oa},keyboardInteraction:Oa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z4=kn({name:"tooltip",initialState:EJ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qe()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=kr(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qe()},removeTooltipEntrySettings:{reducer(t,e){var n=kr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qe()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:wJ,replaceTooltipEntrySettings:TJ,removeTooltipEntrySettings:SJ,setTooltipSettingsState:Ooe,setActiveMouseOverItemIndex:B4,mouseLeaveItem:AJ,mouseLeaveChart:$4,setActiveClickItemIndex:xJ,setMouseOverAxisIndex:F4,setMouseClickAxisIndex:CJ,setSyncInteraction:gI,setKeyboardInteraction:pb}=z4.actions,OJ=z4.reducer;function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){IJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=PJ(t,"string");return typeof e=="symbol"?e:e+""}function PJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NJ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function DJ(t){return t.index!=null}var H4=(t,e,n,r)=>{if(e==null)return Oa;var i=NJ(t,e,n);if(i==null)return Oa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(DJ(i)){if(a)return ld(ld({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ld(ld({},Oa),{},{coordinate:i.coordinate})};function MJ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function kJ(t,e){var n=MJ(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function jJ(t,e,n){if(n==null||e==null)return!0;var r=Ye(t,e);return r==null||!cs(n)?!0:kJ(r,n)}var VT=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!tt(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(s,Math.min(a,o)),u=e[l];return u==null||jJ(u,n,r)?String(l):null},q4=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},G4=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},ch=t=>t.options.tooltipPayloadSearcher,fh=t=>t.tooltip;function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zJ(t,e){return t??e}var K4=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,h=[];return t.reduce((d,m)=>{var g,{dataDefinedOnItem:y,settings:w}=m,v=zJ(y,o),E=Array.isArray(v)?Aj(v,u,c):v,S=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:r,O=w==null?void 0:w.nameKey,N;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&s==="axis"?N=Cq(E,r,i):N=a(E,e,l,O),Array.isArray(N))N.forEach(A=>{var x=_I(_I({},w),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});d.push(kC({tooltipEntrySettings:x,dataKey:A.dataKey,payload:A.payload,value:Ye(A.payload,A.dataKey),name:A.name}))});else{var k;d.push(kC({tooltipEntrySettings:w,dataKey:S,payload:N,value:Ye(N,S),name:(k=Ye(N,O))!==null&&k!==void 0?k:w==null?void 0:w.name}))}return d},h)}},UT=L([qt,Se,p4,i4,Mt],C4),BJ=L([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$J=L([Mt,pu],yT),yu=L([BJ,qt,$J],bT,{memoizeOptions:{resultEqualityCheck:tv}}),FJ=L([yu],t=>t.filter(Jg)),HJ=L([yu],ET,{memoizeOptions:{resultEqualityCheck:tv}}),_u=L([HJ,ia],wT),qJ=L([FJ,ia,qt],h4),zT=L([_u,qt,yu],ST),Y4=L([qt],AT),GJ=L([qt],t=>t.allowDataOverflow),W4=L([Y4,GJ],BL),KJ=L([yu],t=>t.filter(Jg)),YJ=L([qJ,KJ,ih,r4],_4),WJ=L([YJ,ia,Mt,W4],b4),XJ=L([yu],v4),QJ=L([_u,qt,XJ,rv,Mt],OT,{memoizeOptions:{resultEqualityCheck:ev}}),ZJ=L([E4,Mt,pu],gu),JJ=L([ZJ,Mt],S4),eee=L([w4,Mt,pu],gu),tee=L([eee,Mt],A4),nee=L([T4,Mt,pu],gu),ree=L([nee,Mt],x4),iee=L([JJ,ree,tee],yp),aee=L([qt,Y4,W4,WJ,QJ,iee,Se,Mt],IT),hh=L([qt,Se,_u,zT,ih,Mt,aee],RT),see=L([hh,qt,UT],DT),oee=L([qt,hh,see,Mt],kT),X4=t=>{var e=Mt(t),n=pu(t),r=!1;return uh(t,e,n,r)},Q4=L([qt,X4],Qg),lee=L([qt,UT,oee,Q4],NT),uee=L([Se,zT,qt,Mt],D4),cee=L([Se,zT,qt,Mt],M4),fee=(t,e,n,r,i,a,s,o)=>{if(e){var{type:l}=e,u=Co(t,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?tn(i[0]-i[1])*2*h:h,u&&s?s.map((d,m)=>({coordinate:r(d)+h,value:d,index:m,offset:h})):r.domain().map((d,m)=>({coordinate:r(d)+h,value:a?a[d]:d,index:m,offset:h}))}}},ws=L([Se,qt,UT,lee,X4,uee,cee,Mt],fee),BT=L([k4,j4,bJ],(t,e,n)=>L4(n.shared,t,e)),Z4=t=>t.tooltip.settings.trigger,$T=t=>t.tooltip.settings.defaultIndex,dh=L([fh,BT,Z4,$T],H4),vo=L([dh,_u,lh,hh],VT),J4=L([ws,vo],U4),FT=L([dh],t=>{if(t)return t.dataKey}),hee=L([dh],t=>{if(t)return t.graphicalItemId}),eV=L([fh,BT,Z4,$T],G4),dee=L([ta,na,Se,Ft,ws,$T,eV,ch],q4),mee=L([dh,dee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),pee=L([dh],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),gee=L([eV,vo,ia,lh,J4,ch,BT],K4);L([gee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bee=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Eee=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Vo(Vo(Vo({},r),fn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Vo(Vo(Vo({},r),fn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wee(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var tV=(t,e,n,r,i)=>{var a,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,h,d,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,g=(c=n[o])===null||c===void 0?void 0:c.coordinate,y=o>=s-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(d=n[o+1])===null||d===void 0?void 0:d.coordinate,w=void 0;if(!(m==null||g==null||y==null))if(tn(g-m)!==tn(y-g)){var v=[];if(tn(y-g)===tn(i[1]-i[0])){w=y;var E=g+i[1]-i[0];v[0]=Math.min(E,(E+m)/2),v[1]=Math.max(E,(E+m)/2)}else{w=m;var S=y+i[1]-i[0];v[0]=Math.min(g,(S+g)/2),v[1]=Math.max(g,(S+g)/2)}var O=[Math.min(g,(w+g)/2),Math.max(g,(w+g)/2)];if(t>O[0]&&t<=O[1]||t>=v[0]&&t<=v[1]){var N;return(N=n[o])===null||N===void 0?void 0:N.index}}else{var k=Math.min(m,y),A=Math.max(m,y);if(t>(k+g)/2&&t<=(A+g)/2){var x;return(x=n[o])===null||x===void 0?void 0:x.index}}}else if(e)for(var C=0;C<s;C++){var P=e[C];if(P!=null){var R=e[C+1],M=e[C-1];if(C===0&&R!=null&&t<=(P.coordinate+R.coordinate)/2||C===s-1&&M!=null&&t>(P.coordinate+M.coordinate)/2||C>0&&C<s-1&&M!=null&&R!=null&&t>(P.coordinate+M.coordinate)/2&&t<=(P.coordinate+R.coordinate)/2)return P.index}}return-1},HT=(t,e)=>e,nV=(t,e,n)=>n,qT=(t,e,n,r)=>r,Tee=L(ws,t=>Nw(t,e=>e.coordinate)),GT=L([fh,HT,nV,qT],H4),KT=L([GT,_u,lh,hh],VT),rV=L([fh,HT,nV,qT],G4),_p=L([ta,na,Se,Ft,ws,qT,rV,ch],q4);L([GT,_p],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var See=L([ws,KT],U4);L([rV,KT,ia,lh,See,ch,HT],K4);L([GT,KT],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e}));var Aee=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&wee(t,s)){var o=BK(t,e),l=tV(o,a,i,n,r),u=bee(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},xee=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=bW(t,n);if(o){var l=$K(o,e),u=tV(l,s,a,r,i),c=Eee(e,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},Cee=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Aee(t,e,r,i,a,s,o):xee(t,e,n,r,i,a,s)},Oee=L(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Iee=L(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Sr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:bZ}});function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){Ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ree(t,e,n){return(e=Pee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=Nee(t,"string");return typeof e=="symbol"?e:e+""}function Nee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dee={},Mee={zIndexMap:Object.values(Sr).reduce((t,e)=>wI(wI({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Dee)},kee=new Set(Object.values(Sr));function jee(t){return kee.has(t)}var iV=kn({name:"zIndex",initialState:Mee,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qe()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!jee(n)&&delete t.zIndexMap[n])},prepare:Qe()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qe()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qe()}}}),{registerZIndexPortal:Lee,unregisterZIndexPortal:Vee,registerZIndexPortalElement:Uee,unregisterZIndexPortalElement:zee}=iV.actions,Bee=iV.reducer;function oa(t){var{zIndex:e,children:n}=t,r=pY(),i=r&&e!==void 0&&e!==0,a=wr(),s=mt();_.useLayoutEffect(()=>i?(s(Lee({zIndex:e})),()=>{s(Vee({zIndex:e}))}):Wf,[s,e,i]);var o=me(l=>Oee(l,e,a));return i?o?zR.createPortal(n,o):null:n}var $ee=_.createContext(null),aV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,m=h.length,g=new Array(m);d<m;d++)g[d]=h[d].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,c,h,d,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,E,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,h),!0;case 4:return w.fn.call(w.context,c,h,d),!0;case 5:return w.fn.call(w.context,c,h,d,m),!0;case 6:return w.fn.call(w.context,c,h,d,m,g),!0}for(S=1,E=new Array(v-1);S<v;S++)E[S-1]=arguments[S];w.fn.apply(w.context,E)}else{var O=w.length,N;for(S=0;S<O;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),v){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,h);break;case 4:w[S].fn.call(w[S].context,c,h,d);break;default:if(!E)for(N=1,E=new Array(v-1);N<v;N++)E[N-1]=arguments[N];w[S].fn.apply(w[S].context,E)}}return!0},o.prototype.on=function(u,c,h){return a(this,u,c,h,!1)},o.prototype.once=function(u,c,h){return a(this,u,c,h,!0)},o.prototype.removeListener=function(u,c,h,d){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&s(this,m);else{for(var y=0,w=[],v=g.length;y<v;y++)(g[y].fn!==c||d&&!g[y].once||h&&g[y].context!==h)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(aV);var Fee=aV.exports;const Hee=Qi(Fee);var bp=new Hee,TI="recharts.syncEvent.tooltip",SI="recharts.syncEvent.brush";function sV(t,e){if(e){var n=Number.parseInt(e,10);if(!ii(n))return t==null?void 0:t[n]}}var qee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oV=kn({name:"options",initialState:qee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gee=oV.reducer,{createEventEmitter:Kee}=oV.actions,Yee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lV=kn({name:"chartData",initialState:Yee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:AI,setDataStartEndIndexes:Wee,setComputedData:Ioe}=lV.actions,Xee=lV.reducer,Qee=["x","y"];function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t,e){if(t==null)return{};var n,r,i=nte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rte(){var t=me(a4),e=me(s4),n=mt(),r=me(mZ),i=me(ws),a=jg(),s=Vj(),o=me(l=>l.rootProps.className);_.useEffect(()=>{if(t==null)return Wf;var l=(u,c,h)=>{if(e!==h&&t===u){if(r==="index"){var d;if(s&&c!==null&&c!==void 0&&(d=c.payload)!==null&&d!==void 0&&d.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:g,y}=m,w=tte(m,Qee),{x:v,y:E,width:S,height:O}=c.payload.sourceViewBox,N=Uo(Uo({},w),{},{x:s.x+(S?(g-v)/S:0)*s.width,y:s.y+(O?(y-E)/O:0)*s.height});n(Uo(Uo({},c),{},{payload:Uo(Uo({},c.payload),{},{coordinate:N})}))}else n(c);return}if(i!=null){var k;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},x=r(i,A);k=i[x]}else r==="value"&&(k=i.find(U=>String(U.value)===c.payload.label));var{coordinate:C}=c.payload;if(k==null||c.payload.active===!1||C==null||s==null){n(gI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:R}=C,M=Math.min(P,s.x+s.width),D=Math.min(R,s.y+s.height),Z={x:a==="horizontal"?k.coordinate:M,y:a==="horizontal"?D:k.coordinate},q=gI({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(k.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(q)}}};return bp.on(TI,l),()=>{bp.off(TI,l)}},[o,n,e,t,r,i,a,s])}function ite(){var t=me(a4),e=me(s4),n=mt();_.useEffect(()=>{if(t==null)return Wf;var r=(i,a,s)=>{e!==s&&t===i&&n(Wee(a))};return bp.on(SI,r),()=>{bp.off(SI,r)}},[n,e,t])}function ate(){var t=mt();_.useEffect(()=>{t(Kee())},[t]),rte(),ite()}var Yl=t=>null;Yl.displayName="Cell";function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ute{constructor(e){ste(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mte={cacheSize:2e3,enableCache:!0},uV=cte({},mte),OI=new ute(uV.cacheSize),pte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},II="recharts_measurement_span";function gte(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var RI=(t,e)=>{try{var n=document.getElementById(II);n||(n=document.createElement("span"),n.setAttribute("id",II),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,pte,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Nc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Bg.isSsr)return{width:0,height:0};if(!uV.enableCache)return RI(e,n);var r=gte(e,n),i=OI.get(r);if(i)return i;var a=RI(e,n);return OI.set(r,a),a},cV;function vte(t,e,n){return(e=yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ete=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tte=["cm","mm","pt","pc","in","Q","px"];function Ste(t){return Tte.includes(t)}var ol="NaN";function Ate(t,e){return t*wte[e]}class Wt{static parse(e){var n,[,r,i]=(n=Ete.exec(e))!==null&&n!==void 0?n:[];return r==null?Wt.NaN:new Wt(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ii(e)&&(this.unit=""),n!==""&&!bte.test(n)&&(this.num=NaN,this.unit=""),Ste(n)&&(this.num=Ate(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Wt(NaN,""):new Wt(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Wt(NaN,""):new Wt(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Wt(NaN,""):new Wt(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Wt(NaN,""):new Wt(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ii(this.num)}}cV=Wt;vte(Wt,"NaN",new cV(NaN,""));function fV(t){if(t==null||t.includes(ol))return ol;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=PI.exec(e))!==null&&n!==void 0?n:[],s=Wt.parse(r??""),o=Wt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return ol;e=e.replace(PI,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,h,d]=(u=NI.exec(e))!==null&&u!==void 0?u:[],m=Wt.parse(c??""),g=Wt.parse(d??""),y=h==="+"?m.add(g):m.subtract(g);if(y.isNaN())return ol;e=e.replace(NI,y.toString())}return e}var DI=/\(([^()]*)\)/;function xte(t){for(var e=t,n;(n=DI.exec(e))!=null;){var[,r]=n;e=e.replace(DI,fV(r))}return e}function Cte(t){var e=t.replace(/\s+/g,"");return e=xte(e),e=fV(e),e}function Ote(t){try{return Cte(t)}catch{return ol}}function t0(t){var e=Ote(t.slice(5,-1));return e===ol?"":e}var Ite=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Rte=["dx","dy","angle","className","breakAll"];function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(null,arguments)}function MI(t,e){if(t==null)return{};var n,r,i=Pte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hV=/[ \f\n\r\t\v\u2028\u2029]+/,dV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];an(e)||(n?i=e.toString().split(""):i=e.toString().split(hV));var a=i.map(o=>({word:o,width:Nc(o,r).width})),s=n?0:Nc("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Nte(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var mV=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),pV=t=>t.reduce((e,n)=>e.width>n.width?e:n),Dte="",kI=(t,e,n,r,i,a,s,o)=>{var l=t.slice(0,e),u=dV({breakAll:n,style:r,children:l+Dte});if(!u)return[!1,[]];var c=mV(u.wordsWithComputedWidth,a,s,o),h=c.length>i||pV(c).width>Number(a);return[h,c]},Mte=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=t,u=ce(a),c=String(s),h=mV(e,r,n,i);if(!u||i)return h;var d=h.length>a||pV(h).width>Number(r);if(!d)return h;for(var m=0,g=c.length-1,y=0,w;m<=g&&y<=c.length-1;){var v=Math.floor((m+g)/2),E=v-1,[S,O]=kI(c,E,l,o,a,r,n,i),[N]=kI(c,v,l,o,a,r,n,i);if(!S&&!N&&(m=v+1),S&&N&&(g=v-1),!S&&N){w=O;break}y++}return w||h},jI=t=>{var e=an(t)?[]:t.toString().split(hV);return[{words:e,width:void 0}]},kte=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Bg.isSsr){var o,l,u=dV({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:h}=u;o=c,l=h}else return jI(r);return Mte({breakAll:a,children:r,maxLines:s,style:i},o,l,e,!!n)}return jI(r)},gV="#808080",jte={angle:0,breakAll:!1,capHeight:"0.71em",fill:gV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ov=_.forwardRef((t,e)=>{var n=tr(t,jte),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,h=MI(n,Ite),d=_.useMemo(()=>kte({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:m,dy:g,angle:y,className:w,breakAll:v}=h,E=MI(h,Rte);if(!Ul(r)||!Ul(i)||d.length===0)return null;var S=Number(r)+(ce(m)?m:0),O=Number(i)+(ce(g)?g:0);if(!tt(S)||!tt(O))return null;var N;switch(c){case"start":N=t0("calc(".concat(s,")"));break;case"middle":N=t0("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=t0("calc(".concat(d.length-1," * -").concat(a,")"));break}var k=[];if(l){var A=d[0].width,{width:x}=h;k.push("scale(".concat(ce(x)&&ce(A)?x/A:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(S,", ").concat(O,")")),k.length&&(E.transform=k.join(" ")),_.createElement("text",gb({},Lr(E),{ref:e,x:S,y:O,className:lt("recharts-text",w),textAnchor:u,fill:o.includes("url")?gV:o}),d.map((C,P)=>{var R=C.words.join(v?"":" ");return _.createElement("tspan",{x:S,dy:P===0?N:a,key:"".concat(R,"-").concat(P)},R)}))});ov.displayName="Text";var Lte=["labelRef"],Vte=["content"];function LI(t,e){if(t==null)return{};var n,r,i=Ute(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ute(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=$te(t,"string");return typeof e=="symbol"?e:e+""}function $te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ei.apply(null,arguments)}var vV=_.createContext(null),Fte=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,l=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return _.createElement(vV.Provider,{value:l},o)},yV=()=>{var t=_.useContext(vV),e=Vj();return t||Lj(e)},Hte=_.createContext(null),qte=()=>{var t=_.useContext(Hte),e=me(f4);return t||e},Gte=t=>{var{value:e,formatter:n}=t,r=an(t.children)?e:t.children;return typeof n=="function"?n(r):r},_V=t=>t!=null&&typeof t=="function",Kte=(t,e)=>{var n=tn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Yte=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d,clockWise:m}=i,g=(u+c)/2,y=Kte(h,d),w=y>=0?1:-1,v,E;switch(e){case"insideStart":v=h+w*a,E=m;break;case"insideEnd":v=d-w*a,E=!m;break;case"end":v=d+w*a,E=m;break;default:throw new Error("Unsupported position ".concat(e))}E=y<=0?E:!E;var S=fn(o,l,g,v),O=fn(o,l,g,v+(E?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),k=an(t.id)?sf("recharts-radial-line-"):t.id;return _.createElement("text",Ei({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",s)}),_.createElement("defs",null,_.createElement("path",{id:k,d:N})),_.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Wte=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:c,y:h}=fn(r,i,s+e,u);return{x:c,y:h,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+s)/2,{x:m,y:g}=fn(r,i,d,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},vb=t=>"cx"in t&&ce(t.cx),Xte=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!vb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=e,h=s,d=s+(l-u)/2,m=(h+d)/2,g=(l+u)/2,y=h+l/2,w=c>=0?1:-1,v=w*r,E=w>0?"end":"start",S=w>0?"start":"end",O=l>=0?1:-1,N=O*r,k=O>0?"end":"start",A=O>0?"start":"end";if(i==="top"){var x={x:h+l/2,y:o-v,textAnchor:"middle",verticalAnchor:E};return ut(ut({},x),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:d+u/2,y:o+c+v,textAnchor:"middle",verticalAnchor:S};return ut(ut({},C),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var P={x:m-N,y:o+c/2,textAnchor:k,verticalAnchor:"middle"};return ut(ut({},P),a?{width:Math.max(P.x-a.x,0),height:c}:{})}if(i==="right"){var R={x:m+g+N,y:o+c/2,textAnchor:A,verticalAnchor:"middle"};return ut(ut({},R),a?{width:Math.max(a.x+a.width-R.x,0),height:c}:{})}var M=a?{width:g,height:c}:{};return i==="insideLeft"?ut({x:m+N,y:o+c/2,textAnchor:A,verticalAnchor:"middle"},M):i==="insideRight"?ut({x:m+g-N,y:o+c/2,textAnchor:k,verticalAnchor:"middle"},M):i==="insideTop"?ut({x:h+l/2,y:o+v,textAnchor:"middle",verticalAnchor:S},M):i==="insideBottom"?ut({x:d+u/2,y:o+c-v,textAnchor:"middle",verticalAnchor:E},M):i==="insideTopLeft"?ut({x:h+N,y:o+v,textAnchor:A,verticalAnchor:S},M):i==="insideTopRight"?ut({x:h+l-N,y:o+v,textAnchor:k,verticalAnchor:S},M):i==="insideBottomLeft"?ut({x:d+N,y:o+c-v,textAnchor:A,verticalAnchor:E},M):i==="insideBottomRight"?ut({x:d+u-N,y:o+c-v,textAnchor:k,verticalAnchor:E},M):i&&typeof i=="object"&&(ce(i.x)||Hi(i.x))&&(ce(i.y)||Hi(i.y))?ut({x:s+hn(i.x,g),y:o+hn(i.y,c),textAnchor:"end",verticalAnchor:"end"},M):ut({x:y,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Qte={angle:0,offset:5,zIndex:Sr.label,position:"middle",textBreakAll:!1};function Ea(t){var e=tr(t,Qte),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=e,c=qte(),h=yV(),d=r==="center"?h:c??h,m,g,y;if(n==null?m=d:vb(n)?m=n:m=Lj(n),!m||an(i)&&an(a)&&!_.isValidElement(s)&&typeof s!="function")return null;var w=ut(ut({},e),{},{viewBox:m});if(_.isValidElement(s)){var{labelRef:v}=w,E=LI(w,Lte);return _.cloneElement(s,E)}if(typeof s=="function"){var{content:S}=w,O=LI(w,Vte);if(g=_.createElement(s,O),_.isValidElement(g))return g}else g=Gte(e);var N=Lr(e);if(vb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Yte(e,r,g,N,m);y=Wte(m,e.offset,e.position)}else y=Xte(e,m);return _.createElement(oa,{zIndex:e.zIndex},_.createElement(ov,Ei({ref:u,className:lt("recharts-label",o)},N,y,{textAnchor:Nte(N.textAnchor)?N.textAnchor:y.textAnchor,breakAll:l}),g))}Ea.displayName="Label";var Zte=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Ea,Ei({key:"label-implicit"},r)):Ul(t)?_.createElement(Ea,Ei({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Ea?_.cloneElement(t,ut({key:"label-implicit"},r)):_.createElement(Ea,Ei({key:"label-implicit",content:t},r)):_V(t)?_.createElement(Ea,Ei({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Ea,Ei({},t,{key:"label-implicit"},r)):null};function Jte(t){var{label:e,labelRef:n}=t,r=yV();return Zte(e,r,n)||null}var bV={},EV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(EV);var wV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(wV);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EV,n=wV,r=Ow;function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(bV);var ene=bV.last;const tne=Qi(ene);var nne=["valueAccessor"],rne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(null,arguments)}function UI(t,e){if(t==null)return{};var n,r,i=ine(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ine(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ane=t=>Array.isArray(t.value)?tne(t.value):t.value,TV=_.createContext(void 0),sne=TV.Provider,SV=_.createContext(void 0),one=SV.Provider;function lne(){return _.useContext(TV)}function une(){return _.useContext(SV)}function Bd(t){var{valueAccessor:e=ane}=t,n=UI(t,nne),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=UI(n,rne),u=lne(),c=une(),h=u||c;return!h||!h.length?null:_.createElement(oa,{zIndex:o??Sr.label},_.createElement(wn,{className:"recharts-label-list"},h.map((d,m)=>{var g,y=an(r)?e(d,m):Ye(d&&d.payload,r),w=an(a)?{}:{id:"".concat(a,"-").concat(m)};return _.createElement(Ea,Ep({key:"label-".concat(m)},Lr(d),l,w,{fill:(g=n.fill)!==null&&g!==void 0?g:d.fill,parentViewBox:d.parentViewBox,value:y,textBreakAll:s,viewBox:d.viewBox,index:m,zIndex:0}))})))}Bd.displayName="LabelList";function AV(t){var{label:e}=t;return e?e===!0?_.createElement(Bd,{key:"labelList-implicit"}):_.isValidElement(e)||_V(e)?_.createElement(Bd,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Bd,Ep({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var xV=t=>t.graphicalItems.polarItems,cne=L([Je,ah],yT),lv=L([xV,nt,cne],bT),fne=L([lv],ET),uv=L([fne,Xg],wT),hne=L([uv,nt,lv],ST);L([uv,nt,lv],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Ye(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ye(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var zI=()=>{},dne=L([uv,nt,lv,rv,Je],OT),mne=L([nt,xT,CT,zI,dne,zI,Se,Je],IT),CV=L([nt,Se,uv,hne,ih,Je,mne],RT),pne=L([CV,nt,vu],DT);L([nt,CV,pne,Je],kT);var gne={radiusAxis:{},angleAxis:{}},OV=kn({name:"polarAxis",initialState:gne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Roe,removeRadiusAxis:Poe,addAngleAxis:Noe,removeAngleAxis:Doe}=OV.actions,vne=OV.reducer;function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=bne(t,"string");return typeof e=="symbol"?e:e+""}function bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ene=(t,e)=>e,YT=L([xV,Ene],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),wne=[],WT=(t,e,n)=>(n==null?void 0:n.length)===0?wne:n,IV=L([Xg,YT,WT],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>$I($I({},e.presentationProps),a.props))),i!=null)return i}}),Tne=L([IV,YT,WT],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Ye(r,e.nameKey,e.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:Pg(s,e.dataKey),color:o,payload:r,type:e.legendType}})}),Sne=L([IV,YT,WT,Ft],(t,e,n,r)=>{if(!(e==null||t==null))return xre({offset:r,pieSettings:e,displayedData:t,cells:n})}),RV={exports:{}},Ve={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT=Symbol.for("react.transitional.element"),QT=Symbol.for("react.portal"),cv=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),dv=Symbol.for("react.consumer"),mv=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),yv=Symbol.for("react.memo"),_v=Symbol.for("react.lazy"),Ane=Symbol.for("react.view_transition"),xne=Symbol.for("react.client.reference");function Ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case XT:switch(t=t.type,t){case cv:case hv:case fv:case gv:case vv:case Ane:return t;default:switch(t=t&&t.$$typeof,t){case mv:case pv:case _v:case yv:return t;case dv:return t;default:return e}}case QT:return e}}}Ve.ContextConsumer=dv;Ve.ContextProvider=mv;Ve.Element=XT;Ve.ForwardRef=pv;Ve.Fragment=cv;Ve.Lazy=_v;Ve.Memo=yv;Ve.Portal=QT;Ve.Profiler=hv;Ve.StrictMode=fv;Ve.Suspense=gv;Ve.SuspenseList=vv;Ve.isContextConsumer=function(t){return Ar(t)===dv};Ve.isContextProvider=function(t){return Ar(t)===mv};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===XT};Ve.isForwardRef=function(t){return Ar(t)===pv};Ve.isFragment=function(t){return Ar(t)===cv};Ve.isLazy=function(t){return Ar(t)===_v};Ve.isMemo=function(t){return Ar(t)===yv};Ve.isPortal=function(t){return Ar(t)===QT};Ve.isProfiler=function(t){return Ar(t)===hv};Ve.isStrictMode=function(t){return Ar(t)===fv};Ve.isSuspense=function(t){return Ar(t)===gv};Ve.isSuspenseList=function(t){return Ar(t)===vv};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cv||t===hv||t===fv||t===gv||t===vv||typeof t=="object"&&t!==null&&(t.$$typeof===_v||t.$$typeof===yv||t.$$typeof===mv||t.$$typeof===dv||t.$$typeof===pv||t.$$typeof===xne||t.getModuleId!==void 0)};Ve.typeOf=Ar;RV.exports=Ve;var Cne=RV.exports,FI=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",HI=null,n0=null,PV=t=>{if(t===HI&&Array.isArray(n0))return n0;var e=[];return _.Children.forEach(t,n=>{an(n)||(Cne.isFragment(n)?e=e.concat(PV(n.props.children)):e.push(n))}),n0=e,HI=t,e};function ZT(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>FI(i)):r=[FI(e)],PV(t).forEach(i=>{var a=fo(i,"type.displayName")||fo(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var NV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(NV);var One=NV.isPlainObject;const Ine=Qi(One);var qI,GI,KI,YI,WI;function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(null,arguments)}function Qu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ZI=(t,e,n,r,i)=>{var a=n-r,s;return s=at(qI||(qI=Qu(["M ",",",""])),t,e),s+=at(GI||(GI=Qu(["L ",",",""])),t+n,e),s+=at(KI||(KI=Qu(["L ",",",""])),t+n-a/2,e+i),s+=at(YI||(YI=Qu(["L ",",",""])),t+n-a/2-r,e+i),s+=at(WI||(WI=Qu(["L ",","," Z"])),t,e),s},Dne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mne=t=>{var e=tr(t,Dne),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:h}=e,d=_.useRef(null),[m,g]=_.useState(-1),y=_.useRef(i),w=_.useRef(a),v=_.useRef(s),E=_.useRef(n),S=_.useRef(r),O=Fg(t,"trapezoid-");if(_.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var Z=d.current.getTotalLength();Z&&g(Z)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var N=lt("recharts-trapezoid",o);if(!h)return _.createElement("g",null,_.createElement("path",wp({},Lr(e),{className:N,d:ZI(n,r,i,a,s)})));var k=y.current,A=w.current,x=v.current,C=E.current,P=S.current,R="0px ".concat(m===-1?1:m,"px"),M="".concat(m,"px 0px"),D=Xj(["strokeDasharray"],u,l);return _.createElement($g,{animationId:O,key:O,canBegin:m>0,duration:u,easing:l,isActive:h,begin:c},Z=>{var q=Ct(k,i,Z),U=Ct(A,a,Z),Y=Ct(x,s,Z),K=Ct(C,n,Z),J=Ct(P,r,Z);d.current&&(y.current=q,w.current=U,v.current=Y,E.current=K,S.current=J);var _e=Z>0?{transition:D,strokeDasharray:M}:{strokeDasharray:R};return _.createElement("path",wp({},Lr(e),{className:N,d:ZI(K,J,q,U,Y),ref:d,style:QI(QI({},_e),e.style)}))})},kne=["option","shapeType","activeClassName"];function jne(t,e){if(t==null)return{};var n,r,i=Lne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e){return Tp(Tp({},e),t)}function $ne(t,e){return t==="symbols"}function eR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(fW,n);case"trapezoid":return _.createElement(Mne,n);case"sector":return _.createElement(SW,n);case"symbols":if($ne(e))return _.createElement(Mk,n);break;case"curve":return _.createElement(Wj,n);default:return null}}function Fne(t){return _.isValidElement(t)?t.props:t}function DV(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=jne(t,kne),a;if(_.isValidElement(e))a=_.cloneElement(e,Tp(Tp({},i),Fne(e)));else if(typeof e=="function")a=e(i,i.index);else if(Ine(e)&&typeof e!="boolean"){var s=Bne(e,i);a=_.createElement(eR,{shapeType:n,elementProps:s})}else{var o=i;a=_.createElement(eR,{shapeType:n,elementProps:o})}return i.isActive?_.createElement(wn,{className:r},a):a}var JT=(t,e,n)=>{var r=mt();return(i,a)=>s=>{t==null||t(i,a,s),r(B4({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},e1=t=>{var e=mt();return(n,r)=>i=>{t==null||t(n,r,i),e(AJ())}},t1=(t,e,n)=>{var r=mt();return(i,a)=>s=>{t==null||t(i,a,s),r(xJ({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function MV(t){var{tooltipEntrySettings:e}=t,n=mt(),r=wr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(wJ(e)):i.current!==e&&n(TJ({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(SJ(i.current)),i.current=null)},[n]),null}function Hne(t){var{legendPayload:e}=t,n=mt(),r=wr(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(Gj(e)):i.current!==e&&n(Kj({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(Yj(i.current)),i.current=null)},[n]),null}function qne(t){var{legendPayload:e}=t,n=mt(),r=me(Se),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(Gj(e)):i.current!==e&&n(Kj({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(Yj(i.current)),i.current=null)},[n]),null}var r0,Gne=()=>{var[t]=_.useState(()=>sf("uid-"));return t},Kne=(r0=u6.useId)!==null&&r0!==void 0?r0:Gne;function Yne(t,e){var n=Kne();return e||(t?"".concat(t,"-").concat(n):n)}var Wne=_.createContext(void 0),kV=t=>{var{id:e,type:n,children:r}=t,i=Yne("recharts-".concat(n),e);return _.createElement(Wne.Provider,{value:i},r(i))},Xne={cartesianItems:[],polarItems:[]},jV=kn({name:"graphicalItems",initialState:Xne,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qe()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=kr(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qe()},removeCartesianGraphicalItem:{reducer(t,e){var n=kr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qe()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qe()},removePolarGraphicalItem:{reducer(t,e){var n=kr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qe()}}}),{addCartesianGraphicalItem:Qne,replaceCartesianGraphicalItem:Zne,removeCartesianGraphicalItem:Jne,addPolarGraphicalItem:ere,removePolarGraphicalItem:tre}=jV.actions,nre=jV.reducer,rre=t=>{var e=mt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Qne(t)):n.current!==t&&e(Zne({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(Jne(n.current)),n.current=null)},[e]),null},ire=_.memo(rre);function are(t){var e=mt();return _.useLayoutEffect(()=>(e(ere(t)),()=>{e(tre(t))}),[e,t]),null}var sre=["key"],ore=["onMouseEnter","onClick","onMouseLeave"],lre=["id"],ure=["id"];function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fs.apply(null,arguments)}function bv(t,e){if(t==null)return{};var n,r,i=dre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mre(t){var e=_.useMemo(()=>ZT(t.children,Yl),[t.children]),n=me(r=>Tne(r,t.id,e));return n==null?null:_.createElement(qne,{legendPayload:n})}var pre=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:c}=t,h={dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:Pg(o,e),hide:l,type:u,color:s,unit:"",graphicalItemId:c}};return _.createElement(MV,{tooltipEntrySettings:h})}),gre=(t,e)=>t>e?"start":t<e?"end":"middle",vre=(t,e,n)=>hn(typeof e=="function"?e(t):e,n,n*.8),yre=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,o=eL(a,s),l=i+hn(t.cx,a,a/2),u=r+hn(t.cy,s,s/2),c=hn(t.innerRadius,o,0),h=vre(n,t.outerRadius,o),d=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:h,maxRadius:d}},_re=(t,e)=>{var n=tn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function bre(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Ere=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=lt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=bv(e,sre);return _.createElement(Wj,fs({},i,{type:"linear",className:n}))},wre=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=lt("recharts-pie-label-text",bre(t));return _.createElement(ov,fs({},e,{alignmentBaseline:"middle",className:i}),r)};function Tre(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var o=ri(n),l=Lm(i),u=Lm(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((d,m)=>{var g=(d.startAngle+d.endAngle)/2,y=fn(d.cx,d.cy,d.outerRadius+c,g),w=st(st(st(st({},o),d),{},{stroke:"none"},l),{},{index:m,textAnchor:gre(y.x,d.cx)},y),v=st(st(st(st({},o),d),{},{fill:"none",stroke:d.fill},u),{},{index:m,points:[fn(d.cx,d.cy,d.outerRadius,g),y],key:"line"});return _.createElement(oa,{zIndex:Sr.label,key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(m)},_.createElement(wn,null,a&&Ere(a,v),wre(i,w,Ye(d,s))))});return _.createElement(wn,{className:"recharts-pie-labels"},h)}function Sre(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(AV,{label:i}):_.createElement(Tre,{sectors:e,props:n,showLabels:r})}function Are(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=t,o=me(vo),l=me(FT),u=me(hee),{onMouseEnter:c,onClick:h,onMouseLeave:d}=i,m=bv(i,ore),g=JT(c,i.dataKey,s),y=e1(d),w=t1(h,i.dataKey,s);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((v,E)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&e.length!==1)return null;var S=u==null||u===s,O=String(E)===o&&(l==null||i.dataKey===l)&&S,N=o?r:null,k=n&&O?n:N,A=st(st({},v),{},{stroke:v.stroke,tabIndex:-1,[Oj]:E,[Ij]:s});return _.createElement(wn,fs({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},bg(m,v,E),{onMouseEnter:g(v,E),onMouseLeave:y(v,E),onClick:w(v,E)}),_.createElement(DV,fs({option:a??k,index:E,shapeType:"sector",isActive:O},A)))}))}function xre(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:h}=n,d=Math.abs(n.minAngle),m=_re(o,l),g=Math.abs(m),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,w=r.filter(k=>Ye(k,u,0)!==0).length,v=(g>=360?w:w-1)*y,E=g-w*d-v,S=r.reduce((k,A)=>{var x=Ye(A,u,0);return k+(ce(x)?x:0)},0),O;if(S>0){var N;O=r.map((k,A)=>{var x=Ye(k,u,0),C=Ye(k,c,A),P=yre(n,a,k),R=(ce(x)?x:0)/S,M,D=st(st({},k),i&&i[A]&&i[A].props);A?M=N.endAngle+tn(m)*y*(x!==0?1:0):M=o;var Z=M+tn(m)*((x!==0?d:0)+R*E),q=(M+Z)/2,U=(P.innerRadius+P.outerRadius)/2,Y=[{name:C,value:x,payload:D,dataKey:u,type:h,graphicalItemId:n.id}],K=fn(P.cx,P.cy,U,q);return N=st(st(st(st({},n.presentationProps),{},{percent:R,cornerRadius:typeof s=="string"?parseFloat(s):s,name:C,tooltipPayload:Y,midAngle:q,middleRadius:U,tooltipPosition:K},D),P),{},{value:x,dataKey:u,startAngle:M,endAngle:Z,payload:D,paddingAngle:tn(m)*y}),N})}return O}function Cre(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return _.createElement(one,{value:e?i:void 0},r)}function Ore(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:h,onAnimationEnd:d}=e,m=Fg(e,"recharts-pie-"),g=n.current,[y,w]=_.useState(!1),v=_.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),E=_.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return _.createElement(Cre,{showLabels:!y,sectors:i},_.createElement($g,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:E,onAnimationEnd:v,key:m},S=>{var O=[],N=i&&i[0],k=N==null?void 0:N.startAngle;return i==null||i.forEach((A,x)=>{var C=g&&g[x],P=x>0?fo(A,"paddingAngle",0):0;if(C){var R=Ct(C.endAngle-C.startAngle,A.endAngle-A.startAngle,S),M=st(st({},A),{},{startAngle:k+P,endAngle:k+R+P});O.push(M),k=M.endAngle}else{var{endAngle:D,startAngle:Z}=A,q=Ct(0,D-Z,S),U=st(st({},A),{},{startAngle:k+P,endAngle:k+q+P});O.push(U),k=U.endAngle}}),n.current=O,_.createElement(wn,null,_.createElement(Are,{sectors:O,activeShape:u,inactiveShape:c,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(Sre,{showLabels:!y,sectors:i,props:e}),e.children)}var Ire={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Sr.area};function Rre(t){var{id:e}=t,n=bv(t,lre),{hide:r,className:i,rootTabIndex:a}=t,s=_.useMemo(()=>ZT(t.children,Yl),[t.children]),o=me(c=>Sne(c,e,s)),l=_.useRef(null),u=lt("recharts-pie",i);return r||o==null?(l.current=null,_.createElement(wn,{tabIndex:a,className:u})):_.createElement(oa,{zIndex:t.zIndex},_.createElement(pre,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(wn,{tabIndex:a,className:u},_.createElement(Ore,{props:st(st({},n),{},{sectors:o}),previousSectorsRef:l,id:e})))}function yb(t){var e=tr(t,Ire),{id:n}=e,r=bv(e,ure),i=ri(r);return _.createElement(kV,{id:n,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(are,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(mre,fs({},r,{id:a})),_.createElement(Rre,fs({},r,{id:a}))))}yb.displayName="Pie";function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nre(t){var e=Dre(t,"string");return typeof e=="symbol"?e:e+""}function Dre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LV=0,Mre={xAxis:{},yAxis:{},zAxis:{}},VV=kn({name:"cartesianAxis",initialState:Mre,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qe()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qe()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qe()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qe()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qe()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qe()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qe()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qe()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qe()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=rR(rR({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:kre,replaceXAxis:jre,removeXAxis:Lre,addYAxis:Moe,replaceYAxis:koe,removeYAxis:joe,addZAxis:Loe,replaceZAxis:Voe,removeZAxis:Uoe,updateYAxisWidth:zoe}=VV.actions,Vre=VV.reducer,Ure=L([Ft],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),zre=L([Ure,ta,na],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),UV=()=>me(zre),iR=(t,e,n)=>{var r=n??t;if(!an(r))return hn(r,e,0)},Bre=(t,e,n)=>{var r={},i=t.filter(Jg),a=t.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),o=Object.entries(s).map(u=>{var[c,h]=u,d=h.map(g=>g.dataKey),m=iR(e,n,h[0].barSize);return{stackId:c,dataKeys:d,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(d=>d!=null),h=iR(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:h}});return[...o,...l]};function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t,e,n,r,i){var a=r.length;if(!(a<1)){var s=hn(t,n,0,!0),o,l=[];if(tt(r[0].barSize)){var u=!1,c=n/a,h=r.reduce((v,E)=>v+(E.barSize||0),0);h+=(a-1)*s,h>=n&&(h-=(a-1)*s,s=0),h>=n&&c>0&&(u=!0,c*=.9,h=a*c);var d=(n-h)/2>>0,m={offset:d-s,size:0};o=r.reduce((v,E)=>{var S,O={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+s,size:u?c:(S=E.barSize)!==null&&S!==void 0?S:0}},N=[...v,O];return m=N[N.length-1].position,N},l)}else{var g=hn(e,n,0,!0);n-2*g-(a-1)*s<=0&&(s=0);var y=(n-2*g-(a-1)*s)/a;y>1&&(y>>=0);var w=tt(i)?Math.min(y,i):y;o=r.reduce((v,E,S)=>[...v,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(y+s)*S+(y-w)/2,size:w}}],l)}return o}}var Gre=(t,e,n,r,i,a,s)=>{var o=an(s)?e:s,l=qre(n,r,i!==a?i:a,t,o);return i!==a&&l!=null&&(l=l.map(u=>ud(ud({},u),{},{position:ud(ud({},u.position),{},{offset:u.position.offset-i/2})}))),l},Kre=(t,e)=>{var n=gT(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}};function Yre(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&tt(t.zIndex)?t.zIndex:e}var zV=t=>{var{chartData:e}=t,n=mt(),r=wr();return _.useEffect(()=>r?()=>{}:(n(AI(e)),()=>{n(AI(void 0))}),[e,n,r]),null},sR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},BV=kn({name:"brush",initialState:sR,reducers:{setBrushSettings(t,e){return e.payload==null?sR:e.payload}}}),{setBrushSettings:Boe}=BV.actions,Wre=BV.reducer;function Xre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class n1{static create(e){return new n1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Xre(n1,"EPS",1e-4);function Jre(t){return(t%180+180)%180}var eie=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jre(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},tie={dots:[],areas:[],lines:[]},$V=kn({name:"referenceElements",initialState:tie,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=kr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=kr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=kr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:$oe,removeDot:Foe,addArea:Hoe,removeArea:qoe,addLine:Goe,removeLine:Koe}=$V.actions,nie=$V.reducer,rie=_.createContext(void 0),iie=t=>{var{children:e}=t,[n]=_.useState("".concat(sf("recharts"),"-clip")),r=UV();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return _.createElement(rie.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function FV(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function aie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return eie(r,n)}function sie(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function _f(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function oie(t,e){return FV(t,e+1)}function lie(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,l=0,u=1,c=s,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:FV(r,u)};var y=l,w,v=()=>(w===void 0&&(w=n(g,y)),w),E=g.coordinate,S=l===0||_f(t,E,v,c,o);S||(l=0,c=s,u+=1),S&&(c=E+t*(v()/2+i),l+=u)},d;u<=a.length;)if(d=h(),d)return d.v;return[]}function uie(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=e,u=1;u<=s;u++){for(var c=(s-1)%u,h=o,d=!0,m=function(){var E=r[g],S=g,O,N=()=>(O===void 0&&(O=n(E,S)),O),k=E.coordinate,A=g===c||_f(t,k,N,h,l);if(!A)return d=!1,1;A&&(h=k+t*(N()/2+i))},g=c;g<s&&!m();g+=u);if(d){for(var y=[],w=c;w<s;w+=u)y.push(r[w]);return y}}return[]}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function die(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:l}=e,u=function(d){var m=a[d],g,y=()=>(g===void 0&&(g=n(m,d)),g);if(d===s-1){var w=t*(m.coordinate+t*y()/2-l);a[d]=m=ln(ln({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else a[d]=m=ln(ln({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=_f(t,m.tickCoord,y,o,l);v&&(l=m.tickCoord-t*(y()/2+i),a[d]=ln(ln({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function mie(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=e;if(a){var c=r[o-1],h=n(c,o-1),d=t*(c.coordinate+t*h/2-u);if(s[o-1]=c=ln(ln({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate}),c.tickCoord!=null){var m=_f(t,c.tickCoord,()=>h,l,u);m&&(u=c.tickCoord-t*(h/2+i),s[o-1]=ln(ln({},c),{},{isShow:!0}))}}for(var g=a?o-1:o,y=function(E){var S=s[E],O,N=()=>(O===void 0&&(O=n(S,E)),O);if(E===0){var k=t*(S.coordinate-t*N()/2-l);s[E]=S=ln(ln({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else s[E]=S=ln(ln({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var A=_f(t,S.tickCoord,N,l,u);A&&(l=S.tickCoord+t*(N()/2+i),s[E]=ln(ln({},S),{},{isShow:!0}))}},w=0;w<g;w++)y(w);return s}function pie(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:h}=t;if(!i||!i.length||!r)return[];if(ce(l)||Bg.isSsr){var d;return(d=oie(i,ce(l)?l:0))!==null&&d!==void 0?d:[]}var m=[],g=o==="top"||o==="bottom"?"width":"height",y=c&&g==="width"?Nc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(S,O)=>{var N=typeof u=="function"?u(S.value,O):S.value;return g==="width"?aie(Nc(N,{fontSize:e,letterSpacing:n}),y,h):Nc(N,{fontSize:e,letterSpacing:n})[g]},v=i.length>=2?tn(i[1].coordinate-i[0].coordinate):1,E=sie(a,v,g);return l==="equidistantPreserveStart"?lie(v,E,w,i,s):l==="equidistantPreserveEnd"?uie(v,E,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=mie(v,E,w,i,s,l==="preserveStartEnd"):m=die(v,E,w,i,s),m.filter(S=>S.isShow))}var gie=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(c=>{if(c){var h=c.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},vie=["axisLine","width","height","className","hide","ticks","axisType"];function yie(t,e){if(t==null)return{};var n,r,i=_ie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yo(){return yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yo.apply(null,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return(e=Eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eie(t){var e=wie(t,"string");return typeof e=="symbol"?e:e+""}function wie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $d={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Sr.axis};function Tie(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=yt(yt(yt({},l),ri(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=yt(yt({},u),{},{x1:e,y1:n+c*i,x2:e+r,y2:n+c*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=yt(yt({},u),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return _.createElement("line",yo({},u,{className:lt("recharts-cartesian-axis-line",fo(o,"className"))}))}function Sie(t,e,n,r,i,a,s,o,l){var u,c,h,d,m,g,y=o?-1:1,w=t.tickSize||s,v=ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=c=t.coordinate,d=n+ +!o*i,h=d-y*w,g=h-y*l,m=v;break;case"left":h=d=t.coordinate,c=e+ +!o*r,u=c-y*w,m=u-y*l,g=v;break;case"right":h=d=t.coordinate,c=e+ +o*r,u=c+y*w,m=u+y*l,g=v;break;default:u=c=t.coordinate,d=n+ +o*i,h=d+y*w,g=h+y*l,m=v;break}return{line:{x1:u,y1:h,x2:c,y2:d},tick:{x:m,y:g}}}function Aie(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function xie(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Cie(t){var{option:e,tickProps:n,value:r}=t,i,a=lt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,yt(yt({},n),{},{className:a}));else if(typeof e=="function")i=e(yt(yt({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=lt(s,e==null?void 0:e.className)),i=_.createElement(ov,yo({},n,{className:s}),r)}return i}var Oie=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:h,x:d,y:m,width:g,height:y,tickSize:w,tickMargin:v,fontSize:E,letterSpacing:S,getTicksConfig:O,events:N,axisType:k}=t,A=pie(yt(yt({},O),{},{ticks:n}),E,S),x=Aie(c,h),C=xie(c,h),P=ri(O),R=Lm(r),M={};typeof i=="object"&&(M=i);var D=yt(yt({},P),{},{fill:"none"},M),Z=A.map(Y=>yt({entry:Y},Sie(Y,d,m,g,y,c,w,h,v))),q=Z.map(Y=>{var{entry:K,line:J}=Y;return _.createElement(wn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},i&&_.createElement("line",yo({},D,J,{className:lt("recharts-cartesian-axis-tick-line",fo(i,"className"))})))}),U=Z.map((Y,K)=>{var{entry:J,tick:_e}=Y,pt=yt(yt(yt(yt({textAnchor:x,verticalAnchor:C},P),{},{stroke:"none",fill:a},R),_e),{},{index:K,payload:J,visibleTicksCount:A.length,tickFormatter:s,padding:l},u);return _.createElement(wn,yo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},bg(N,J,K)),r&&_.createElement(Cie,{option:r,tickProps:pt,value:"".concat(typeof s=="function"?s(J.value,K):J.value).concat(o||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},U.length>0&&_.createElement(oa,{zIndex:Sr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:e},U)),q.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},q))}),Iie=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=t,u=yie(t,vie),[c,h]=_.useState(""),[d,m]=_.useState(""),g=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return gie({ticks:g.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=_.useCallback(w=>{if(w){var v=w.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var E=v[0];if(E){var S=window.getComputedStyle(E),O=S.fontSize,N=S.letterSpacing;(O!==c||N!==d)&&(h(O),m(N))}}},[c,d]);return s||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(oa,{zIndex:t.zIndex},_.createElement(wn,{className:lt("recharts-cartesian-axis",a)},_.createElement(Tie,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ri(t)}),_.createElement(Oie,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:t,height:t.height,letterSpacing:d,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(Fte,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(Jte,{label:t.label,labelRef:t.labelRef}),t.children)))}),HV=_.forwardRef((t,e)=>{var n=tr(t,$d);return _.createElement(Iie,yo({},n,{ref:e}))});HV.displayName="CartesianAxis";var Rie={},qV=kn({name:"errorBars",initialState:Rie,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Yoe,replaceErrorBar:Woe,removeErrorBar:Xoe}=qV.actions,Pie=qV.reducer,Nie=["children"];function Die(t,e){if(t==null)return{};var n,r,i=Mie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jie=_.createContext(kie);function Lie(t){var{children:e}=t,n=Die(t,Nie);return _.createElement(jie.Provider,{value:n},e)}function GV(t,e){var n,r,i=me(u=>aa(u,t)),a=me(u=>sa(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Lt.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:m4.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Vie(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=UV(),{needClipX:a,needClipY:s,needClip:o}=GV(e,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:h}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:a?l:l-c/2,y:s?u:u-h/2,width:a?c:c*2,height:s?h:h*2}))}var Uie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=_;function zie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bie=typeof Object.is=="function"?Object.is:zie,$ie=mh.useSyncExternalStore,Fie=mh.useRef,Hie=mh.useEffect,qie=mh.useMemo,Gie=mh.useDebugValue;Uie.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=Fie(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=qie(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return h=g}return h=m}if(g=h,Bie(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(c=m,g):(c=m,h=y)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var o=$ie(t,a[0],a[1]);return Hie(function(){s.hasValue=!0,s.value=o},[o]),Gie(o),o};function Kie(t){t()}function Yie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Kie(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uR={notify(){},get:()=>[]};function Wie(t,e){let n,r=uR,i=0,a=!1;function s(y){c();const w=r.subscribe(y);let v=!1;return()=>{v||(v=!0,w(),h())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,n||(n=t.subscribe(l),r=Yie())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uR)}function d(){a||(a=!0,c())}function m(){a&&(a=!1,h())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:m,getListeners:()=>r};return g}var Xie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qie=Xie(),Zie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Jie=Zie(),eae=()=>Qie||Jie?_.useLayoutEffect:_.useEffect,tae=eae();function cR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function nae(t,e){if(cR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!cR(t[n[i]],e[n[i]]))return!1;return!0}var i0=Symbol.for("react-redux-context"),a0=typeof globalThis<"u"?globalThis:{};function rae(){if(!_.createContext)return{};const t=a0[i0]??(a0[i0]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var iae=rae();function aae(t){const{children:e,context:n,serverState:r,store:i}=t,a=_.useMemo(()=>{const l=Wie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=_.useMemo(()=>i.getState(),[i]);tae(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||iae;return _.createElement(o.Provider,{value:a},e)}var sae=aae,oae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function lae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function r1(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(oae.has(r)){if(t[r]==null&&e[r]==null)continue;if(!nae(t[r],e[r]))return!1}else if(!lae(t[r],e[r]))return!1;return!0}function Ro(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:LV}function Po(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:LV}var uae="Invariant failed";function cae(t,e){throw new Error(uae)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(null,arguments)}function Sp(t){return _.createElement(DV,_b({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var fae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ce(e))return e;var a=ce(r)||an(r);return a?e(r,i):(a||cae(),n)}},hae=(t,e,n)=>n,dae=(t,e)=>e,ph=L([_T,dae],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),mae=L([ph],t=>t==null?void 0:t.maxBarSize),pae=(t,e,n,r)=>r,gae=L([Se,_T,Ro,Po,hae],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),vae=(t,e,n)=>{var r=Se(t),i=Ro(t,e),a=Po(t,e);if(!(i==null||a==null))return r==="horizontal"?mb(t,"yAxis",a,n):mb(t,"xAxis",i,n)},yae=(t,e)=>{var n=Se(t),r=Ro(t,e),i=Po(t,e);if(!(r==null||i==null))return n==="horizontal"?pI(t,"xAxis",r):pI(t,"yAxis",i)},_ae=L([gae,dZ,yae],Bre),bae=(t,e,n)=>{var r,i,a=ph(t,e);if(a!=null){var s=Ro(t,e),o=Po(t,e);if(!(s==null||o==null)){var l=Se(t),u=t4(t),{maxBarSize:c}=a,h=an(c)?u:c,d,m;return l==="horizontal"?(d=Kl(t,"xAxis",s,n),m=Gl(t,"xAxis",s,n)):(d=Kl(t,"yAxis",o,n),m=Gl(t,"yAxis",o,n)),(r=(i=xj(d,m,!0))!==null&&i!==void 0?i:h)!==null&&r!==void 0?r:0}}},KV=(t,e,n)=>{var r=Se(t),i=Ro(t,e),a=Po(t,e);if(!(i==null||a==null)){var s,o;return r==="horizontal"?(s=Kl(t,"xAxis",i,n),o=Gl(t,"xAxis",i,n)):(s=Kl(t,"yAxis",a,n),o=Gl(t,"yAxis",a,n)),xj(s,o)}},Eae=L([_ae,t4,hZ,n4,bae,KV,mae],Gre),wae=(t,e,n)=>{var r=Ro(t,e);if(r!=null)return Kl(t,"xAxis",r,n)},Tae=(t,e,n)=>{var r=Po(t,e);if(r!=null)return Kl(t,"yAxis",r,n)},Sae=(t,e,n)=>{var r=Ro(t,e);if(r!=null)return Gl(t,"xAxis",r,n)},Aae=(t,e,n)=>{var r=Po(t,e);if(r!=null)return Gl(t,"yAxis",r,n)},xae=L([Eae,ph],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Cae=L([vae,ph],Kre),Oae=L([Ft,Rj,wae,Tae,Sae,Aae,xae,Se,eZ,KV,Cae,ph,pae],(t,e,n,r,i,a,s,o,l,u,c,h,d)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=l;if(!(h==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:w}=h,v;if(w!=null&&w.length>0?v=w:v=m==null?void 0:m.slice(g,y+1),v!=null)return rse({layout:o,barSettings:h,pos:s,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:v,offset:t,cells:d,dataStartIndex:g})}}),Iae=["index"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(null,arguments)}function Rae(t,e){if(t==null)return{};var n,r,i=Pae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YV=_.createContext(void 0),Nae=t=>{var e=_.useContext(YV);if(e!=null)return e.stackId;if(t!=null)return jK(t)},Dae=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Mae=t=>{var e=_.useContext(YV);if(e!=null){var{stackId:n}=e;return"url(#".concat(Dae(n,t),")")}},kae=t=>{var{index:e}=t,n=Rae(t,Iae),r=Mae(e);return _.createElement(wn,bb({className:"recharts-bar-stack-layer",clipPath:r},n))},jae=["onMouseEnter","onMouseLeave","onClick"],Lae=["value","background","tooltipPosition"],Vae=["id"],Uae=["onMouseEnter","onClick","onMouseLeave"];function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(null,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=Bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ap(t,e){if(t==null)return{};var n,r,i=Fae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hae=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Pg(n,e),payload:t}]},qae=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o,tooltipType:l,id:u}=t,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Pg(a,e),hide:s,type:l,color:i,unit:o,graphicalItemId:u}};return _.createElement(MV,{tooltipEntrySettings:c})});function Gae(t){var e=me(vo),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=Ap(a,jae),c=JT(s,r,a.id),h=e1(o),d=t1(l,r,a.id);if(!i||n==null)return null;var m=Lm(i);return _.createElement(oa,{zIndex:Yre(i,Sr.barBackground)},n.map((g,y)=>{var{value:w,background:v,tooltipPosition:E}=g,S=Ap(g,Lae);if(!v)return null;var O=c(g,y),N=h(g,y),k=d(g,y),A=_n(_n(_n(_n(_n({option:i,isActive:String(y)===e},S),{},{fill:"#eee"},v),m),bg(u,g,y)),{},{onMouseEnter:O,onMouseLeave:N,onClick:k,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return _.createElement(Sp,Xi({key:"background-bar-".concat(y)},A))}))}function Kae(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return _n(_n({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return _.createElement(sne,{value:e?i:void 0},n)}function Yae(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,o=me(vo),l=me(FT),u=n&&String(a)===o&&(l==null||s===l),c=u?n:e;return u?_.createElement(oa,{zIndex:Sr.activeBar},_.createElement(Sp,Xi({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):_.createElement(Sp,Xi({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function Wae(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return _.createElement(Sp,Xi({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function Xae(t){var e,{data:n,props:r}=t,i=(e=ri(r))!==null&&e!==void 0?e:{},{id:a}=i,s=Ap(i,Vae),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:h,onMouseLeave:d}=r,m=Ap(r,Uae),g=JT(c,l,a),y=e1(d),w=t1(h,l,a);return n?_.createElement(_.Fragment,null,n.map((v,E)=>_.createElement(kae,Xi({index:E,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(E),className:"recharts-bar-rectangle"},bg(m,v,E),{onMouseEnter:g(v,E),onMouseLeave:y(v,E),onClick:w(v,E)}),u?_.createElement(Yae,{shape:o,activeBar:u,baseProps:s,entry:v,index:E,dataKey:l}):_.createElement(Wae,{shape:o,baseProps:s,entry:v,index:E,dataKey:l})))):null}function Qae(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,h=n.current,d=Fg(e,"recharts-bar-"),[m,g]=_.useState(!1),y=!m,w=_.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=_.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return _.createElement(Kae,{showLabels:y,rects:r},_.createElement($g,{animationId:d,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:w,onAnimationStart:v,key:d},E=>{var S=E===1?r:r==null?void 0:r.map((O,N)=>{var k=h&&h[N];if(k)return _n(_n({},O),{},{x:Ct(k.x,O.x,E),y:Ct(k.y,O.y,E),width:Ct(k.width,O.width,E),height:Ct(k.height,O.height,E)});if(i==="horizontal"){var A=Ct(0,O.height,E),x=Ct(O.stackedBarStart,O.y,E);return _n(_n({},O),{},{y:x,height:A})}var C=Ct(0,O.width,E),P=Ct(O.stackedBarStart,O.x,E);return _n(_n({},O),{},{width:C,x:P})});return E>0&&(n.current=S??null),S==null?null:_.createElement(wn,null,_.createElement(Xae,{props:e,data:S}))}),_.createElement(AV,{label:e.label}),e.children)}function Zae(t){var e=_.useRef(null);return _.createElement(Qae,{previousRectanglesRef:e,props:t})}var WV=0,Jae=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Ye(t,e)}};class ese extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(e||n==null)return null;var c=lt("recharts-bar",i),h=u;return _.createElement(wn,{className:c,id:u},o&&_.createElement("defs",null,_.createElement(Vie,{clipPathId:h,xAxisId:a,yAxisId:s})),_.createElement(wn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},_.createElement(Gae,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),_.createElement(Zae,this.props)))}}var tse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:WV,xAxisId:0,yAxisId:0,zIndex:Sr.bar};function nse(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:h}=GV(e,n),d=jg(),m=wr(),g=ZT(t.children,Yl),y=me(E=>Oae(E,t.id,m,g));if(d!=="vertical"&&d!=="horizontal")return null;var w,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?w=0:w=d==="vertical"?v.height/2:v.width/2,_.createElement(Lie,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:Jae,errorBarOffset:w},_.createElement(ese,Xi({},t,{layout:d,needClip:h,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function rse(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:h,offset:d,cells:m,parentViewBox:g,dataStartIndex:y}=t,w=e==="horizontal"?o:s,v=c?w.scale.domain():null,E=LK({numericAxis:w}),S=w.scale(E);return h.map((O,N)=>{var k,A,x,C,P,R;if(c){var M=c[N+y];if(M==null)return null;k=PK(M,v)}else k=Ye(O,n),Array.isArray(k)||(k=[E,k]);var D=fae(r,WV)(k[1],N);if(e==="horizontal"){var Z,[q,U]=[o.scale(k[0]),o.scale(k[1])];A=NC({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:O,index:N}),x=(Z=U??q)!==null&&Z!==void 0?Z:void 0,C=i.size;var Y=q-U;if(P=ii(Y)?0:Y,R={x:A,y:d.top,width:C,height:d.height},Math.abs(D)>0&&Math.abs(P)<Math.abs(D)){var K=tn(P||D)*(Math.abs(D)-Math.abs(P));x-=K,P+=K}}else{var[J,_e]=[s.scale(k[0]),s.scale(k[1])];if(A=J,x=NC({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:O,index:N}),C=_e-J,P=i.size,R={x:d.left,y:x,width:d.width,height:P},Math.abs(D)>0&&Math.abs(C)<Math.abs(D)){var pt=tn(C||D)*(Math.abs(D)-Math.abs(C));C+=pt}}if(A==null||x==null||C==null||P==null)return null;var gt=_n(_n({},O),{},{stackedBarStart:S,x:A,y:x,width:C,height:P,value:c?k:k[1],payload:O,background:R,tooltipPosition:{x:A+C/2,y:x+P/2},parentViewBox:g},m&&m[N]&&m[N].props);return gt}).filter(Boolean)}function ise(t){var e=tr(t,tse),n=Nae(e.stackId),r=wr();return _.createElement(kV,{id:e.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(Hne,{legendPayload:Hae(e)}),_.createElement(qae,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),_.createElement(ire,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(oa,{zIndex:e.zIndex},_.createElement(nse,Xi({},e,{id:i})))))}var XV=_.memo(ise,r1);XV.displayName="Bar";var ase=["domain","range"],sse=["domain","range"];function hR(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function lse(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=hR(t,ase),{domain:a,range:s}=e,o=hR(e,sse);return!dR(n,a)||!dR(r,s)?!1:r1(i,o)}var use=["dangerouslySetInnerHTML","ticks","scale"],cse=["id","scale"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function mR(t,e){if(t==null)return{};var n,r,i=fse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hse(t){var e=mt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(kre(t)):n.current!==t&&e(jre({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Lre(n.current)),n.current=null)},[e]),null}var dse=t=>{var{xAxisId:e,className:n}=t,r=me(Rj),i=wr(),a="xAxis",s=me(v=>gJ(v,a,e,i)),o=me(v=>N4(v,e)),l=me(v=>hJ(v,e)),u=me(v=>d4(v,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:h,scale:d}=t,m=mR(t,use),{id:g,scale:y}=u,w=mR(u,cse);return _.createElement(HV,Eb({},m,w,{x:l.x,y:l.y,width:o.width,height:o.height,className:lt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},mse={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,angle:Lt.angle,axisLine:$d.axisLine,height:Lt.height,hide:!1,includeHidden:Lt.includeHidden,interval:Lt.interval,minTickGap:Lt.minTickGap,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tick:Lt.tick,tickCount:Lt.tickCount,tickLine:$d.tickLine,tickSize:$d.tickSize,type:Lt.type,xAxisId:0},pse=t=>{var e=tr(t,mse);return _.createElement(_.Fragment,null,_.createElement(hse,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(dse,e))},QV=_.memo(pse,lse);QV.displayName="XAxis";var gse=(t,e)=>e,i1=L([gse,Se,f4,Mt,Q4,ws,Tee,Ft],Cee),a1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},ZV=br("mouseClick"),JV=Qf();JV.startListening({actionCreator:ZV,effect:(t,e)=>{var n=t.payload,r=i1(e.getState(),a1(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(CJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var wb=br("mouseMove"),e3=Qf(),cd=null;e3.startListening({actionCreator:wb,effect:(t,e)=>{var n=t.payload;cd!==null&&cancelAnimationFrame(cd);var r=a1(n);cd=requestAnimationFrame(()=>{var i=e.getState(),a=V4(i,i.tooltip.settings.shared);if(a==="axis"){var s=i1(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(F4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch($4())}cd=null})}});function vse(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var pR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},t3=kn({name:"rootProps",initialState:pR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:pR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),yse=t3.reducer,{updateOptions:_se}=t3.actions,n3=kn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:bse}=n3.actions,Ese=n3.reducer,r3=br("keyDown"),i3=br("focus"),s1=Qf();s1.startListening({actionCreator:r3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=VT(i,_u(n),lh(n),hh(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=ws(n);if(a==="Enter"){var u=_p(n,"axis","hover",String(i.index));e.dispatch(pb({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=_J(n),h=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,m=o+d*h;if(!(l==null||m>=l.length||m<0)){var g=_p(n,"axis","hover",String(m));e.dispatch(pb({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});s1.startListening({actionCreator:i3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=_p(n,"axis","hover",String(a));e.dispatch(pb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ir=br("externalEvent"),a3=Qf(),s0=new Map;a3.startListening({actionCreator:ir,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=s0.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:mee(o),activeDataKey:FT(o),activeIndex:vo(o),activeLabel:J4(o),activeTooltipIndex:vo(o),isTooltipActive:pee(o)};n(l,r)}finally{s0.delete(i)}});s0.set(i,s)}}});var wse=L([fh],t=>t.tooltipItemPayloads),Tse=L([wse,ch,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),s3=br("touchMove"),o3=Qf();o3.startListening({actionCreator:s3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=V4(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=i1(r,a1({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(F4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(Oj),h=(o=u.getAttribute(Ij))!==null&&o!==void 0?o:void 0,d=yu(r).find(y=>y.id===h);if(c==null||d==null||h==null)return;var{dataKey:m}=d,g=Tse(r,c,h);e.dispatch(B4({activeDataKey:m,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:h}))}}}});var Sse=Qk({brush:Wre,cartesianAxis:Vre,chartData:Xee,errorBars:Pie,graphicalItems:nre,layout:AK,legend:OY,options:Gee,polarAxis:vne,polarOptions:Ese,referenceElements:nie,rootProps:yse,tooltip:OJ,zIndex:Bee}),Ase=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return XG({reducer:Sse,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([JV.middleware,e3.middleware,s1.middleware,a3.middleware,o3.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(hj({type:"raf"}))},devTools:{serialize:{replacer:vse},name:"recharts-".concat(n)}})};function l3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=wr(),a=_.useRef(null);if(i)return n;a.current==null&&(a.current=Ase(e,r));var s=Iw;return _.createElement(sae,{context:s,store:a.current},n)}function xse(t){var{layout:e,margin:n}=t,r=mt(),i=wr();return _.useEffect(()=>{i||(r(wK(e)),r(EK(n)))},[r,i,e,n]),null}var u3=_.memo(xse,r1);function c3(t){var e=mt();return _.useEffect(()=>{e(_se(t))},[e,t]),null}function gR(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=mt();return _.useLayoutEffect(()=>(r.current&&i(Uee({zIndex:e,element:r.current,isPanorama:n})),()=>{i(zee({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function vR(t){var{children:e,isPanorama:n}=t,r=me(Iee);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return _.createElement(_.Fragment,null,i.map(s=>_.createElement(gR,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>_.createElement(gR,{key:s,zIndex:s,isPanorama:n})))}var Cse=["children"];function Ose(t,e){if(t==null)return{};var n,r,i=Ise(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(null,arguments)}var Rse={width:"100%",height:"100%",display:"block"},Pse=_.forwardRef((t,e)=>{var n=dY(),r=mY(),i=IY();if(!us(n)||!us(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=t,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),_.createElement(fk,xp({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Rse,ref:e}),a)}),Nse=t=>{var{children:e}=t,n=me(kg);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return _.createElement(fk,{width:r,height:i,x:s,y:a},e)},yR=_.forwardRef((t,e)=>{var{children:n}=t,r=Ose(t,Cse),i=wr();return i?_.createElement(Nse,null,_.createElement(vR,{isPanorama:!0},n)):_.createElement(Pse,xp({ref:e},r),_.createElement(vR,{isPanorama:!1},n))});function Dse(){var t=mt(),[e,n]=_.useState(null),r=me(FK);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;tt(a)&&a!==r&&t(SK(a))}},[e,t,r]),n}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(null,arguments)}var Vse=()=>(ate(),null);function Cp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Use=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[a,s]=_.useState({containerWidth:Cp((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Cp((r=t.style)===null||r===void 0?void 0:r.height)}),o=_.useCallback((u,c)=>{s(h=>{var d=Math.round(u),m=Math.round(c);return h.containerWidth===d&&h.containerHeight===m?h:{containerWidth:d,containerHeight:m}})},[]),l=_.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:h}=u.getBoundingClientRect();o(c,h);var d=g=>{var{width:y,height:w}=g[0].contentRect;o(y,w)},m=new ResizeObserver(d);m.observe(u),i.current=m}},[e,o]);return _.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),_.createElement(_.Fragment,null,_.createElement(Lg,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",_o({ref:l},t)))}),zse=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=_.useState({containerWidth:Cp(n),containerHeight:Cp(r)}),s=_.useCallback((l,u)=>{a(c=>{var h=Math.round(l),d=Math.round(u);return c.containerWidth===h&&c.containerHeight===d?c:{containerWidth:h,containerHeight:d}})},[]),o=_.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[e,s]);return _.createElement(_.Fragment,null,_.createElement(Lg,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",_o({ref:o},t)))}),Bse=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(Lg,{width:n,height:r}),_.createElement("div",_o({ref:e},t)))}),$se=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Hi(n)||Hi(r)?_.createElement(zse,_o({},t,{ref:e})):_.createElement(Bse,_o({},t,{ref:e}))});function Fse(t){return t===!0?Use:$se}var Hse=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:h,onMouseUp:d,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:w,width:v,responsive:E,dispatchTouchEvents:S=!0}=t,O=_.useRef(null),N=mt(),[k,A]=_.useState(null),[x,C]=_.useState(null),P=Dse(),R=Uw(),M=(R==null?void 0:R.width)>0?R.width:v,D=(R==null?void 0:R.height)>0?R.height:i,Z=_.useCallback(F=>{P(F),typeof e=="function"&&e(F),A(F),C(F),F!=null&&(O.current=F)},[P,e,A,C]),q=_.useCallback(F=>{N(ZV(F)),N(ir({handler:a,reactEvent:F}))},[N,a]),U=_.useCallback(F=>{N(wb(F)),N(ir({handler:u,reactEvent:F}))},[N,u]),Y=_.useCallback(F=>{N($4()),N(ir({handler:c,reactEvent:F}))},[N,c]),K=_.useCallback(F=>{N(wb(F)),N(ir({handler:h,reactEvent:F}))},[N,h]),J=_.useCallback(()=>{N(i3())},[N]),_e=_.useCallback(F=>{N(r3(F.key))},[N]),pt=_.useCallback(F=>{N(ir({handler:s,reactEvent:F}))},[N,s]),gt=_.useCallback(F=>{N(ir({handler:o,reactEvent:F}))},[N,o]),mn=_.useCallback(F=>{N(ir({handler:l,reactEvent:F}))},[N,l]),ee=_.useCallback(F=>{N(ir({handler:d,reactEvent:F}))},[N,d]),Ae=_.useCallback(F=>{N(ir({handler:y,reactEvent:F}))},[N,y]),xr=_.useCallback(F=>{S&&N(s3(F)),N(ir({handler:g,reactEvent:F}))},[N,S,g]),Ts=_.useCallback(F=>{N(ir({handler:m,reactEvent:F}))},[N,m]),Ss=Fse(E);return _.createElement($ee.Provider,{value:k},_.createElement(HH.Provider,{value:x},_.createElement(Ss,{width:M??(w==null?void 0:w.width),height:D??(w==null?void 0:w.height),className:lt("recharts-wrapper",r),style:Mse({position:"relative",cursor:"default",width:M,height:D},w),onClick:q,onContextMenu:pt,onDoubleClick:gt,onFocus:J,onKeyDown:_e,onMouseDown:mn,onMouseEnter:U,onMouseLeave:Y,onMouseMove:K,onMouseUp:ee,onTouchEnd:Ts,onTouchMove:xr,onTouchStart:Ae,ref:Z},_.createElement(Vse,null),n)))}),qse=["width","height","responsive","children","className","style","compact","title","desc"];function Gse(t,e){if(t==null)return{};var n,r,i=Kse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f3=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=t,h=Gse(t,qse),d=ri(h);return l?_.createElement(_.Fragment,null,_.createElement(Lg,{width:n,height:r}),_.createElement(yR,{otherAttributes:d,title:u,desc:c},a)):_.createElement(Hse,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(yR,{otherAttributes:d,title:u,desc:c,ref:e},_.createElement(iie,null,a)))});function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(null,arguments)}var Yse={top:5,right:5,bottom:5,left:5},Wse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Yse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xse=_.forwardRef(function(e,n){var r,i=tr(e.categoricalChartProps,Wse),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return _.createElement(l3,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},_.createElement(zV,{chartData:u.data}),_.createElement(u3,{layout:i.layout,margin:i.margin}),_.createElement(c3,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(f3,Tb({},i,{ref:n})))}),Qse=["axis","item"],Zse=_.forwardRef((t,e)=>_.createElement(Xse,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qse,tooltipPayloadSearcher:sV,categoricalChartProps:t,ref:e}));function Jse(t){var e=mt();return _.useEffect(()=>{e(bse(t))},[e,t]),null}var eoe=["layout"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(null,arguments)}function toe(t,e){if(t==null)return{};var n,r,i=noe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function noe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var roe={top:5,right:5,bottom:5,left:5},h3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:roe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ioe=_.forwardRef(function(e,n){var r,i=tr(e.categoricalChartProps,h3),{layout:a}=i,s=toe(i,eoe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(l3,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},_.createElement(zV,{chartData:i.data}),_.createElement(u3,{layout:a,margin:i.margin}),_.createElement(c3,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(Jse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(f3,Sb({},s,{ref:n})))});function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aoe(t,e,n){return(e=soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function soe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var loe=["item"],uoe=ER(ER({},h3),{},{layout:"centric",startAngle:0,endAngle:360}),wR=_.forwardRef((t,e)=>{var n=tr(t,uoe);return _.createElement(ioe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:loe,tooltipPayloadSearcher:sV,categoricalChartProps:n,ref:e})});const coe=t=>t===0?{mood:"Resting",accessory:"",color:"#999",class:"mood-resting"}:t<3?{mood:"Happy",accessory:"",color:"#4CAF50",class:"mood-happy"}:t<7?{mood:"Fired Up",accessory:"",color:"#ff9800",class:"mood-fired"}:t<14?{mood:"Elite",accessory:"",color:"#2196f3",class:"mood-elite"}:{mood:"Legendary",accessory:"",color:"#ffd700",class:"mood-legendary"},foe=t=>t<5?{emoji:"",stage:"Egg"}:t<20?{emoji:"",stage:"Hatchling"}:{emoji:"",stage:"Scholar Owl"},TR=["#8884d8","#e0e0e0"];function hoe(){const{data:t,loading:e,error:n}=Ew();if(e||!t)return T.jsx("div",{className:"progress-dashboard",children:T.jsx("div",{className:"bento-grid",children:T.jsx("div",{className:"card",style:{gridColumn:"span 1",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"120px"},children:T.jsxs("div",{style:{textAlign:"center",color:"#999"},children:[T.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),T.jsx("div",{children:"Loading analytics..."})]})})})});if(n)return T.jsx("div",{className:"progress-dashboard",children:T.jsx("div",{className:"bento-grid",children:T.jsx("div",{className:"card",style:{gridColumn:"span 1",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"120px"},children:T.jsxs("div",{style:{textAlign:"center",color:"#dc2626"},children:[T.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),T.jsx("div",{children:"Error loading data"})]})})})});const r=foe(t.hoursSpent||0),i=coe(t.streak||0),a=[{value:(t.hoursSpent||0)%10},{value:10-(t.hoursSpent||0)%10}],s=[{value:t.completedTasks||0},{value:(t.totalTasks||0)-(t.completedTasks||0)}];return T.jsx("div",{className:"progress-dashboard",children:T.jsxs("div",{className:"bento-grid",children:[T.jsx("div",{className:"card time-spent",children:T.jsxs("div",{className:"card-content",children:[T.jsx("p",{className:"card-label",children:"Focus XP"}),T.jsx("div",{className:"mini-chart",children:T.jsx(Fy,{width:"100%",height:70,children:T.jsx(wR,{children:T.jsx(yb,{data:a,innerRadius:18,outerRadius:28,dataKey:"value",stroke:"none",children:a.map((o,l)=>T.jsx(Yl,{fill:TR[l]},l))})})})})]})}),T.jsxs("div",{className:`card pet-card ${i.class}`,children:[T.jsx("p",{className:"card-label",children:"Focus Companion"}),T.jsxs("div",{className:"pet-container",children:[T.jsxs("div",{className:"pet-visual-wrapper",children:[T.jsx("span",{className:"pet-accessory",children:i.accessory}),T.jsx("span",{className:"pet-emoji",children:r.emoji})]}),T.jsxs("div",{className:"pet-info",children:[T.jsx("span",{className:"pet-mood-tag",style:{backgroundColor:i.color},children:i.mood}),T.jsx("h4",{className:"pet-stage-name",children:r.stage})]})]})]}),T.jsxs("div",{className:"card achievements-card",children:[T.jsx("p",{className:"card-label",children:"Milestones"}),T.jsx("div",{className:"badge-row",children:(t.achievements||[]).map(o=>T.jsx("div",{className:`badge-item ${o.unlocked?"":"locked"}`,children:T.jsx("span",{className:"badge-icon",title:o.title,children:o.icon})},o.id))}),T.jsxs("p",{className:"streak-footer",children:["Current Streak: ",t.streak||0," Days"]})]}),T.jsxs("div",{className:"card task-completion",children:[T.jsx(Fy,{width:"100%",height:90,children:T.jsx(wR,{children:T.jsx(yb,{data:s,innerRadius:25,outerRadius:38,dataKey:"value",stroke:"none",children:s.map((o,l)=>T.jsx(Yl,{fill:TR[l]},l))})})}),T.jsx("p",{className:"tiny-label",children:"Tasks Done"})]}),T.jsxs("div",{className:"card weekly-chart",children:[T.jsx("h3",{children:"Weekly Progress"}),T.jsx(Fy,{width:"100%",height:240,children:T.jsxs(Zse,{data:t.weeklyData||[],children:[T.jsx(XV,{dataKey:"value",fill:"#8884d8",radius:[6,6,0,0],barSize:18}),T.jsx(QV,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#999",fontSize:12}})]})})]}),T.jsxs("div",{className:"card assignment-tracker",children:[T.jsxs("h3",{children:["Assignments (",(t.assignments||[]).length,")"]}),T.jsx("div",{className:"tracker-list",children:(t.assignments||[]).map((o,l)=>T.jsxs("div",{className:"tracker-item",children:[T.jsx("div",{className:`checkbox-mock ${o.completed?"checked":""}`,children:o.completed&&""}),T.jsx("span",{className:o.completed?"strikethrough":"",children:o.title})]},l))})]})]})})}const d3=t=>$f(er,"users",t,"notes"),m3=(t,e)=>ea(er,"users",t,"notes",e),doe=(t,e)=>{if(!t)return()=>{};const n=af(d3(t),jm("timestamp","desc"));return Hf(n,r=>{const i=r.docs.map(a=>{const s=a.data();return{noteId:a.id,userId:t,title:s.title||"",content:s.content||"",timestamp:s.timestamp||null}});e(i)},r=>{console.error("Error syncing notes:",r)})},moe=async(t,e,n)=>t?(await bw(d3(t),{title:n||"",content:e||"",timestamp:qf()})).id:null,poe=async(t,e,n,r)=>{!r||!t||await tk(m3(r,t),{title:n||"",content:e||"",timestamp:qf()})},goe=async(t,e)=>{!e||!t||await nk(m3(e,t))},p3=async t=>{try{const e=await fetch("YOUR_BACKEND_URL/api/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(!e.ok)throw new Error("AI Request Failed");return(await e.json()).summary}catch{return"Error connecting to AI. Please check your connection."}};function voe({userId:t}){const[e,n]=_.useState([]),[r,i]=_.useState(null),[a,s]=_.useState(""),[o,l]=_.useState(""),[u,c]=_.useState(!1),[h,d]=_.useState(!1),[m,g]=_.useState(null),[y,w]=_.useState(""),[v,E]=_.useState(!1),[S,O]=_.useState(null),N=_.useRef(null);_.useEffect(()=>{if(!t)return;d(!0);const q=doe(t,U=>{n(U),d(!1)});return()=>q()},[t]),_.useEffect(()=>{if(y||m){const q=setTimeout(()=>{w(""),g(null)},3e3);return()=>clearTimeout(q)}},[y,m]);const k=(q,U=null)=>{document.execCommand(q,!1,U),N.current.focus()},A=q=>{i(q.noteId),s(q.title),N.current&&(N.current.innerHTML=q.content||""),g(null)},x=()=>{i(null),s(""),N.current&&(N.current.innerHTML=""),g(null)},C=()=>{if(!N.current)return;const q=N.current.innerText;navigator.clipboard.writeText(q),w("Copied to clipboard!")},P=async()=>{var Y;const q=((Y=N.current)==null?void 0:Y.innerHTML)||"",U=a.trim();if(!q.trim()&&!U){g("Please add a title or content before saving.");return}d(!0),g(null);try{if(r)await poe(r,q,U,t),w("Note updated successfully!");else{const K=await moe(t,q,U);i(K),w("New note created successfully!")}}catch(K){console.error("Save error:",K),g("Failed to save note. Please try again.")}finally{d(!1)}},R=(q,U)=>{q.stopPropagation(),O(U),E(!0)},M=async()=>{if(S)try{await goe(S,t),r===S&&x(),w("Note deleted.")}catch{g("Failed to delete note.")}finally{E(!1),O(null)}},D=async()=>{var U;const q=(U=N.current)==null?void 0:U.innerText;if(!(q!=null&&q.trim())){g("Please write something to summarize.");return}c(!0);try{const K=`<br/><div class="ai-summary-block"><strong> AI SUMMARY:</strong><br/>${await p3(q)}</div>`;N.current&&(N.current.innerHTML+=K),w("Summary generated!")}catch{g("AI Summary failed.")}finally{c(!1)}},Z=e.filter(q=>q.content.toLowerCase().includes(o.toLowerCase())||q.title.toLowerCase().includes(o.toLowerCase()));return T.jsxs("div",{className:"focuspad-root",children:[(y||m)&&T.jsx("div",{className:`fp-banner ${m?"error":"success"}`,style:{position:"fixed",top:"20px",right:"20px",padding:"10px 20px",backgroundColor:m?"#ffdddd":"#ddffdd",color:m?"#d8000c":"#4f8a10",borderRadius:"4px",zIndex:1e3,boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:m||y}),v&&T.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100},children:T.jsxs("div",{className:"modal-content",style:{background:"white",padding:"20px",borderRadius:"8px"},children:[T.jsx("h3",{children:"Delete Note?"}),T.jsx("p",{children:"Are you sure you want to delete this note?"}),T.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[T.jsx("button",{onClick:()=>E(!1),children:"Cancel"}),T.jsx("button",{onClick:M,style:{background:"red",color:"white"},children:"Delete"})]})]})}),T.jsxs("aside",{className:"fp-sidebar",children:[T.jsxs("div",{className:"fp-sidebar-header",children:[T.jsx("input",{type:"text",placeholder:"Search notes...",className:"fp-search",value:o,onChange:q=>l(q.target.value)}),T.jsx("button",{className:"fp-btn-new",onClick:x,children:"+ New Note"})]}),T.jsx("div",{className:"fp-note-list",children:Z.map(q=>T.jsxs("div",{className:`fp-note-item ${r===q.noteId?"active":""}`,onClick:()=>A(q),children:[T.jsxs("div",{className:"fp-note-content",children:[T.jsx("strong",{children:q.title||"Untitled Note"}),T.jsx("p",{children:q.content.replace(/<[^>]*>/g,"").substring(0,35)})]}),T.jsx("button",{className:"fp-del-btn",onClick:U=>R(U,q.noteId),children:""})]},q.noteId))})]}),T.jsxs("main",{className:"fp-editor",children:[T.jsx("header",{className:"fp-editor-nav",children:T.jsxs("div",{className:"fp-toolbar-group",children:[T.jsx("button",{className:"fp-tool-btn",onClick:()=>k("bold"),children:T.jsx("b",{children:"B"})}),T.jsx("button",{className:"fp-tool-btn",onClick:()=>k("italic"),children:T.jsx("i",{children:"I"})}),T.jsx("button",{className:"fp-tool-btn highlight",onClick:()=>k("hiliteColor","#A2D2FF"),children:"Highlight"}),T.jsx("button",{className:"fp-tool-btn",onClick:C,children:"Copy"}),T.jsx("div",{className:"fp-divider"}),T.jsx("button",{className:"fp-btn-ai",onClick:D,disabled:u,children:u?"Thinking...":" Summarize"}),T.jsx("button",{className:"fp-btn-save",onClick:P,disabled:h,children:h?"Saving...":"Save"})]})}),T.jsxs("div",{className:"fp-canvas",children:[T.jsx("input",{type:"text",className:"fp-title-input",placeholder:"Untitled Note",value:a,onChange:q=>s(q.target.value)}),T.jsx("div",{className:"fp-content-editable",contentEditable:"true",ref:N,"data-placeholder":"Start typing your focus plan..."})]})]})]})}function yoe(){const[t,e]=_.useState([{role:"assistant",content:"Hi! I'm Mentora. How can I help you reach your focus goals today?"}]),[n,r]=_.useState(""),[i,a]=_.useState(!1),s=_.useRef(null);_.useEffect(()=>{var l;(l=s.current)==null||l.scrollIntoView({behavior:"smooth"})},[t]);const o=async()=>{if(!n.trim()||i)return;const l={role:"user",content:n};e(u=>[...u,l]),r(""),a(!0);try{const u=await p3(n);e(c=>[...c,{role:"assistant",content:u}])}catch{e(c=>[...c,{role:"assistant",content:"Sorry, I'm having trouble connecting right now."}])}finally{a(!1)}};return T.jsx("div",{className:"mentora-page",children:T.jsxs("div",{className:"mentora-chat-container",children:[T.jsxs("header",{className:"mentora-header",children:[T.jsx("div",{className:"status-indicator"}),T.jsx("h2",{children:"Mentora AI Guide"})]}),T.jsxs("div",{className:"mentora-chat-window",children:[t.map((l,u)=>T.jsx("div",{className:`chat-bubble-wrapper ${l.role}`,children:T.jsx("div",{className:`chat-bubble ${l.role}`,children:l.content})},u)),i&&T.jsx("div",{className:"chat-bubble-wrapper assistant",children:T.jsx("div",{className:"chat-bubble assistant",children:T.jsx("span",{className:"typing-loader",children:"Thinking..."})})}),T.jsx("div",{ref:s})]}),T.jsx("div",{className:"mentora-input-wrapper",children:T.jsxs("div",{className:"mentora-input-bar",children:[T.jsx("input",{value:n,onChange:l=>r(l.target.value),onKeyDown:l=>l.key==="Enter"&&o(),placeholder:"Type your message here..."}),T.jsx("button",{onClick:o,className:"btn-send",title:"Send Message",children:""})]})})]})})}const _oe=async t=>{var r;const n=`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(t)}&maxResults=20&type=video&key=undefined`;try{const a=await(await fetch(n)).json();if(a.error)throw new Error(a.error.message);const s=["27","28"],o=["tutorial","lesson","coding","explained","course","lecture"];return{success:!0,data:(a.items||[]).filter(u=>{const c=u.snippet.title.toLowerCase(),h=u.snippet.categoryId,d=s.includes(h),m=o.some(g=>c.includes(g));return d||m}),totalFound:((r=a.items)==null?void 0:r.length)||0}}catch(i){return console.error("YouTube Service Error:",i),{success:!1,data:[],error:i.message}}};function boe(){const[t,e]=_.useState([]),[n,r]=_.useState(!1),[i,a]=_.useState(!1),[s,o]=_.useState(!1),[l,u]=_.useState(null),c=async h=>{if(!h)return;o(!0),a(!1);const d=await _oe(h);r(!0),o(!1),d.success&&(e(d.data),a(d.totalFound>0&&d.data.length===0))};return T.jsx("div",{className:"yt-container",children:l?T.jsxs("div",{className:"yt-player-view",children:[T.jsx("button",{className:"back-btn",onClick:()=>u(null),children:" Back to Results"}),T.jsx("div",{className:"video-responsive",children:T.jsx("iframe",{src:`https://www.youtube.com/embed/${l.id.videoId}?rel=0&modestbranding=1&autoplay=1`,title:"YouTube video player",frameBorder:"0",allowFullScreen:!0})}),T.jsxs("div",{className:"yt-player-info",children:[T.jsx("h2",{children:l.snippet.title}),T.jsx("p",{children:l.snippet.channelTitle})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"yt-header",children:[T.jsx("h1",{children:"YouTube Focus Mode"}),T.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"20px"},children:"Distraction-free learning. Only educational content allowed."}),T.jsx("div",{className:"yt-search-wrapper",children:T.jsx("input",{type:"text",placeholder:"Search tutorials, lectures, or topics... ",onKeyDown:h=>h.key==="Enter"&&c(h.target.value)})})]}),T.jsxs("div",{className:"yt-content",children:[s&&T.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[T.jsx("div",{className:"loader"}),T.jsx("p",{children:"Filtering distractions..."})]}),i&&!s&&T.jsxs("div",{className:"distraction-warning",children:[T.jsx("span",{className:"warning-icon",children:""}),T.jsx("h3",{children:"Distraction Blocked"}),T.jsx("p",{children:'That topic seems non-educational. Try "Data Structures" or "Chemistry Basics".'})]}),!n&&!s&&T.jsxs("div",{style:{textAlign:"center",opacity:.5,marginTop:"100px"},children:[T.jsx("span",{style:{fontSize:"4rem"},children:""}),T.jsx("h3",{children:"Ready to learn?"}),T.jsx("p",{children:"Search for a topic to start your focused study session."})]}),T.jsx("div",{className:"yt-grid",children:!s&&t.map(h=>T.jsxs("div",{className:"yt-card",onClick:()=>u(h),children:[T.jsx("img",{src:h.snippet.thumbnails.medium.url,alt:"thumbnail"}),T.jsxs("div",{className:"yt-card-body",children:[T.jsx("h3",{children:h.snippet.title}),T.jsx("span",{children:h.snippet.channelTitle})]})]},h.id.videoId))})]})]})})}function Eoe(){const{user:t,loading:e}=_.useContext(Kf),[n,r]=_.useState("login"),[i,a]=_.useState(10),[s,o]=_.useState(localStorage.getItem("theme")||"light"),[l,u]=_.useState(0),[c,h]=_.useState(["Welcome back! Stay focused "]);return _.useEffect(()=>{localStorage.setItem("theme",s),document.body.setAttribute("data-theme",s)},[s]),_.useEffect(()=>{e||(t&&(n==="login"||n==="register")&&r("home"),!t&&n!=="login"&&n!=="register"&&r("login"))},[t,e,n]),e?null:t?T.jsxs("div",{className:`app-container ${s}`,"data-theme":s,children:[T.jsx(uH,{onNavigate:r,currentView:n,theme:s,setTheme:o}),T.jsxs("div",{className:"main-wrapper",style:{flex:1,marginLeft:"240px",transition:"margin 0.3s ease"},children:[T.jsx(gH,{title:n==="profile"?"PERSONAL INFORMATION":n.toUpperCase(),streak:i}),T.jsxs("div",{className:"content-container",children:[n==="home"&&T.jsx(yH,{onNavigate:r,notifications:c,focusMinutes:l}),n==="tasks"&&T.jsx(TH,{}),n==="profile"&&T.jsx(IH,{streak:i,setStreak:a}),n==="pomodoro"&&T.jsx(MH,{onSessionComplete:d=>{u(m=>m+d),h(m=>[`You completed a ${d} min focus session `,...m])}}),n==="focuspad"&&T.jsx(voe,{userId:t.uid||t.id}),n==="progress"&&T.jsx(hoe,{}),n==="mentora"&&T.jsx(yoe,{userId:t.uid||t.id}),n==="youtube"&&T.jsx(boe,{})]})]})]}):T.jsx("div",{className:"auth-wrapper","data-theme":s,children:n==="register"?T.jsx(AH,{onNavigate:r}):T.jsx(SH,{onNavigate:r})})}$z.createRoot(document.getElementById("root")).render(T.jsx(DR.StrictMode,{children:T.jsx(oH,{children:T.jsx(Eoe,{})})}));
